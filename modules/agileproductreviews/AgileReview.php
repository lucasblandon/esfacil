<?php /*
///-build_id: 2014100222.21
/// This source file is subject to the Software License Agreement that is bundled with this 
/// package in the file license.txt, or you can get it here
/// http://addons-modules.com/store/en/content/3-terms-and-conditions-of-use
///
/// @copyright  2009-2012 Addons-Modules.com
///
*/
${"G\x4c\x4fB\x41LS"}["\x73\x6a\x69\x70\x79he\x61\x79"]="\x72\x65\x74";${"\x47\x4c\x4f\x42\x41L\x53"}["\x74\x63\x71c\x6fk\x6d"]="r\x6f\x77";${"\x47\x4c\x4f\x42\x41LS"}["\x6f\x78c\x74x\x76"]="c\x75\x73\x74\x6f\x6de\x72";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x79\x63\x64\x72i\x72"]="\x69\x64\x5fa\x67\x69le\x5f\x63\x72\x69\x74\x65rio\x6e";${"G\x4cOBA\x4cS"}["\x74\x6aqe\x71\x66kf"]="\x67\x72\x61\x64e";${"\x47\x4cO\x42\x41L\x53"}["\x68h\x78\x66\x63g\x6exg\x68\x66"]="i\x64\x5fa\x67i\x6ce_\x72\x65\x76\x69\x65\x77";${"\x47L\x4fB\x41\x4c\x53"}["\x6f\x62i\x6b\x6c\x71\x78"]="re\x73\x75\x6c\x74";${"\x47\x4cOBA\x4c\x53"}["\x6ec\x63g\x71\x68\x76\x71"]="k\x65\x79";${"GL\x4f\x42A\x4c\x53"}["\x72\x6a\x78\x61\x6c\x77\x6c"]="c\x72\x69t\x65\x72\x69o\x6e\x47\x72\x61\x64eT\x6f\x74\x61l";${"G\x4c\x4f\x42\x41\x4cS"}["\x6ck\x6e\x74u\x75lfx\x78j"]="\x61\x76\x65\x72age\x73";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6b\x69\x76\x79r\x67h\x6f\x66k\x61"]="c\x72\x69\x74\x65rio\x6e\x73G\x72a\x64\x65\x54\x6f\x74\x61\x6c";${"\x47\x4c\x4fB\x41\x4c\x53"}["y\x68\x72\x6ce\x61r\x79"]="\x69";${"\x47LO\x42\x41\x4c\x53"}["\x74\x67\x77\x6c\x65\x6de"]="t\x6f\x74\x61\x6c";${"\x47LOB\x41LS"}["\x72\x78cg\x6ewp\x73"]="g\x72a\x64e\x73";${"G\x4c\x4f\x42\x41LS"}["f\x70\x73e\x76rs\x79\x6e\x6f"]="\x76\x61\x6cid\x61t\x65";${"\x47\x4c\x4f\x42\x41L\x53"}["\x6f\x65b\x68\x66\x73\x6c"]="i\x64\x5f\x6c\x61\x6e\x67";${"\x47\x4c\x4f\x42\x41L\x53"}["\x74\x79\x64q\x6f\x65\x65\x76sc"]="\x73ql";${"\x47L\x4fB\x41\x4c\x53"}["\x67\x6f\x76h\x75\x70sf\x6b"]="\x6e";${"\x47L\x4fB\x41L\x53"}["\x62b\x6a\x78\x62\x77\x72"]="\x70";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["n\x70\x74\x6eb\x78d\x72\x6c\x66\x75\x78"]="\x69\x64\x5f\x70\x72\x6f\x64\x75c\x74";${"\x47\x4c\x4fBA\x4c\x53"}["x\x6bvke\x6e\x74\x6a\x77\x72s"]="fie\x6cd\x73";class AgileReview extends ObjectModel{public$id;const FOR_ALL_UNVALIDATED_REVIEWS=-1;public$id_product;public$customer;public$content;public$response;public$grade;public$ip_address;public$id_lang;public$validate=0;public$date_add;public$date_response;protected$fieldsRequired=array('id_product','customer','content');protected$fieldsSize=array('content'=>65535);protected$fieldsValidate=array('id_product'=>'isUnsignedId','grade'=>'isFloat','validate'=>'isBool');protected$table='agile_review';protected$identifier='id_agile_review';public	function getFields(){parent::validateFields(false);$mmjqgoqa="\x66ie\x6cd\x73";$ayopmlilgglo="\x66\x69e\x6c\x64\x73";$gverjlaa="\x66\x69el\x64\x73";${${"\x47L\x4fB\x41L\x53"}["x\x6b\x76\x6b\x65n\x74\x6a\x77\x72s"]}["\x69d_p\x72od\x75ct"]=intval($this->id_product);${$gverjlaa}["\x63usto\x6der"]=pSQL($this->customer);${$mmjqgoqa}["\x63\x6f\x6e\x74\x65nt"]=pSQL($this->content,true);${"\x47\x4c\x4f\x42\x41\x4c\x53"}["x\x70i\x65ic\x77\x6ei\x66"]="fie\x6c\x64s";${${"\x47\x4c\x4f\x42\x41L\x53"}["x\x6b\x76k\x65\x6e\x74\x6awr\x73"]}["re\x73p\x6fn\x73\x65"]=pSQL($this->response);${$ayopmlilgglo}["g\x72ade"]=floatval($this->grade);${${"GLOB\x41\x4cS"}["\x78k\x76\x6be\x6e\x74\x6aw\x72\x73"]}["ip\x5fad\x64r\x65ss"]=$this->ip_address;${${"\x47\x4c\x4f\x42\x41LS"}["\x78\x6b\x76k\x65ntj\x77\x72s"]}["\x69\x64_\x6c\x61ng"]=$this->id_lang;${${"GL\x4fB\x41\x4cS"}["\x78\x6b\x76\x6b\x65\x6e\x74\x6a\x77rs"]}["va\x6c\x69d\x61\x74\x65"]=intval($this->validate);${${"\x47\x4c\x4f\x42\x41L\x53"}["x\x70\x69\x65\x69cw\x6ei\x66"]}["d\x61\x74\x65\x5f\x72\x65\x73\x70on\x73\x65"]=pSQL($this->date_response);${${"\x47L\x4f\x42A\x4cS"}["x\x6b\x76ken\x74\x6aw\x72s"]}["\x64\x61\x74\x65_\x61dd"]=pSQL($this->date_add);return(${${"\x47\x4cOB\x41\x4c\x53"}["\x78k\x76ke\x6et\x6awr\x73"]});}static public function getByProduct($id_product,$id_lang=NULL,$p=1,$n=10){$wmtxulyj="\x70";$vcwbrjdtsdp="n";${"\x47\x4cO\x42\x41\x4cS"}["\x65\x66x\x79v\x69\x6b\x6e\x61\x6c\x72"]="\x76\x61\x6c\x69\x64\x61te";$eetlfj="\x6e";${"\x47L\x4f\x42A\x4c\x53"}["\x78\x6fd\x61\x72j\x6e\x71\x61q"]="\x6e";if(!Validate::isUnsignedId(${${"\x47\x4c\x4fB\x41LS"}["\x6ep\x74nb\x78d\x72\x6c\x66ux"]}))die(Tools::displayError());${"\x47\x4c\x4f\x42\x41L\x53"}["\x6f\x65\x70s\x68\x62"]="n";${${"\x47\x4c\x4f\x42\x41L\x53"}["ef\x78y\x76\x69\x6b\x6e\x61\x6c\x72"]}=Configuration::get("\x41\x47I\x4c\x45_\x50\x52\x45\x56\x49E\x57S\x5f\x4d\x4fD\x45RATE");${$wmtxulyj}=intval(${${"G\x4c\x4f\x42AL\x53"}["b\x62j\x78\x62\x77\x72"]});${"\x47\x4cO\x42A\x4c\x53"}["\x79\x70\x78w\x62\x76\x73\x6cpy"]="\x70";$imunaa="\x69d\x5f\x6can\x67";${${"\x47\x4cOBA\x4c\x53"}["go\x76\x68\x75p\x73\x66\x6b"]}=intval(${${"G\x4cO\x42AL\x53"}["\x67\x6f\x76\x68\x75\x70s\x66k"]});$ewjybl="\x69\x64_\x6c\x61\x6e\x67";$ljxicofpmns="i\x64_\x70\x72\x6fd\x75c\x74";${"\x47\x4c\x4fBA\x4cS"}["r\x76tn\x62\x71\x64"]="\x70";if(${${"\x47LOB\x41\x4cS"}["\x79\x70\x78w\x62\x76s\x6c\x70\x79"]}<=1)${${"GL\x4f\x42\x41\x4c\x53"}["\x62b\x6a\x78\x62\x77\x72"]}=1;if(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x78\x6fd\x61\x72\x6a\x6eqaq"]}<=0)${$eetlfj}=10;${${"\x47\x4cO\x42A\x4c\x53"}["\x74\x79\x64\x71\x6fe\x65v\x73\x63"]}="\n\t\tSE\x4cE\x43\x54 \x70c\x2e`i\x64\x5fag\x69le\x5fr\x65\x76i\x65\x77\x60,\x70\x6c\x2e\x6e\x61m\x65 \x61\x73 prod\x75\x63\x74_\x6e\x61\x6de,\x20\x70c.\x60\x63\x75\x73\x74\x6fm\x65r\x60,p\x63\x2e\x60\x63o\x6e\x74e\x6et\x60,p\x63.r\x65\x73po\x6es\x65,p\x63\x2edat\x65_\x72e\x73\x70ons\x65, p\x63\x2e`g\x72a\x64e`, \x70\x63\x2e\x60\x64\x61\x74e_\x61\x64d\x60,p\x63.ye\x73_\x63\x6funte\x72, \x70c\x2e\x6e\x6f_c\x6f\x75\x6e\x74er\n\t\t  FRO\x4d\x20`"._DB_PREFIX_."a\x67\x69\x6ce\x5frev\x69ew`\x20p\x63\n\t\t\x20 \x20\x20\x4cE\x46\x54 \x4aOIN\x20`"._DB_PREFIX_."prod\x75\x63\x74\x5flang\x60 \x70l \x6f\x6e (\x70\x63\x2eid_p\x72oduc\x74\x3d\x70\x6c.i\x64\x5f\x70\x72\x6f\x64\x75c\x74\x20\x41\x4eD pl\x2e\x69\x64_lang\x20=\x20".(intval(${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6f\x65\x62\x68\x66\x73l"]})>0?${$ewjybl}:Configuration::get("P\x53\x5f\x4cANG_\x44EF\x41U\x4cT"))." \x41\x4eD p\x6c.i\x64\x5fs\x68\x6f\x70=".(int)Shop::getContextShopID().")  \n\t\t\x57HERE\x20p\x63\x2e\x60\x69d\x5fpr\x6f\x64\x75ct\x60\x20\x3d ".intval(${$ljxicofpmns}).(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x66\x70\x73e\x76\x72\x73\x79n\x6f"]}=="\x31"?" A\x4eD \x70\x63.`\x76a\x6c\x69da\x74e\x60\x20=\x20\x31":"")."\n\t\t     ".(intval(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["oe\x62h\x66s\x6c"]})>0?"\x20A\x4e\x44 \x70\x63.\x69\x64_\x6ca\x6e\x67\x20\x3d ".intval(${$imunaa}):"")."\x20\x20\n\t\t\x4f\x52\x44ER\x20\x42\x59\x20pc\x2e\x60date\x5f\x61\x64\x64`\x20D\x45\x53\x43 ";if(${${"\x47\x4c\x4f\x42ALS"}["\x67\x6f\x76\x68\x75\x70sf\x6b"]}>0)${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x74y\x64\x71\x6fe\x65\x76\x73\x63"]}=${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x74\x79\x64\x71\x6f\x65\x65\x76\x73\x63"]}."\x4c\x49\x4dIT\x20".intval((${${"\x47L\x4fB\x41\x4cS"}["\x62b\x6ax\x62\x77r"]}-1)*${$vcwbrjdtsdp}).",\x20".${${"\x47LO\x42\x41L\x53"}["\x72v\x74n\x62\x71\x64"]}*intval(${${"G\x4cO\x42\x41\x4c\x53"}["oe\x70\x73\x68\x62"]});return Db::getInstance()->ExecuteS(${${"\x47\x4cO\x42\x41\x4cS"}["\x74\x79d\x71\x6fe\x65v\x73\x63"]});}static public function getGradeByProduct($id_product,$id_lang){$wgtbxu="\x69\x64\x5f\x6can\x67";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6c\x63\x71\x77s\x68\x74"]="v\x61\x6ci\x64\x61\x74\x65";${"GL\x4fB\x41\x4c\x53"}["\x66\x64no\x6fm\x66\x68\x6cw\x66\x6d"]="\x69\x64\x5f\x70r\x6fd\x75\x63\x74";${"\x47\x4cOB\x41L\x53"}["\x64iro\x79\x63\x74s\x6e\x68"]="\x76\x61lid\x61\x74\x65";if(!Validate::isUnsignedId(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x66d\x6e\x6fo\x6d\x66h\x6c\x77\x66m"]}))die(Tools::displayError());$ndpesjmia="\x69\x64\x5fpr\x6f\x64\x75c\x74";${${"\x47\x4c\x4f\x42AL\x53"}["di\x72\x6fy\x63t\x73nh"]}=Configuration::get("\x41\x47\x49LE_P\x52\x45\x56IEW\x53_M\x4f\x44E\x52\x41T\x45");${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x74\x79dqoe\x65v\x73\x63"]}="\n\t\t\x53ELE\x43\x54 p\x63.`i\x64\x5fa\x67\x69\x6ce_r\x65v\x69e\x77\x60, p\x63\x67.\x60\x67\x72ad\x65`,\x20\x63\x6c\x2e`\x6ea\x6d\x65\x60, pcc.`id_\x61\x67ile\x5f\x63ri\x74er\x69\x6f\x6e\x60\n\t\tFROM \x60"._DB_PREFIX_."ag\x69\x6c\x65\x5f\x72\x65\x76\x69\x65\x77\x60\x20pc\n\t\t\x49\x4eN\x45R\x20\x4aO\x49\x4e `"._DB_PREFIX_."\x61g\x69l\x65_rev\x69ew_gr\x61de` \x70c\x67 O\x4e (\x70\x63g.`id_\x61g\x69l\x65_r\x65vi\x65w`\x20\x3d\x20\x70c.`i\x64_agi\x6ce\x5fre\x76ie\x77\x60)\n\t\tIN\x4eE\x52\x20JO\x49N\x20\x60"._DB_PREFIX_."\x61\x67il\x65\x5f\x63r\x69t\x65\x72\x69on` pc\x63\x20O\x4e\x20(\x70cc\x2e`\x69d\x5fa\x67\x69le_c\x72\x69\x74er\x69\x6fn\x60\x20= \x70cg.\x60i\x64_agil\x65_\x63\x72\x69te\x72ion\x60)\n\t\t \x20  LEF\x54\x20\x4aO\x49\x4e \x20`"._DB_PREFIX_."ag\x69\x6ce\x5fc\x72i\x74eri\x6fn\x5f\x6ca\x6eg\x60\x20\x63l ON\x20pcc.\x69\x64_agi\x6ce_cr\x69t\x65ri\x6f\x6e\x3d\x63l\x2e\x69\x64_agil\x65\x5fc\x72i\x74er\x69o\x6e A\x4e\x44 c\x6c\x2e\x69d\x5fl\x61ng=".${$wgtbxu}."\n\t\tW\x48\x45\x52\x45\x20\x70c.`id\x5f\x70rod\x75ct\x60 \x3d\x20".intval(${$ndpesjmia})."\n\t\tA\x4eD pcg.\x60gr\x61d\x65\x60\x20\x3e 0 ".(${${"GLOB\x41LS"}["\x6c\x63\x71w\x73h\x74"]}=="\x31"?" \x41\x4e\x44 pc.\x60v\x61l\x69d\x61\x74\x65` = \x31":"");return(Db::getInstance()->ExecuteS(${${"\x47\x4c\x4fB\x41\x4cS"}["\x74\x79\x64\x71\x6f\x65\x65\x76s\x63"]}));}static public function getAveragesByProduct($id_product,$id_lang){${"\x47L\x4f\x42A\x4c\x53"}["ob\x62q\x67\x77fe\x72\x70"]="\x63r\x69teri\x6f\x6e\x73\x47\x72\x61d\x65\x54\x6f\x74\x61l";$ipqsesg="\x69";${"\x47L\x4f\x42\x41\x4c\x53"}["\x78x\x70z\x77\x68qw\x71\x6f"]="\x63\x72\x69t\x65\x72\x69o\x6eGr\x61d\x65\x54o\x74a\x6c";${"\x47\x4cO\x42A\x4c\x53"}["\x63\x79\x78\x64\x6e\x74\x78"]="ke\x79";$vqvhxrdogg="\x63r\x69te\x72\x69\x6f\x6e\x73\x47\x72\x61d\x65\x54\x6f\x74\x61l";$xqwilvyrgq="a\x76\x65\x72\x61\x67e\x73";${"\x47L\x4fB\x41LS"}["hg\x7a\x7ari\x6bwg"]="g\x72\x61d\x65\x73";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x72\x78\x63g\x6e\x77ps"]}=AgileReview::getGradeByProduct(intval(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6e\x70\x74\x6e\x62\x78\x64\x72\x6cfux"]}),${${"\x47LO\x42A\x4cS"}["oe\x62\x68\x66s\x6c"]});${${"\x47L\x4fB\x41L\x53"}["tg\x77\x6ce\x6de"]}=AgileReview::getGradedReviewNumber(intval(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6e\x70t\x6e\x62\x78drlfux"]}));if(!sizeof(${${"G\x4c\x4f\x42\x41L\x53"}["\x68\x67z\x7ari\x6b\x77\x67"]})OR(!${${"\x47LO\x42\x41LS"}["\x74\x67w\x6c\x65\x6d\x65"]}))return array();${"\x47\x4cO\x42\x41\x4c\x53"}["d\x6dn\x67\x72\x70\x73pk"]="\x69";${$vqvhxrdogg}=array();for(${$ipqsesg}=0;${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x64\x6dn\x67\x72p\x73p\x6b"]}<count(${${"\x47LOBA\x4cS"}["\x72\x78c\x67\x6e\x77p\x73"]});++${${"G\x4c\x4f\x42A\x4c\x53"}["yhr\x6c\x65\x61\x72\x79"]}){${"\x47\x4c\x4fB\x41\x4c\x53"}["\x66\x77\x61s\x75\x69\x62\x76\x6co\x73w"]="\x67\x72\x61\x64\x65\x73";${"G\x4c\x4f\x42A\x4c\x53"}["\x76\x67\x62m\x71rv"]="i";$xoifbnwl="\x67ra\x64es";${"\x47\x4cO\x42\x41\x4cS"}["\x6fdvh\x7a\x76\x74c\x78\x67"]="\x69";${"GL\x4f\x42\x41\x4c\x53"}["u\x6b\x6di\x70\x69mb\x75\x6fc\x71"]="\x63r\x69\x74\x65\x72io\x6e\x73\x47\x72\x61\x64\x65\x54ot\x61l";$hljtekpc="\x67r\x61\x64\x65\x73";$kruxdjwfbkul="\x67\x72\x61d\x65s";$fdgwuxzygn="\x69";${"\x47\x4cO\x42\x41\x4c\x53"}["w\x73p\x63t\x6d\x6f\x6b"]="\x69";if(array_key_exists(${${"\x47LOB\x41\x4c\x53"}["fw\x61s\x75\x69\x62\x76\x6c\x6f\x73\x77"]}[${$fdgwuxzygn}]["\x69\x64_\x61\x67\x69\x6ce\x5f\x63ri\x74\x65\x72\x69o\x6e"],${${"\x47\x4c\x4f\x42A\x4cS"}["u\x6bmip\x69\x6db\x75o\x63\x71"]})===false)${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6b\x69\x76\x79\x72g\x68o\x66\x6b\x61"]}[${$xoifbnwl}[${${"\x47\x4cOBA\x4cS"}["od\x76\x68\x7av\x74\x63x\x67"]}]["\x69d\x5f\x61g\x69le\x5f\x63\x72iteri\x6f\x6e"]]=intval(${$kruxdjwfbkul}[${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x76g\x62\x6d\x71r\x76"]}]["g\x72\x61de"]);else${${"\x47L\x4fB\x41\x4c\x53"}["\x6b\x69\x76\x79\x72g\x68\x6ff\x6b\x61"]}[${$hljtekpc}[${${"\x47L\x4f\x42\x41\x4cS"}["\x77sp\x63\x74\x6d\x6f\x6b"]}]["\x69\x64\x5fagile\x5fc\x72\x69t\x65\x72i\x6f\x6e"]]+=intval(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["r\x78\x63\x67n\x77p\x73"]}[${${"GL\x4fB\x41\x4cS"}["\x79\x68\x72l\x65a\x72\x79"]}]["\x67\x72\x61\x64\x65"]);}${${"GL\x4fB\x41L\x53"}["\x6ckn\x74\x75ul\x66x\x78\x6a"]}=array();foreach(${${"\x47\x4c\x4fBA\x4c\x53"}["obb\x71gw\x66\x65\x72\x70"]} AS${${"GL\x4f\x42A\x4c\x53"}["cy\x78\x64n\x74\x78"]}=>${${"\x47\x4c\x4f\x42AL\x53"}["\x72\x6axa\x6c\x77\x6c"]})${${"G\x4c\x4f\x42\x41\x4cS"}["\x6c\x6bnt\x75ul\x66\x78\x78\x6a"]}[intval(${${"\x47LO\x42\x41L\x53"}["\x6e\x63\x63g\x71\x68vq"]})]=intval(${${"G\x4cO\x42\x41L\x53"}["tgw\x6ce\x6d\x65"]})?(intval(${${"\x47\x4c\x4f\x42A\x4c\x53"}["xxp\x7aw\x68\x71\x77\x71o"]})/intval(${${"\x47L\x4f\x42\x41\x4cS"}["\x74\x67\x77\x6c\x65m\x65"]})):0;return${$xqwilvyrgq};}static public function getReviewNumber($id_product,$id_lang=NULL){${"G\x4c\x4f\x42A\x4c\x53"}["\x68q\x6ar\x75t\x73\x70\x6dx\x63"]="va\x6c\x69d\x61\x74e";${"G\x4cO\x42\x41\x4cS"}["\x76\x62m\x67\x75\x71"]="\x73\x71\x6c";$cqxhhbis="va\x6ci\x64\x61\x74e";${"G\x4c\x4f\x42\x41\x4cS"}["m\x68d\x64\x6b\x73x\x7a\x76\x63"]="i\x64\x5f\x6c\x61ng";${"\x47\x4c\x4fB\x41L\x53"}["\x6a\x79\x6c\x6ap\x63\x76\x6c\x71"]="\x69d\x5fl\x61n\x67";$nndycyjm="\x69\x64\x5f\x70\x72\x6fd\x75\x63t";$mbzydpsxm="\x69d\x5f\x70r\x6fd\x75\x63\x74";if(!Validate::isUnsignedId(${$nndycyjm}))die(Tools::displayError());$skdhoba="s\x71\x6c";$qxbtnrpulpc="\x73\x71l";${$cqxhhbis}=intval(Configuration::get("\x41G\x49L\x45_P\x52\x45V\x49E\x57\x53_\x4dO\x44ER\x41T\x45"));${"\x47LO\x42\x41\x4cS"}["\x6dvvkoki\x65i"]="r\x65\x73ult";${$qxbtnrpulpc}="\n\t\tS\x45LE\x43T CO\x55NT(\x60\x69\x64\x5fagile_re\x76i\x65w`) \x41\x53\x20\"n\x62r\x22\n\t\tFR\x4fM `"._DB_PREFIX_."agile_r\x65\x76ie\x77` p\x63\n\t\t\x57H\x45\x52\x45 `\x69d_p\x72\x6fduc\x74` =\x20".intval(${$mbzydpsxm}).(${${"\x47L\x4fBA\x4cS"}["\x68\x71jr\x75\x74s\x70\x6d\x78c"]}=="\x31"?"\x20\x41\x4eD `va\x6cid\x61te\x60 \x3d\x201":"");if(intval(${${"\x47L\x4f\x42\x41\x4cS"}["\x6d\x68\x64\x64\x6bsx\x7a\x76\x63"]})>0)${${"\x47LO\x42AL\x53"}["v\x62\x6dgu\x71"]}=${$skdhoba}."\x20A\x4e\x44 \x69d_\x6c\x61ng \x3d ".intval(${${"\x47LOB\x41\x4c\x53"}["\x6a\x79\x6c\x6ap\x63vl\x71"]});if((${${"\x47L\x4f\x42\x41\x4c\x53"}["mvv\x6b\x6f\x6b\x69\x65i"]}=Db::getInstance()->getRow(${${"\x47\x4c\x4fB\x41\x4cS"}["ty\x64\x71\x6f\x65\x65\x76\x73c"]}))===false)return false;return intval(${${"G\x4c\x4f\x42\x41\x4c\x53"}["ob\x69\x6b\x6c\x71x"]}["n\x62\x72"]);}static public function getGradedReviewNumber($id_product){${"G\x4cOBALS"}["ri\x73sfi\x62nhb\x69"]="\x76\x61\x6ci\x64\x61\x74e";${"\x47\x4cO\x42\x41\x4c\x53"}["be\x73f\x62\x6e\x6f\x62\x69vv"]="\x72e\x73\x75\x6c\x74";if(!Validate::isUnsignedId(${${"\x47LO\x42\x41\x4c\x53"}["\x6e\x70t\x6e\x62x\x64\x72\x6cf\x75\x78"]}))die(Tools::displayError());${${"G\x4c\x4f\x42\x41\x4cS"}["\x72\x69\x73\x73\x66\x69\x62n\x68b\x69"]}=intval(Configuration::get("\x41\x47IL\x45_PR\x45VIEWS\x5f\x4d\x4fDE\x52A\x54E"));${${"GL\x4f\x42A\x4cS"}["\x62es\x66b\x6e\x6f\x62i\x76\x76"]}=Db::getInstance()->getRow("\n\t\t\x53\x45\x4c\x45\x43\x54\x20C\x4fU\x4e\x54(\x70\x63\x2e\x60i\x64_\x70r\x6fd\x75ct`) \x41S\x20\"nbr\x22\n\t\tF\x52\x4f\x4d \x60"._DB_PREFIX_."\x61gil\x65\x5f\x72e\x76ie\x77`\x20\x70c\n\t\tW\x48ERE \x60i\x64\x5f\x70roduc\x74`\x20\x3d ".intval(${${"G\x4c\x4f\x42\x41LS"}["\x6ep\x74\x6e\x62\x78\x64\x72l\x66u\x78"]}).(${${"GLOB\x41LS"}["\x66p\x73\x65\x76\x72\x73\x79\x6e\x6f"]}=="\x31"?" \x41N\x44 `v\x61l\x69dat\x65\x60 \x3d\x20\x31":"")."\n\t\t\x41\x4e\x44 `\x67rad\x65`\x20\x3e\x200");return intval(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["o\x62\x69\x6b\x6c\x71x"]}["nbr"]);}static public function getByValidate($validate='0'){${"\x47\x4cO\x42AL\x53"}["\x6c\x66\x77\x74tm\x68\x6e\x68\x71\x63"]="v\x61l\x69\x64\x61\x74e";global$cookie;return(Db::getInstance()->ExecuteS("\n\t\tSEL\x45C\x54\x20p\x63.\x60\x69\x64\x5f\x61\x67ile_r\x65view`,\x20p\x63\x2e`\x69\x64_\x70r\x6fdu\x63t\x60,\x20pc.\x60\x63u\x73\x74ome\x72`,\x70\x63.`c\x6fn\x74\x65nt\x60, p\x63.re\x73po\x6e\x73\x65, pc.`\x67ra\x64e`,\x20pc\x2e\x60\x64\x61\x74e_\x61\x64\x64`, p\x6c\x2e`n\x61\x6de`\n\t\tF\x52\x4fM\x20\x60"._DB_PREFIX_."a\x67\x69\x6c\x65\x5frev\x69e\x77` \x70\x63\n\t\t\x4c\x45F\x54 JO\x49\x4e\x20`"._DB_PREFIX_."pr\x6fd\x75\x63\x74_lan\x67\x60 \x70l\x20\x4f\x4e\x20(p\x6c\x2e\x60\x69d_pr\x6f\x64u\x63\x74`\x20= p\x63.`id_pro\x64\x75ct\x60)\x20\n\t\t\x57\x48\x45R\x45\x20\x70c\x2e`\x76al\x69\x64ate\x60\x20= ".intval(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6c\x66\x77\x74\x74m\x68\x6e\x68q\x63"]})."\n\t\t\x41N\x44\x20p\x6c\x2e\x60i\x64\x5flan\x67\x60\x20= ".intval($cookie->id_lang)."\n\t\tOR\x44E\x52 \x42\x59 \x70\x63.\x60date_\x61\x64d` D\x45\x53C"));}public function validate($validate='1'){if(!Validate::isUnsignedId($this->id))die(Tools::displayError());${${"G\x4c\x4fBA\x4c\x53"}["tyd\x71\x6f\x65e\x76\x73c"]}="\x55PD\x41T\x45 `"._DB_PREFIX_."ag\x69le\x5fr\x65\x76ie\x77\x60 SET\n\t\x20\x20  \t`\x76a\x6cid\x61\x74\x65\x60 \x3d ".intval(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x66ps\x65v\x72sy\x6e\x6f"]})."\n\t\t\x20\x20 \x20WHER\x45\x20\x60\x69d_\x61\x67\x69\x6ce\x5f\x72evie\x77`\x20= ".intval($this->id);return Db::getInstance()->Execute(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x74\x79\x64qoee\x76\x73c"]});}static public function AcceptAll(){${"\x47\x4c\x4fB\x41\x4cS"}["q\x6d\x64j\x76\x6bj"]="\x73q\x6c";${${"GLO\x42\x41\x4c\x53"}["\x71\x6d\x64\x6a\x76\x6b\x6a"]}="UPDATE \x60"._DB_PREFIX_."\x61gil\x65_\x72\x65v\x69\x65\x77\x60\x20SET\n\t\x20   \t`\x76\x61l\x69\x64a\x74\x65` =\x20\x31\n\t\t\x20\x20 \x20\x57\x48E\x52\x45\x20\x60\x76\x61\x6cid\x61t\x65\x60=\x30";return Db::getInstance()->Execute(${${"\x47LO\x42\x41LS"}["\x74y\x64\x71\x6f\x65\x65\x76\x73c"]});}static public function deleteGrades($id_agile_review){${"\x47\x4cO\x42A\x4c\x53"}["\x79u\x67\x67g\x6c\x71\x61\x70fe\x79"]="\x69d_\x61gi\x6c\x65\x5f\x72\x65\x76\x69e\x77";if(!Validate::isUnsignedId(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x79\x75g\x67\x67l\x71\x61pf\x65y"]}))die(Tools::displayError());return(Db::getInstance()->Execute("\n\t\t\x44ELETE FROM \x60"._DB_PREFIX_."ag\x69l\x65_r\x65vie\x77\x5f\x67r\x61d\x65\x60\n\t\t\x57H\x45R\x45\x20`i\x64\x5f\x61gi\x6ce_revie\x77` = ".intval(${${"\x47\x4c\x4fB\x41\x4c\x53"}["hhx\x66\x63g\x6e\x78\x67\x68f"]})));}static public function addGrade($id_agile_review,$id_agile_criterion,$grade){$pquufxqo="\x69\x64\x5f\x61\x67\x69\x6ce\x5f\x72\x65\x76i\x65w";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["j\x72\x69\x68\x64\x70\x6e\x69\x76\x69\x74"]="i\x64_ag\x69\x6c\x65\x5fc\x72i\x74\x65r\x69\x6fn";if(!Validate::isUnsignedId(${$pquufxqo})||!Validate::isUnsignedId(${${"\x47L\x4fB\x41\x4cS"}["\x6ari\x68\x64\x70\x6ei\x76\x69\x74"]}))die(Tools::displayError());$debtriproy="\x67\x72\x61\x64\x65";${"\x47\x4c\x4f\x42ALS"}["z\x69\x74\x68\x6di\x73xzjo"]="\x67\x72a\x64e";$wkzdnpqyzmdn="g\x72\x61\x64\x65";if(${$debtriproy}<0)${${"G\x4c\x4f\x42\x41L\x53"}["t\x6a\x71eq\x66kf"]}=0;else if(${${"\x47L\x4f\x42AL\x53"}["\x74\x6a\x71\x65q\x66k\x66"]}>10)${$wkzdnpqyzmdn}=10;return(Db::getInstance()->Execute("\n\t\tI\x4e\x53E\x52T \x49\x4e\x54O\x20\x60"._DB_PREFIX_."\x61\x67\x69\x6c\x65_\x72\x65\x76i\x65w\x5fg\x72\x61d\x65\x60\n\t\t(`\x69d\x5f\x61\x67\x69le_r\x65vi\x65\x77\x60,\x20\x60id\x5f\x61\x67\x69\x6c\x65_cri\x74er\x69\x6fn\x60,\x20`grade`)\x20\x56AL\x55ES(\n\t\t".intval(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x68\x68\x78\x66\x63\x67\x6e\x78\x67\x68\x66"]}).",\n\t\t".intval(${${"\x47LO\x42\x41L\x53"}["\x79\x63d\x72\x69\x72"]}).",\n\t\t".intval(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x7a\x69\x74\x68\x6d\x69\x73\x78\x7ajo"]}).")"));}static public function hasPostInMinWaitTime($customer,$ip_address){${"\x47L\x4f\x42\x41\x4c\x53"}["\x63\x6a\x6a\x62yyq"]="\x69\x70\x5f\x61\x64\x64r\x65s\x73";${${"GLO\x42\x41\x4c\x53"}["t\x79\x64\x71\x6feev\x73c"]}="\x53E\x4cE\x43\x54\x20i\x64_\x61\x67i\x6c\x65_r\x65\x76\x69\x65\x77 \n\t  \x20\x20\x20\x20\x20\x20\x20\x20 \x20F\x52\x4fM \x60"._DB_PREFIX_."a\x67\x69\x6c\x65_\x72eview\x60 \n\t \x20\x20 \x20 \x20\x20\x20   WH\x45\x52E \x31\n\t\x20\x20\x20\x20\x20        \x20\x20\x20AND\x20cus\x74\x6fmer \x3d'".pSQL(${${"\x47\x4cO\x42\x41L\x53"}["\x6f\x78ctx\x76"]})."'\n\t\x20\x20 \x20\x20\x20\x20 \x20\x20\x20\x20 \x20  \x41\x4eD\x20da\x74e\x5fad\x64\x20\x3e \x44AT\x45\x5f\x41DD(\x27".date("\x59-\x6d-d\x20H:\x69:s")."\x27,\x49\x4eT\x45\x52\x56\x41\x4c -".Configuration::get("\x41G\x49\x4cE_\x50REV\x49E\x57\x53_MIN\x5f\x57\x41I\x54")."\x20\x53\x45\x43\x4f\x4e\x44)\n\t \x20       \x20      \x41\x4e\x44\x20i\x70_a\x64dr\x65\x73\x73\x3d'".${${"\x47\x4c\x4fB\x41\x4c\x53"}["cj\x6a\x62\x79\x79\x71"]}."\x27\n\t\x20     \x20    \x20 \x20\x20 ";${${"\x47LO\x42AL\x53"}["\x74\x63q\x63\x6fk\x6d"]}=Db::getInstance()->getRow(${${"GL\x4f\x42A\x4c\x53"}["\x74y\x64\x71oe\x65\x76\x73\x63"]});${"\x47\x4cO\x42\x41\x4cS"}["\x74l\x62w\x6dq\x69w\x77\x6f\x76"]="\x72\x65t";$gqppiipro="\x72et";${${"\x47L\x4f\x42\x41L\x53"}["t\x6cb\x77\x6d\x71\x69w\x77\x6f\x76"]}=(isset(${${"G\x4c\x4fB\x41\x4cS"}["\x74\x63\x71c\x6f\x6b\x6d"]})AND intval(${${"\x47\x4cO\x42AL\x53"}["\x74\x63q\x63\x6fk\x6d"]}["\x69d\x5f\x61g\x69le_\x72ev\x69e\x77"])>0);return${$gqppiipro};}static public function hasSamePost($customer,$ip_address,$content,$id_product){$iwwgalwkol="cu\x73\x74\x6fm\x65r";$itjtlaajnt="\x69d_p\x72\x6fd\x75ct";$kqbgtyv="\x72\x6f\x77";$vfqtsovdswth="\x69p_a\x64dr\x65\x73\x73";$xippqmry="\x73\x71\x6c";${"\x47\x4c\x4f\x42A\x4cS"}["\x6atpyqefx\x70\x69"]="\x63\x6f\x6e\x74en\x74";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x74\x79d\x71\x6fee\x76\x73c"]}="\x53\x45\x4cEC\x54\x20id_ag\x69le_\x72evi\x65\x77\x20\n\t\x20   \x20\x20  \x20  \x20\x46ROM\x20`"._DB_PREFIX_."a\x67\x69le_\x72ev\x69ew\x60 \n\t\x20  \x20     \x20  WH\x45\x52E \x31\n\t\x20\x20\x20 \x20\x20\x20   \x20\x20\x20\x20\x20\x20\x41ND\x20cu\x73\x74\x6f\x6d\x65\x72\x20\x3d'".pSQL(${$iwwgalwkol})."\x27\n\t  \x20\x20\x20\x20\x20\x20\x20\x20 \x20  \x20\x20\x41ND \x64a\x74e_a\x64\x64\x20\x3e\x20\x44\x41\x54E_AD\x44('".date("Y-\x6d-d H:i:s")."\x27,I\x4e\x54\x45R\x56\x41L\x20-\x33\x36\x3000\x20\x53ECON\x44)\n\t   \x20\x20 \x20   \x20  \x20\x20\x20AND cont\x65\x6e\x74 = \x27".pSQL(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6at\x70\x79\x71e\x66\x78\x70i"]})."'\n\t\x20   \x20   \x20 \x20 \x20 \x20\x20A\x4eD id\x5fpr\x6f\x64\x75c\x74\x20=\x20".${$itjtlaajnt}."\n\t   \x20 \x20     \x20\x20 \x20 \x41\x4e\x44\x20\x69\x70\x5f\x61d\x64r\x65\x73\x73\x3d'".${$vfqtsovdswth}."'\n\t       \x20\x20     \x20\x20";${"\x47\x4cOB\x41L\x53"}["mit\x64p\x76"]="r\x6fw";${$kqbgtyv}=Db::getInstance()->getRow(${$xippqmry});${${"G\x4c\x4fB\x41L\x53"}["s\x6a\x69p\x79\x68\x65\x61\x79"]}=(isset(${${"\x47\x4c\x4fBA\x4c\x53"}["\x6d\x69\x74\x64\x70\x76"]})AND intval(${${"G\x4c\x4fBA\x4c\x53"}["\x74\x63qcok\x6d"]}["i\x64_ag\x69l\x65_\x72ev\x69\x65w"])>0);$qmudskcbmru="\x72e\x74";return${$qmudskcbmru};}static public function getNewestPost($id_lang=NULL,$n=3){${"G\x4c\x4f\x42\x41\x4cS"}["\x6f\x62\x62\x71i\x63\x68uv\x6aj"]="\x73\x71l";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x62\x71\x6f\x62g\x75t"]="sq\x6c";$uelnwkft="\x6e";${"\x47LO\x42\x41\x4c\x53"}["\x70\x6c\x6c\x73\x63\x73\x6a\x6f\x67v"]="i\x64\x5f\x6c\x61n\x67";${"\x47LOB\x41\x4cS"}["m\x7a\x6d\x77\x6arc\x75"]="\x6e";${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x66p\x73e\x76\x72\x73y\x6eo"]}=Configuration::get("\x41\x47ILE_\x50\x52\x45VI\x45W\x53\x5fMO\x44\x45\x52\x41T\x45");${"\x47\x4cO\x42A\x4c\x53"}["\x70\x67\x74yh\x6e\x78\x6a"]="\x73ql";${${"GL\x4fBALS"}["\x6fb\x62\x71\x69\x63\x68\x75v\x6aj"]}="\n\t\t\x53E\x4c\x45C\x54 \x70\x63\x2e\x60\x69\x64_ag\x69\x6ce_re\x76\x69e\x77`,\x70c\x2e\x60id\x5fp\x72\x6fduct\x60, \x70c\x2e`c\x75s\x74\x6fm\x65\x72`,\x70c\x2e`co\x6etent`,\x20pc\x2e`\x67r\x61de`, \x70c.\x60d\x61t\x65\x5f\x61dd`,\x70l.n\x61me\x20AS\x20\x70\x72o\x64\x75\x63t\n\t\t\x20\x20\x46RO\x4d\x20\x60"._DB_PREFIX_."\x61gil\x65_rev\x69\x65\x77` p\x63\n\t\t\x20\x20\x20 L\x45F\x54\x20JOIN `"._DB_PREFIX_."p\x72o\x64u\x63\x74\x5flan\x67\x60 \x70l ON\x20(p\x63.\x69\x64_pro\x64\x75ct\x3d\x70l.id\x5fp\x72\x6f\x64\x75c\x74\x20AN\x44\x20p\x6c\x2eid\x5f\x6ca\x6eg \x3d ".(intval(${${"\x47L\x4f\x42\x41\x4c\x53"}["o\x65\x62\x68\x66\x73\x6c"]})==0?Configuration::get("\x50S_LANG_\x44E\x46\x41\x55\x4cT"):${${"\x47\x4cO\x42\x41L\x53"}["p\x6c\x6c\x73c\x73\x6a\x6f\x67\x76"]})." \x41\x4eD \x70l\x2e\x69d_sh\x6fp\x3d".(int)Shop::getContextShopID().")\n\t\tWHER\x45\x201\x20".(${${"GLOBA\x4c\x53"}["\x66\x70\x73\x65\x76r\x73\x79no"]}=="\x31"?" AN\x44 \x70\x63.\x60v\x61l\x69dat\x65\x60\x20=\x201":"")."\n\t\t\x20\x20\x20  ".(intval(${${"\x47\x4cO\x42AL\x53"}["\x6f\x65\x62\x68\x66\x73\x6c"]})>0?"\x20A\x4e\x44 pc.\x69\x64_lang =\x20".intval(${${"G\x4c\x4fBAL\x53"}["\x6feb\x68f\x73\x6c"]}):"")." \x20\n\t\t\x4fR\x44E\x52 \x42\x59 \x70c\x2e\x60da\x74\x65\x5f\x61\x64\x64`\x20D\x45S\x43 ";if(${${"\x47\x4c\x4f\x42A\x4c\x53"}["mzm\x77\x6a\x72\x63u"]}>0)${${"G\x4c\x4f\x42\x41\x4cS"}["\x70\x67\x74yh\x6e\x78\x6a"]}=${${"\x47\x4cOB\x41\x4cS"}["\x74\x79d\x71\x6fe\x65\x76s\x63"]}."LIMI\x54\x20\x30,".intval(${$uelnwkft});return Db::getInstance()->ExecuteS(${${"\x47\x4c\x4fB\x41L\x53"}["\x62\x71o\x62\x67\x75t"]});}}
?>