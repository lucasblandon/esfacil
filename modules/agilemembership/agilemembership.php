<?php /*
///-build_id: 2014102018.1827
/// This source file is subject to the Software License Agreement that is bundled with this 
/// package in the file license.txt, or you can get it here
/// http://addons-modules.com/store/en/content/3-terms-and-conditions-of-use
///
/// @copyright  2009-2012 Addons-Modules.com
///
*/
${"\x47\x4c\x4fB\x41L\x53"}["\x63v\x66\x78\x6d\x65k\x76p"]="\x69\x64_g\x72\x6f\x75\x70";${"\x47\x4c\x4f\x42AL\x53"}["\x69d\x6fx\x72\x66\x6d\x68"]="\x75\x6e\x69\x74\x73";${"\x47\x4c\x4f\x42AL\x53"}["\x72\x6a\x6cc\x69\x72\x6algpc"]="\x69\x6ete\x72va\x6c";${"\x47LO\x42\x41\x4cS"}["\x67t\x77\x63\x6d\x68q\x61n\x72\x77"]="\x6eame";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x62\x71\x6bjw\x64\x66\x7aw\x70\x7a\x79"]="\x61\x64\x76\x61n\x63\x65\x64\x74\x79\x70\x65";${"\x47\x4cO\x42\x41L\x53"}["\x67\x75\x72\x64\x66\x71q\x65\x75p"]="\x62\x61s\x69c\x74\x79pe";${"\x47L\x4fBALS"}["\x6d\x77x\x6dg\x79\x69\x72nc\x6b"]="\x69\x6d\x61\x67\x65u\x72l";${"\x47\x4cO\x42\x41\x4cS"}["\x79\x6dd\x63\x62\x71r\x75\x77"]="\x69\x64\x5f\x63\x61te";${"\x47LO\x42A\x4c\x53"}["\x6fvp\x68\x67\x6aqi\x76\x6b"]="\x6de\x6dbe\x72\x73\x68\x69p\x5f\x68\x69st\x6f\x72\x79";${"\x47\x4cO\x42\x41L\x53"}["fwqh\x70\x6bw\x74d"]="\x6d\x65\x6d\x62e\x72\x73\x68\x69\x70\x5f\x76\x61li\x64";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["o\x64\x62n\x63\x6e\x63\x67\x70"]="\x76\x61\x6c\x75\x65";${"G\x4c\x4f\x42A\x4c\x53"}["jt\x71\x69sq\x79\x74v\x66"]="\x65\x72r\x6f\x72\x73";${"\x47\x4cOB\x41L\x53"}["\x78z\x66m\x63\x6c\x64bw"]="c\x6fnfir\x6da\x74io\x6e";${"\x47\x4cOB\x41\x4c\x53"}["qfm\x6d\x69\x6c\x78"]="\x74r\x61n\x73la\x74\x69\x6f\x6e\x73";${"\x47\x4c\x4f\x42\x41L\x53"}["s\x64r\x64n\x65\x62\x70\x62\x6b\x66"]="\x74\x6f\x64\x61\x79";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x72\x61\x66p\x73\x76o\x75p\x62\x69"]="\x64\x61te_\x73\x74\x61r\x74";${"\x47\x4c\x4f\x42A\x4c\x53"}["c\x76\x6cc\x6b\x7a\x70"]="\x6de\x6d\x62\x65\x72\x73\x68\x69\x70\x5fh\x69s";${"\x47\x4c\x4f\x42A\x4cS"}["\x69v\x6bah\x78\x71\x70"]="\x6de\x6d\x5f\x71u\x61\x6e\x74\x69\x74\x79";${"G\x4c\x4f\x42\x41\x4c\x53"}["q\x63iy\x6a\x62d\x6d\x79"]="e\x78\x69st\x73";${"G\x4c\x4fB\x41\x4cS"}["\x6e\x75\x6a\x67p\x77\x77\x71\x6f"]="\x6f\x72\x64er";${"G\x4cO\x42A\x4c\x53"}["\x6e\x76bip\x6b"]="i\x64\x5f\x6f\x72\x64\x65\x72";${"\x47\x4c\x4fB\x41\x4c\x53"}["ih\x69biy\x70v\x79\x6e\x70\x67"]="\x69\x73\x6f";${"\x47L\x4f\x42\x41L\x53"}["\x73\x6b\x6e\x6bw\x78\x64\x7au\x63\x66m"]="\x64\x61t\x61";${"\x47\x4c\x4f\x42\x41LS"}["\x62\x6cl\x6e\x71\x62"]="c\x75\x73\x74\x6f\x6d\x65r";${"GL\x4f\x42AL\x53"}["\x6bx\x71\x69\x6b\x6cs\x61e\x67\x6c"]="\x72\x65sul\x74\x73";${"GL\x4f\x42\x41\x4c\x53"}["\x6e\x77\x68\x6ftg\x70x\x64\x79\x62u"]="d\x61\x79\x73";${"\x47\x4c\x4fBA\x4c\x53"}["\x78yc\x63\x66\x76\x70"]="\x72\x65\x6din\x64\x65\x72\x5f\x64\x61\x79\x73";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x76\x74\x64\x71p\x62\x76e\x61\x6b\x66"]="\x63\x72it\x65ri\x61";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x73\x6aj\x74\x76\x68i\x7a\x70\x69l\x66"]="\x73e\x74\x74\x69\x6e\x67\x73";${"\x47LO\x42\x41\x4c\x53"}["\x69\x77dqi\x66\x62\x67\x76"]="id\x5f\x63\x75s\x74\x6f\x6de\x72";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x63\x77\x63\x73\x78\x6c\x69"]="c\x69ds";${"\x47L\x4f\x42A\x4c\x53"}["\x67\x79\x71\x77\x70n\x6bf\x6f\x64\x75"]="\x70i\x64";${"G\x4cO\x42\x41\x4c\x53"}["\x6b\x62o\x61\x73x\x6a\x70\x74v"]="\x63\x69\x64";${"G\x4c\x4fB\x41LS"}["w\x6f\x6ap\x6c\x6d\x6e\x74b"]="\x6dy";${"GL\x4f\x42ALS"}["\x63rl\x70\x69\x65e\x6d\x6f\x62\x6a\x6a"]="\x61\x6c\x6c";${"\x47\x4cOB\x41LS"}["s\x75\x6f\x75\x72\x78\x63\x61iew"]="\x61l\x6c\x5fs\x74\x72";${"\x47\x4c\x4f\x42\x41\x4cS"}["ie\x69g\x63\x6bh\x75\x6b\x77"]="\x68\x61n\x64\x6c\x65";${"\x47\x4cO\x42\x41\x4c\x53"}["\x6apy\x7a\x77\x66\x72\x70\x73\x6f"]="\x72\x65\x66\x66er";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6c\x77\x70\x6bor\x77\x6a"]="\x63\x6f\x6cu\x6dn";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x72\x67\x6b\x72\x69\x69\x67\x75\x79"]="c\x6f\x6cu\x6dn\x73";${"\x47LOB\x41L\x53"}["\x73dlj\x79\x67mm\x66"]="tab\x6c\x65";${"G\x4cOB\x41\x4c\x53"}["cvy\x67\x69\x61\x62\x63j\x6fvt"]="O\x72\x69\x67i\x6es";${"GL\x4f\x42\x41\x4c\x53"}["\x75jk\x68lx\x74vm\x6f\x70"]="\x6b\x65y";${"\x47LO\x42\x41\x4cS"}["\x6f\x79\x6a\x71m\x72\x67\x62\x7a"]="\x66ie\x6c\x64s";${"\x47\x4c\x4f\x42ALS"}["\x6e\x73\x75xyd\x79\x77"]="\x65xc\x6cu\x73ion";${"\x47L\x4f\x42\x41L\x53"}["\x72\x70\x73\x69\x78w\x67q\x70\x6eo"]="c\x61\x72\x74";${"\x47\x4cO\x42A\x4c\x53"}["\x70\x71\x77v\x6b\x62\x67d\x70"]="i\x64\x5f\x70rod\x75\x63\x74";${"\x47L\x4f\x42\x41\x4cS"}["\x71\x70sh\x6f\x67mw\x6f\x69\x64"]="me\x6db\x65r\x73\x68i\x70\x5ft\x79p\x65";${"GL\x4f\x42\x41\x4c\x53"}["\x6d\x6fvgq\x79ua"]="\x6d\x69\x64";${"\x47\x4c\x4fBA\x4c\x53"}["p\x73\x68\x74\x73\x61\x72"]="e\x78\x70ir\x79_d\x61te";${"\x47\x4cO\x42\x41\x4c\x53"}["ke\x67\x64\x62\x62\x69"]="\x63\x6fver";${"G\x4c\x4fBA\x4c\x53"}["\x6b\x6c\x76mx\x68\x69j"]="\x69\x6d\x61\x67\x65";${"G\x4cO\x42\x41LS"}["\x64\x70\x76k\x76\x6d\x78e\x70\x64b"]="\x6dt\x79\x70e";${"\x47LO\x42\x41\x4c\x53"}["\x66\x6f\x71\x73u\x69\x64w\x72h\x72"]="t\x79\x70es";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x74\x70r\x66\x6dx\x68"]="\x69dCa\x74e\x67\x6f\x72\x79";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x68q\x64\x79\x6f\x79\x61z"]="\x70a\x72a\x6d\x73";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x76u\x6d\x61\x63\x75a\x76"]="me\x6db\x65r\x73h\x69\x70";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x74o\x63x\x73\x6a"]="m\x79\x6d\x65\x6db\x65\x72\x73\x68\x69p\x5f\x75\x72\x6c";${"\x47LO\x42\x41\x4c\x53"}["\x64\x77ds\x71\x78fi\x70r"]="\x63\x6f\x6e\x74i\x6e\x75\x65";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x78\x77l\x79h\x64\x62g"]="c\x61r\x74_\x70\x72\x6f\x64uct";${"\x47\x4cO\x42A\x4cS"}["ud\x68\x64\x74\x73\x72\x63"]="\x69\x73\x4de\x6d\x62\x65\x72\x73\x68ip";${"\x47\x4c\x4f\x42ALS"}["\x73n\x6cq\x62u\x68\x6f\x70n\x67v"]="\x63\x61r\x74\x5f\x70\x72o\x64u\x63ts";${"G\x4cO\x42\x41\x4cS"}["i\x66\x6e\x72h\x68b"]="p\x6e\x61m\x65";${"\x47L\x4f\x42\x41L\x53"}["nw\x6d\x64g\x77i"]="d\x6fno\x74\x65\x6c\x69\x67\x69\x62\x6ce\x73";${"\x47\x4cOBA\x4cS"}["\x63jfqb\x63\x6b\x77\x62"]="\x70r\x6f\x64\x75c\x74";${"\x47LOB\x41\x4c\x53"}["\x64ztvt\x65\x61\x6fp"]="\x6e\x62E\x72r\x6fr\x73";${"\x47\x4c\x4fBA\x4c\x53"}["\x79\x70\x71e\x79\x6b\x63\x62\x62\x77\x77"]="\x6c\x61\x6e\x67";${"\x47LOB\x41\x4c\x53"}["srx\x68\x72vyw\x62\x71"]="R\x65m\x69\x6e\x64\x65\x72\x5f\x66\x69\x65\x6c\x64\x73\x5ff\x6frm";${"\x47LO\x42\x41\x4cS"}["\x66\x7ai\x6a\x72edtz\x6et"]="\x70e\x72\x6d\x69\x73si\x6f\x6e\x5ffiel\x64\x73_fo\x72m";${"G\x4cOB\x41LS"}["\x65\x6ce\x6e\x78\x79\x6a\x73"]="\x6d\x65\x6d\x62\x65\x72sh\x69\x70_\x63\x61t\x65\x67\x6f\x72\x79\x5fl\x69s\x74";${"G\x4cOBA\x4cS"}["\x64m\x64uu\x75\x62"]="\x63\x61\x74\x65";${"\x47\x4c\x4f\x42\x41L\x53"}["\x79\x69\x69\x74\x6ajx"]="\x63m\x73";${"\x47\x4c\x4f\x42A\x4cS"}["f\x76n\x64\x63it\x78"]="\x6de\x6d\x62ers\x68\x69p\x5fc\x6d\x73\x5f\x6cist";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x65\x68nhffe"]="p\x67";${"\x47\x4c\x4f\x42\x41LS"}["\x63\x6e\x65\x6bb\x64ud"]="me\x6d\x62\x65\x72_only\x5fp\x61ge\x73";${"G\x4cOB\x41L\x53"}["i\x67\x71\x6b\x68\x6fqa\x74"]="f\x69\x65l\x64\x73\x5f\x66\x6f\x72\x6d";${"\x47LO\x42\x41\x4cS"}["\x65v\x6c\x67w\x76"]="h\x65l\x70\x65\x72";${"G\x4cOB\x41L\x53"}["\x66\x62\x6d\x77qt\x6b"]="\x6d\x65\x6dber\x74y\x70e";${"\x47\x4c\x4f\x42AL\x53"}["\x67\x74\x69ytq\x72"]="fe\x65\x5fv\x61l\x69\x64\x69\x74y\x5f\x62\x6f\x64\x79";${"GL\x4f\x42A\x4c\x53"}["kl\x63\x77\x79\x67"]="\x63\x6f\x6ef";${"\x47\x4cO\x42AL\x53"}["\x63\x61\x6e\x65\x67j\x67\x6c\x6a\x64\x78"]="\x66\x65\x65_\x76\x61\x6c\x69\x64\x69ty\x5f\x68e\x61\x64e\x72";${"GL\x4f\x42\x41LS"}["e\x72\x77\x62e\x77\x6b\x72"]="g\x72o\x75p";${"\x47\x4c\x4fBA\x4c\x53"}["cmxq\x74\x6d\x77\x6f"]="grou\x70\x73";${"GLO\x42AL\x53"}["nje\x70g\x6fu\x67d\x6e"]="\x6d\x65mb\x65r\x73h\x69\x70\x5f\x67\x72\x6f\x75p";${"\x47\x4cO\x42A\x4c\x53"}["\x6ci\x76\x65vo\x6a\x68"]="\x6d\x65\x6d\x62\x65rs\x68\x69p\x5f\x69\x6e\x74\x65\x72v\x61\x6c";${"G\x4c\x4fB\x41\x4c\x53"}["\x6dk\x6b\x72\x78\x76\x66"]="\x72\x65fu\x6e\x64\x5fi\x6e\x74\x65rv\x61l";${"G\x4c\x4f\x42A\x4c\x53"}["\x69\x6b\x6c\x6as\x6e\x65\x71\x67"]="\x63at\x65\x67or\x79";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6e\x6d\x69\x76k\x6a"]="\x6d\x65m\x62\x65r\x73\x68ip\x43a\x74e\x67o\x72\x79";${"\x47\x4cOBALS"}["\x79\x63\x63p\x79\x77s"]="\x63\x61t\x65\x67o\x72\x69\x65s";${"G\x4c\x4f\x42AL\x53"}["\x67\x6a\x70\x6aw\x6f\x73\x74"]="\x63\x61teg\x6fr\x79\x5f\x6e\x62\x72";${"\x47\x4cO\x42AL\x53"}["\x6br\x79\x75c\x69\x73"]="cu\x72r\x65\x6e\x63\x79";${"\x47\x4c\x4f\x42\x41L\x53"}["in\x78nh\x70"]="\x69d\x5fl\x61n\x67";${"G\x4cOB\x41L\x53"}["\x6fk\x74\x68\x6ct\x65dv\x65"]="\x63\x6f\x6ef_\x6be\x79s";${"\x47L\x4f\x42\x41\x4c\x53"}["v\x6eq\x78\x6b\x6as\x79\x75"]="\x6d\x65\x6d\x62\x65\x72\x73h\x69\x70\x5f\x72e\x6d\x69n\x64\x65\x72_\x64\x61\x79\x73";${"\x47\x4cOBALS"}["\x79\x75v\x77\x6a\x6b\x69c\x72ws\x67"]="m\x65mb\x65\x72s\x68\x69p\x5fpro\x64\x75\x63\x74s";${"\x47LO\x42A\x4c\x53"}["\x72p\x71\x77\x68\x69r\x79\x64v\x79"]="\x6d\x65\x6d\x62e\x72\x73\x68i\x70_\x63a\x74\x65\x67\x6f\x72i\x65\x73";${"\x47\x4cO\x42ALS"}["\x68\x66\x70\x65z\x6car\x68\x67"]="\x6d\x65\x6d\x62\x65r\x73\x68ip_\x63m\x73";${"\x47LOB\x41\x4c\x53"}["l\x63e\x6bl\x6di\x65"]="\x6de\x6d\x62e\x72\x73hip\x5f\x70a\x67\x65\x73\x32";${"GL\x4f\x42\x41LS"}["\x75\x67\x72f\x75\x6e\x79\x6d\x6ci"]="mem\x62\x65\x72\x73\x68i\x70\x5f\x70age\x73";${"GLO\x42ALS"}["t\x77\x69\x62g\x77"]="\x6d\x65\x6d\x62e\x72\x73\x68\x69\x70t\x79\x70e";${"G\x4c\x4f\x42A\x4c\x53"}["\x65\x71\x75\x67cn\x68\x75\x72k\x72"]="\x6de\x6d\x62\x65\x72\x73\x68\x69p\x74\x79p\x65\x73";${"\x47\x4cO\x42\x41L\x53"}["\x6f\x77\x63xt\x78e\x66\x74\x70"]="m\x65\x6d\x62\x65\x72\x73\x68\x69\x70\x5fcid";${"\x47\x4cO\x42\x41L\x53"}["\x72\x79\x71\x71jo"]="he\x61\x6ct\x68_\x63\x68\x65\x63\x6b";${"\x47\x4cO\x42\x41\x4c\x53"}["\x6e\x75v\x76\x67\x62s\x79\x62am\x6d"]="\x72ow";${"GL\x4f\x42A\x4c\x53"}["\x68\x68\x7av\x62\x6bf"]="\x72\x6f\x77s";${"\x47\x4c\x4f\x42\x41LS"}["o\x69s\x6am\x67\x6fb\x67\x64\x6c"]="s\x71\x6c";${"G\x4cO\x42AL\x53"}["qso\x7ay\x68\x65"]="m\x65m\x62\x65\x72\x63at\x65";${"G\x4c\x4f\x42\x41\x4c\x53"}["a\x68yfpv\x64"]="\x72\x65\x74\x65\x72\x72s";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["u\x76f\x64s\x77\x65"]="\x72\x65s\x75\x6ct";${"\x47\x4cO\x42\x41\x4c\x53"}["\x64\x65\x76\x6f\x6bj\x6ah\x6d\x7a"]="\x61d\x6d\x69\x6e\x66\x6fl\x64\x65\x72";${"\x47LOBA\x4c\x53"}["q\x79\x67\x69\x75ug\x71\x64o\x65j"]="\x5f\x6eew\x66il\x65s";if(!class_exists("\x41\x67\x69\x6c\x65\x49n\x73t\x61\x6c\x6cer")){include_once(_PS_ROOT_DIR_."/\x6dod\x75le\x73/\x61\x67\x69lem\x65mbers\x68\x69p/i\x6es\x74\x61\x6c\x6c/".(_PS_VERSION_>"1.\x36"?"\x31.\x36x":"\x31.5\x78")."/c\x6c\x61ss\x65\x73/\x41g\x69leIn\x73tal\x6c\x65\x72.p\x68\x70");eval("c\x6ca\x73s A\x67\x69leI\x6e\x73ta\x6cler \x65xte\x6ed\x73 \x41gi\x6c\x65\x49ns\x74a\x6cl\x65r\x43o\x72\x65 {}");}include_once(_PS_ROOT_DIR_."/modules/a\x67\x69l\x65me\x6db\x65rs\x68\x69\x70/Cu\x73\x74\x6f\x6der\x4d\x65mbe\x72s\x68\x69\x70\x2e\x70hp");include_once(_PS_ROOT_DIR_."/\x6d\x6fd\x75l\x65\x73/\x61\x67i\x6cememb\x65\x72\x73\x68i\x70/\x4d\x65mb\x65\x72shipTy\x70\x65.\x70\x68\x70");define("\x41gile\x5f\x4demb\x65\x72sh\x69p_L\x6fggin\x67","of\x66");class AgileMembership extends Module{const MAX_CATEGORY_NBR=1000;const INSTALL_SQL_FILE="\x69ns\x74\x61l\x6c\x2es\x71\x6c";public static$_newfiles=array('classes/AgileInstaller.php'=>array('1.6x'=>'classes/AgileInstaller.php','1.5x'=>'classes/AgileInstaller.php'),'classes/AgileHelper.php'=>array('1.6x'=>'classes/AgileHelper.php','1.5x'=>'classes/AgileHelper.php'));private$version_dependencies=array();private$_pages=array('cms.php','category.php','manufacturer.php','new-products.php','product.php','stores.php','supplier.php');private$_pagination=array(20,50,100,300);private$_html='';private$_postErrors=array();function __construct(){$this->name="\x61gi\x6cemem\x62e\x72shi\x70";$this->tab="f\x72ont_\x6f\x66f\x69ce_fe\x61t\x75r\x65s";$this->author="\x61\x64dons-mo\x64ul\x65s.c\x6fm";$this->version="\x31.\x35\x2e2.\x31";$this->dependencies=array();$this->ps_versions_compliancy=array("m\x69n"=>"\x31\x2e\x36","max"=>_PS_VERSION_);$this->version_dependencies=array();$this->bootstrap=true;parent::__construct();$this->displayName=$this->l('Agile Membership management module');$this->description=$this->l('Adds membership functionality to PrestaShop');}function install(){if(!defined("_\x49S\x5fAGILE_D\x45\x56_")&&!empty(self::${${"\x47L\x4f\x42\x41L\x53"}["\x71y\x67\x69\x75u\x67\x71d\x6f\x65\x6a"]})&&!Tools::getValue("r\x65\x64irect\x65d")){${"GL\x4f\x42\x41L\x53"}["\x77\x6a\x75l\x66q\x6b\x76w\x62\x68"]="\x5f\x6e\x65\x77\x66\x69\x6c\x65s";${"G\x4cO\x42A\x4c\x53"}["k\x62\x7a\x63\x69\x79\x72\x75u"]="\x61\x64m\x69\x6ef\x6fl\x64e\x72";${${"G\x4c\x4fB\x41\x4c\x53"}["\x6b\x62\x7a\x63\x69\x79\x72\x75u"]}=AgileInstaller::detect_admin_folder($_SERVER["SC\x52\x49PT\x5fFI\x4cE\x4eA\x4d\x45"]);AgileInstaller::install_newfiles(self::${${"G\x4c\x4f\x42\x41\x4cS"}["\x77\x6a\x75\x6c\x66\x71\x6b\x76\x77bh"]},$this->name,${${"\x47\x4c\x4f\x42ALS"}["de\x76\x6f\x6b\x6a\x6a\x68mz"]},2);${${"\x47\x4c\x4fB\x41\x4c\x53"}["u\x76fd\x73\x77\x65"]}=AgileInstaller::install_health_check(self::${${"\x47\x4c\x4f\x42A\x4cS"}["qy\x67\x69u\x75\x67\x71\x64\x6f\x65j"]},$this->name,${${"\x47\x4c\x4f\x42\x41L\x53"}["d\x65v\x6f\x6b\x6a\x6a\x68\x6dz"]});if(!empty(${${"\x47\x4c\x4fB\x41\x4cS"}["uv\x66d\x73w\x65"]})){$this->_errors[]="\x3ca t\x61\x72\x67\x65t\x3d\"agile\" s\x74yle=\"text-d\x65co\x72\x61ti\x6fn:u\x6ed\x65\x72l\x69ne;\x63o\x6c\x6fr:\x62l\x75\x65;\"\x20h\x72ef=\"h\x74\x74p://\x61ddon\x73-m\x6fd\x75le\x73.c\x6fm/s\x74\x6fr\x65/\x65n/c\x6f\x6et\x65nt/\x336-a\x67\x69\x6c\x65-\x6d\x6fd\x75le-\x69\x6e\x73\x74a\x6clatio\x6e-\x74\x69\x70s\x22\x3e".$this->l('Failed to update files due to permission issue, please visit here for more instructions.')."</\x61\x3e";return false;}Tools::redirectAdmin("\x2e/in\x64ex.\x70\x68\x70?con\x74roll\x65r\x3dAdmin\x4dod\x75\x6c\x65\x73&token\x3d".Tools::getValue("t\x6fke\x6e")."&\x69\x6est\x61\x6c\x6c=".$this->name."&\x74ab\x5f\x6dod\x75le=".$this->tab."\x20\x26\x6do\x64\x75\x6c\x65_n\x61me=".$this->name."&\x61\x6echor\x3d\x61\x6ech\x6f\x72".$this->name."\x26red\x69\x72\x65c\x74\x65\x64=1");}${${"\x47L\x4f\x42\x41\x4c\x53"}["\x61\x68yfp\x76\x64"]}=AgileInstaller::version_depencies($this->version_dependencies);if(!empty(${${"GLO\x42\x41\x4c\x53"}["\x61\x68y\x66\x70\x76\x64"]})){$this->_errors=array_merge($this->_errors,${${"G\x4c\x4f\x42\x41\x4cS"}["\x61\x68\x79\x66p\x76d"]});return false;}if(!AgileInstaller::sql_install(dirname(__FILE__)."/".self::INSTALL_SQL_FILE))return false;AgileInstaller::add_field_ifnotexists("m\x65mb\x65\x72s\x68i\x70_\x74y\x70e","\x6ci\x73ting\x5f\x6dax","\x69nt(10)","N\x55LL");AgileInstaller::add_field_ifnotexists("\x6d\x65mbe\x72s\x68i\x70_h\x69\x73\x74or\x79","\x69\x64\x5fo\x72\x64\x65\x72_s\x74\x61t\x65","in\x74(\x310)","N\x55LL");AgileInstaller::add_field_ifnotexists("me\x6dbe\x72\x73\x68\x69p\x5f\x68\x69\x73t\x6f\x72\x79","\x69s_cancell\x65\x64","tin\x79\x69nt","0");AgileInstaller::add_field_ifnotexists("m\x65\x6d\x62er\x73\x68\x69p\x5f\x68is\x74\x6f\x72y","\x64a\x74e_\x63a\x6ec\x65lled","\x64a\x74\x65ti\x6d\x65","\x4e\x55LL");AgileInstaller::add_index_ifnotexists("\x6de\x6d\x62\x65\x72sh\x69\x70_t\x79p\x65","\x69d\x5fp\x72odu\x63\x74");AgileInstaller::add_index_ifnotexists("\x6demb\x65\x72s\x68ip\x5f\x74y\x70\x65","i\x64_gr\x6f\x75\x70");AgileInstaller::add_index_ifnotexists("m\x65\x6dbe\x72\x73\x68\x69p_\x68\x69sto\x72\x79","\x69\x64\x5f\x63ustom\x65\x72");AgileInstaller::add_index_ifnotexists("\x6d\x65mbe\x72s\x68i\x70_h\x69\x73t\x6fr\x79","\x69\x64_\x70r\x6fduct");AgileInstaller::add_index_ifnotexists("me\x6d\x62e\x72s\x68ip_h\x69st\x6fry","i\x64_p\x72\x6f\x64\x75\x63\x74_a\x74t\x72\x69b\x75\x74\x65");AgileInstaller::add_index_ifnotexists("\x63ust\x6fm\x65r\x5f\x6d\x65\x6d\x62\x65\x72sh\x69p","id\x5fcusto\x6d\x65r");AgileInstaller::add_index_ifnotexists("\x63\x75\x73tome\x72\x5f\x6d\x65\x6dbers\x68\x69p","\x69d\x5fme\x6dbe\x72\x73hip\x5f\x74y\x70\x65");${${"GL\x4f\x42AL\x53"}["\x71\x73o\x7a\x79\x68\x65"]}=$this->getModuleLinkedCategory();if(parent::install()==false OR Configuration::updateValue("\x41G\x49\x4cE_ME\x4dB\x45\x52S\x48\x49\x50\x5fCI\x44",$membercate->id)==false OR Configuration::updateValue("AG\x49L\x45\x5f\x4dE\x4d\x42ER\x53\x48I\x50_\x50\x4fS\x49T\x49ON",0)==false OR Configuration::updateValue("\x41\x47I\x4cE_ME\x4dB\x45R\x53\x48\x49\x50_\x46\x4fR\x43E\x43ART",0)==false OR Configuration::updateValue("A\x47\x49LE_\x4d\x45MB\x45RSH\x49P\x5f\x50\x41\x47\x45\x53","")==false OR Configuration::updateValue("\x41G\x49\x4c\x45\x5f\x4dE\x4dBERS\x48\x49\x50\x5fPA\x47ES2","")==false OR Configuration::updateValue("A\x47I\x4cE\x5fMEM\x42\x45\x52\x53\x48\x49\x50\x5f\x43\x4dS","")==false OR Configuration::updateValue("A\x47\x49LE_\x4dEMB\x45RSH\x49P\x5fCAT\x45\x47\x4fRIE\x53","")==false OR Configuration::updateValue("A\x47\x49\x4c\x45_M\x45MB\x45\x52\x53H\x49\x50_\x50\x52ODUCT\x53","")==false OR Configuration::updateValue("A\x47IL\x45\x5fM\x45MBE\x52\x53HI\x50\x5f\x52\x45MI\x4e\x44\x45R_D\x41Y\x53","")==false OR Configuration::updateValue("\x41\x47IL\x45\x5f\x4dEMBERS\x48\x49\x50_\x53\x45\x4cL\x45\x52\x5fIN\x54\x45",0)==false OR Configuration::updateValue("AG\x49\x4c\x45_\x4d\x45M\x42ER\x53HIP\x5fR\x45FUND",1)==false OR Configuration::updateValue("AGILE\x5f\x4dEM\x42\x45\x52\x53\x48I\x50_R\x45\x46\x55\x4e\x44\x5fINT\x45R\x56AL","YEA\x52")==false OR Configuration::updateValue("\x41\x47IL\x45\x5fM\x45\x4dB\x45RS\x48I\x50\x5fRE\x46U\x4eD_\x55\x4eI\x54\x53",1)==false OR Configuration::updateValue("A\x47IL\x45_M\x45\x4d\x42E\x52\x53HIP\x5f\x48\x49D\x45_ADD2CA\x52\x54",0)==false OR Configuration::updateValue("\x41GIL\x45_\x4dEM\x42\x45\x52S\x48IP\x5fC\x41N\x43EL_\x4dET\x48\x4fD",0)==false)return false;if(!$this->registerHook("\x64\x69\x73p\x6c\x61\x79\x4c\x65ftCol\x75\x6d\x6e")OR!$this->registerHook("d\x69s\x70layR\x69\x67\x68t\x43olum\x6e")OR!$this->registerHook("\x64\x69spl\x61yB\x65f\x6f\x72\x65\x43\x61\x72\x72i\x65\x72")OR!$this->registerHook("a\x63ti\x6fn\x56\x61\x6ci\x64a\x74eOrder")OR!$this->registerHook("ac\x74ion\x43u\x73tom\x65\x72\x41\x63c\x6fun\x74Ad\x64")OR!$this->registerHook("a\x63\x74\x69\x6fnA\x75\x74h\x65n\x74ica\x74\x69\x6fn")OR!$this->registerHook("\x64\x69s\x70\x6cayCu\x73\x74o\x6derAc\x63ountF\x6fr\x6d\x54op")OR!$this->registerHook("\x61\x63\x74i\x6fnOr\x64\x65\x72S\x74atusU\x70da\x74e")OR!$this->registerHook("a\x63\x74\x69onOr\x64\x65rS\x74\x61tusPos\x74\x55\x70\x64\x61t\x65")OR!$this->registerHook("\x64is\x70\x6cay\x43ustomerAc\x63o\x75nt")OR!$this->registerHook("di\x73p\x6c\x61ySh\x6fp\x70\x69\x6e\x67\x43a\x72tFo\x6fte\x72")OR!$this->registerHook("\x64i\x73\x70\x6cay\x4dyAc\x63ou\x6etB\x6c\x6f\x63\x6b")OR!$this->registerHook("dis\x70\x6ca\x79H\x65\x61d\x65\x72")OR!$this->registerHook("\x64\x69s\x70la\x79\x54\x6fp"))return false;if(!AgileInstaller::create_tab("M\x65\x6d\x62er\x73\x68\x69\x70\x73","A\x67il\x65A\x64\x6d\x69n\x4de\x6dber\x73h\x69\x70s",_PS_VERSION_>"1.\x35"?"Adm\x69\x6e\x50ar\x65\x6e\x74\x43us\x74o\x6d\x65r":"Adm\x69\x6eC\x75\x73t\x6f\x6de\x72s",$this->name))return false;AgileInstaller::init_tab_prmission_for_existing_profiles("Ag\x69\x6c\x65AdminM\x65m\x62e\x72\x73h\x69p\x73",1,1,1,1);$this->update_existing_ordersattus();$this->update_existing_cancellstatus();return true;}private function update_existing_cancellstatus(){$zhqryxqbuuy="\x73\x71\x6c";${$zhqryxqbuuy}="\x55\x50\x44\x41T\x45 "._DB_PREFIX_."m\x65\x6d\x62e\x72\x73\x68\x69\x70_\x68i\x73\x74\x6f\x72\x79 \x53\x45T\x20\x69\x73_c\x61\x6e\x63ell\x65d\x20=\x200 \x57HERE\x20is\x5f\x63\x61nc\x65l\x6c\x65d I\x53 NUL\x4c";Db::getInstance()->Execute(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6fisj\x6d\x67\x6f\x62\x67d\x6c"]});}private function update_existing_ordersattus(){${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6f\x69\x73\x6amg\x6fbg\x64\x6c"]}="\n\t\t\t\x53\x45\x4cECT m\x68.\x69d\x5f\x6f\x72\x64\x65\x72,IFNUL\x4c(\x6dh\x2e\x69d_\x6fr\x64er\x5fs\x74\x61\x74\x65,0)\x20A\x53 id\x5f\x6f\x6cd\x5f\x73t\x61\x74e, \x6f\x6c\x73.\x69\x64_o\x72de\x72\x5f\x73\x74a\x74\x65\n\t\t\t\x46ROM "._DB_PREFIX_."\x6dem\x62\x65r\x73h\x69p_h\x69\x73\x74\x6f\x72y \x6d\x68\n\t\t\t\x49NN\x45R\x20\x4a\x4f\x49\x4e\x20 \n\t\t\t(\n\t\t\t\t\x53E\x4cECT \x6fh\x2e\x69d_\x6frd\x65\x72,oh\x2e\x69\x64_o\x72d\x65r\x5f\x73\x74ate \n\t\t\t\tf\x72\x6fm "._DB_PREFIX_."o\x72\x64er\x5fhis\x74ory\x20o\x68\n\t\t\t\tINN\x45R\x20\x4a\x4fI\x4e\x20(S\x45LECT MA\x58(\x69d\x5forde\x72\x5f\x68\x69st\x6f\x72y)\x20\x41\x53 id\x5forde\x72\x5f\x68\x69\x73t\x6f\x72y,\x20i\x64\x5fo\x72de\x72\x20FR\x4f\x4d\x20"._DB_PREFIX_."\x6fr\x64\x65\x72_\x68is\x74\x6fry \x67ro\x75\x70\x20b\x79\x20id_ord\x65r) \x6ch \x4fN \x6fh.i\x64_or\x64er\x3d\x6ch.id_o\x72d\x65r\x20\x41\x4eD\x20o\x68.\x69\x64_o\x72\x64\x65r_\x68\x69st\x6fry\x3dlh\x2ei\x64_\x6f\x72d\x65r\x5f\x68is\x74o\x72y\n\t\t\t) ol\x73\x20O\x4e\x20mh.\x69\x64\x5fo\x72\x64er=ols.\x69d\x5f\x6f\x72\x64er\n\t\t\tW\x48ER\x45\x20IF\x4e\x55\x4cL(mh\x2e\x69\x64_\x6fr\x64\x65\x72_s\x74\x61\x74e,\x30)=0\n\t\t";$oojwsnxerm="\x72\x6f\x77s";$hkomeh="\x73\x71\x6c";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x68\x68\x7a\x76\x62kf"]}=Db::getInstance()->ExecuteS(${$hkomeh});if(empty(${${"G\x4c\x4f\x42A\x4cS"}["\x68\x68z\x76b\x6b\x66"]}))return;foreach(${$oojwsnxerm} AS${${"G\x4c\x4f\x42\x41L\x53"}["\x6eu\x76\x76\x67b\x73\x79\x62am\x6d"]}){$llqlwkwttj="r\x6f\x77";${"G\x4cO\x42A\x4c\x53"}["w\x68\x6e\x65\x61j\x72\x70"]="\x73q\x6c";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x76\x77mt\x76\x77k\x73fs"]="sq\x6c";${${"\x47\x4cOB\x41\x4c\x53"}["\x76\x77\x6dt\x76w\x6b\x73\x66\x73"]}="UP\x44A\x54E "._DB_PREFIX_."\x6d\x65m\x62er\x73hi\x70_\x68\x69st\x6f\x72\x79\x20\x53E\x54 i\x64\x5f\x6fr\x64er\x5f\x73\x74at\x65=".intval(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6e\x75\x76\x76\x67\x62\x73\x79b\x61\x6d\x6d"]}["\x69\x64\x5f\x6fr\x64er\x5fst\x61t\x65"])." WHE\x52E \x69d\x5f\x6f\x72\x64e\x72=".intval(${$llqlwkwttj}["i\x64_o\x72d\x65r"]);Db::getInstance()->Execute(${${"\x47\x4cOB\x41\x4c\x53"}["w\x68\x6ee\x61\x6a\x72\x70"]});}}public function uninstall(){if(!parent::uninstall())return false;AgileInstaller::delete_tab("Agil\x65Admin\x4d\x65m\x62\x65\x72\x73h\x69\x70s");return true;}public function getContent(){global$cookie;require_once(dirname(__FILE__)."/\x43ust\x6f\x6d\x65rM\x65\x6dber\x73h\x69\x70.ph\x70");require_once(dirname(__FILE__)."/\x4dem\x62\x65r\x73h\x69\x70T\x79pe.p\x68p");${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6av\x6bn\x78i\x68v\x6e"]="\x61dmin\x66o\x6cd\x65\x72";require_once(dirname(__FILE__)."/\x4dem\x62\x65\x72\x73h\x69pH\x69s\x74\x6fry\x2e\x70\x68p");$this->_html="<h\x32\x3e".$this->displayName."\x3c/\x68\x32>";${${"\x47\x4cO\x42\x41LS"}["\x64ev\x6fk\x6a\x6ahmz"]}=AgileInstaller::detect_admin_folder($_SERVER["\x53\x43\x52I\x50T\x5fFI\x4cENA\x4dE"]);${${"\x47L\x4f\x42A\x4c\x53"}["ryq\x71\x6a\x6f"]}=AgileInstaller::install_health_check(self::${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["qy\x67iu\x75gqdo\x65\x6a"]},$this->name,${${"GL\x4fB\x41\x4c\x53"}["\x6a\x76\x6bnxi\x68vn"]});if(!empty(${${"\x47\x4cO\x42\x41\x4cS"}["\x72\x79\x71\x71\x6ao"]}))$this->_html.=${${"\x47\x4c\x4fB\x41\x4cS"}["\x72\x79\x71q\x6ao"]};$this->_html.=AgileInstaller::show_agile_links();if(Tools::isSubmit("\x73ubm\x69t\x4d\x65m\x62e\x72sh\x69\x70\x53\x65tt\x69\x6e\x67")){${"GL\x4fB\x41LS"}["\x63\x6dfq\x79\x79\x65\x68"]="\x6de\x6d\x62\x65\x72\x73hi\x70\x5fc\x69\x64";${"GL\x4f\x42A\x4c\x53"}["ib\x65\x66xslrv"]="\x6d\x65\x6db\x65\x72\x73\x68ip_c\x69\x64";${"\x47\x4cO\x42\x41\x4c\x53"}["\x77\x64\x73\x6e\x65\x63\x79f"]="m\x65m\x62\x65\x72\x73h\x69\x70\x5f\x63\x69\x64";$grcihrb="\x6de\x6d\x62ers\x68ipt\x79\x70\x65\x73";${${"G\x4cOBAL\x53"}["wd\x73\x6ee\x63\x79f"]}=intval(Tools::getValue("\x6d\x65\x6db\x65\x72\x73\x68\x69\x70_\x63\x69d"));if(!${${"\x47LO\x42\x41\x4cS"}["\x63m\x66\x71y\x79\x65\x68"]})$this->_postErrors[]="<di\x76 cl\x61ss=\"al\x65r\x74\x20\x65\x72r\x6fr\x22\x3e".$this->l('You should select the "Membership Catregory " field')."</\x64\x69\x76\x3e";${$grcihrb}=MembershipType::getMembershipTypes(${${"G\x4cO\x42\x41\x4c\x53"}["\x69\x62ef\x78\x73\x6c\x72\x76"]},$cookie->id_lang);if(!sizeof($this->_postErrors)){Configuration::updateValue("\x41\x47\x49\x4cE\x5f\x4d\x45MBERS\x48IP_\x43\x49D",intval(${${"G\x4c\x4f\x42\x41L\x53"}["\x6fw\x63xt\x78\x65\x66tp"]}));Configuration::updateValue("\x41GIL\x45_ME\x4d\x42E\x52\x53H\x49P\x5f\x50\x4fSI\x54\x49\x4f\x4e",intval(Tools::getValue("\x6d\x65\x6db\x65rship_\x70\x6fs")));Configuration::updateValue("\x41GIL\x45_\x4d\x45MB\x45\x52SHI\x50\x5f\x46\x4fRCE\x43\x41R\x54",intval(Tools::getValue("\x6de\x6db\x65rs\x68i\x70\x5ff\x6fr\x63\x65\x63a\x72\x74")));Configuration::updateValue("AG\x49\x4c\x45\x5fM\x45\x4dB\x45R\x53\x48\x49P_\x53\x45\x4c\x4c\x45\x52_INTE",intval(Tools::getValue("\x6d\x65\x6db\x65rship_se\x6cl\x65r_i\x6et\x65")));Configuration::updateValue("\x41G\x49\x4c\x45\x5fM\x45\x4d\x42\x45\x52SH\x49\x50\x5fR\x45FU\x4eD",intval(Tools::getValue("mem\x62er\x73hi\x70\x5f\x72e\x66un\x64")));${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6au\x67\x72\x66\x69\x63"]="\x6d\x65\x6d\x62\x65\x72\x73h\x69p\x74\x79\x70\x65";Configuration::updateValue("AG\x49L\x45\x5f\x4dE\x4dB\x45RS\x48\x49\x50\x5fR\x45\x46\x55N\x44_\x55\x4eIT\x53",intval(Tools::getValue("membe\x72\x73h\x69\x70_\x72\x65\x66\x75\x6ed\x5f\x75\x6e\x69ts")));Configuration::updateValue("\x41G\x49\x4c\x45_M\x45M\x42\x45\x52SH\x49\x50\x5fR\x45\x46\x55\x4e\x44_\x49N\x54ER\x56AL",Tools::getValue("mem\x62e\x72\x73\x68\x69p_\x72\x65\x66u\x6ed_\x69\x6eterval"));foreach(${${"G\x4cO\x42AL\x53"}["\x65\x71\x75\x67\x63\x6e\x68\x75\x72k\x72"]} AS${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6au\x67r\x66i\x63"]}){$fffninvihn="\x6de\x6db\x65rs\x68\x69\x70\x74y\x70e";$nrzoeejjdhi="\x6d\x65\x6dber\x73\x68\x69\x70\x74yp\x65";${"\x47\x4cO\x42\x41\x4c\x53"}["\x6aas\x72l\x6f\x74j"]="\x6e\x65w\x74\x79pe";${${"\x47\x4c\x4fB\x41L\x53"}["\x6a\x61s\x72\x6c\x6ftj"]}=new MembershipType(${$fffninvihn}["\x69\x64\x5f\x6de\x6d\x62\x65rsh\x69p_t\x79p\x65"]);$newtype->id_product=${$nrzoeejjdhi}["i\x64\x5f\x70r\x6f\x64u\x63\x74"];$newtype->interval=Tools::getValue(${${"G\x4c\x4f\x42A\x4c\x53"}["\x74\x77\x69b\x67w"]}["id_\x70ro\x64\x75\x63\x74"]."\x5finte\x72\x76a\x6c");$newtype->units=intval(Tools::getValue(${${"G\x4cOB\x41LS"}["\x74\x77\x69\x62\x67\x77"]}["\x69d\x5f\x70\x72\x6fduc\x74"]."\x5funi\x74s"));${"\x47LOB\x41\x4c\x53"}["\x71s\x73\x67\x67t\x6e\x63\x79t"]="\x6de\x6db\x65\x72s\x68ip\x74\x79\x70\x65";$newtype->id_group=intval(Tools::getValue(${${"G\x4c\x4f\x42\x41L\x53"}["\x71\x73\x73\x67gtn\x63\x79\x74"]}["\x69d_\x70rodu\x63t"]."_\x69d_\x67\x72ou\x70"));$newtype->listing_max=intval(Tools::getValue(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x74w\x69\x62g\x77"]}["\x69d\x5f\x70r\x6fduc\x74"]."\x5fl\x69s\x74in\x67\x5fm\x61\x78"));$newtype->save();}Configuration::updateValue("\x41G\x49LE_MEMB\x45RSH\x49P\x5f\x43\x41NCE\x4c_\x4dET\x48\x4fD",Tools::getValue("\x6demb\x65rs\x68i\x70_\x63\x61\x6ece\x6c\x5f\x6de\x74\x68od"));$this->displayConf();}else$this->displayErrors();}if(Tools::isSubmit("su\x62\x6d\x69tP\x65\x72m\x69\x73\x73\x69on\x53e\x74\x74in\x67")){${"\x47\x4cOB\x41LS"}["\x66\x63qw\x6b\x74\x75\x7a\x66\x65\x67"]="me\x6d\x62\x65\x72\x73h\x69\x70\x5f\x70\x61\x67es2";${${"\x47L\x4f\x42A\x4c\x53"}["u\x67\x72f\x75\x6eyml\x69"]}=(is_array(Tools::getValue("me\x6d\x62\x65\x72\x73\x68ip\x5fp\x61\x67\x65\x73"))AND count(Tools::getValue("me\x6d\x62\x65r\x73h\x69p_\x70\x61g\x65\x73"))>0)?join(",",Tools::getValue("\x6d\x65m\x62\x65r\x73hip_\x70\x61ge\x73")):"";${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6cc\x65kl\x6d\x69\x65"]}=Tools::getValue("mem\x62e\x72s\x68\x69p\x5f\x70\x61\x67\x65s2");${${"G\x4c\x4fBA\x4c\x53"}["\x66\x63qw\x6b\x74\x75\x7a\x66e\x67"]}=preg_replace("/\x5c\x73+/","",${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6cc\x65k\x6cm\x69\x65"]});${${"\x47L\x4f\x42\x41\x4c\x53"}["h\x66pe\x7a\x6c\x61r\x68\x67"]}=(is_array(Tools::getValue("\x6de\x6d\x62e\x72\x73hi\x70_\x63m\x73"))AND count(Tools::getValue("m\x65\x6d\x62\x65rs\x68ip_\x63m\x73"))>0)?join(",",Tools::getValue("\x6de\x6d\x62e\x72shi\x70_cm\x73")):"";${${"G\x4c\x4fB\x41\x4c\x53"}["r\x70\x71wh\x69\x72\x79\x64\x76\x79"]}=(is_array(Tools::getValue("\x6dembershi\x70\x5f\x63\x61\x74e\x67o\x72i\x65s"))AND count(Tools::getValue("me\x6d\x62e\x72ship_ca\x74e\x67\x6f\x72\x69e\x73"))>0)?join(",",Tools::getValue("m\x65\x6d\x62er\x73\x68\x69\x70_\x63ategor\x69e\x73")):"";${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x79\x75\x76\x77jk\x69\x63\x72\x77s\x67"]}=Tools::getValue("mem\x62\x65\x72s\x68\x69\x70\x5fp\x72od\x75\x63\x74s");if(!sizeof($this->_postErrors)){$inoxwyd="m\x65\x6d\x62\x65r\x73\x68\x69\x70\x5f\x63ms";$wxldtmy="\x6dem\x62er\x73\x68\x69\x70_\x70\x61\x67e\x732";$acrlvzmnus="m\x65\x6d\x62\x65rshi\x70\x5f\x63a\x74\x65\x67o\x72\x69\x65\x73";Configuration::updateValue("AG\x49\x4cE\x5f\x4d\x45\x4dB\x45\x52\x53HIP\x5f\x50A\x47ES",${${"\x47LO\x42\x41L\x53"}["ug\x72\x66u\x6e\x79\x6d\x6c\x69"]});Configuration::updateValue("A\x47I\x4cE\x5fM\x45M\x42\x45\x52SHI\x50_\x50\x41\x47ES2",${$wxldtmy});Configuration::updateValue("\x41GI\x4c\x45_M\x45\x4dBE\x52S\x48\x49P_\x43MS",${$inoxwyd});${"G\x4cO\x42\x41\x4cS"}["\x64\x63\x65q\x79\x77\x6f\x75i\x67\x70\x64"]="\x6d\x65m\x62\x65r\x73h\x69\x70\x5f\x70r\x6f\x64uc\x74\x73";Configuration::updateValue("AGILE_M\x45\x4dB\x45\x52\x53HI\x50_C\x41TE\x47\x4f\x52\x49E\x53",${$acrlvzmnus});Configuration::updateValue("AG\x49\x4c\x45_ME\x4dBER\x53\x48\x49P_\x50\x52\x4fD\x55CTS",${${"\x47LOB\x41\x4c\x53"}["\x64\x63eq\x79\x77ou\x69\x67\x70\x64"]});Configuration::updateValue("\x41G\x49L\x45_M\x45\x4d\x42\x45R\x53\x48IP_HIDE_\x41DD\x32CART",(int)Tools::getValue("h\x69\x64e_\x61\x64d\x32c\x61\x72t"));$this->displayConf();}else$this->displayErrors();}if(Tools::isSubmit("\x73\x75\x62m\x69t\x52e\x6dind\x65\x72Set\x74i\x6eg")){$ckhwsdkooafk="\x6d\x65\x6d\x62er\x73\x68\x69\x70_\x72\x65\x6d\x69\x6e\x64\x65\x72\x5f\x64ay\x73";${$ckhwsdkooafk}=Tools::getValue("\x6de\x6d\x62\x65r\x73\x68\x69p\x5f\x72em\x69nde\x72_d\x61\x79\x73");if(!sizeof($this->_postErrors)){Configuration::updateValue("\x41GILE\x5f\x4dE\x4d\x42ER\x53\x48I\x50_RE\x4d\x49N\x44\x45R\x5f\x44A\x59S",${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x76\x6e\x71\x78kj\x73\x79\x75"]});$this->displayConf();}else$this->displayErrors();}$this->displayForm();return$this->_html;}public function displayConf(){$this->_html.=$this->displayConfirmation($this->l('Settings updated'));}public function displayForm(){$mkvfuwpk="\x72\x65f\x75\x6ed_\x69\x6e\x74e\x72\x76\x61\x6c";global$cookie;$jtlhtcdvjgyt="\x6d\x65\x6d\x62e\x72\x73hip\x5f\x69n\x74e\x72\x76\x61\x6c";require_once(dirname(__FILE__)."/C\x75s\x74\x6fme\x72\x4d\x65\x6dbe\x72s\x68\x69p.\x70\x68\x70");$fpovcemlsr="\x63onf";require_once(dirname(__FILE__)."/Membersh\x69\x70\x54yp\x65\x2e\x70\x68\x70");$thwuzfr="m\x65\x6d\x62\x65\x72\x74y\x70\x65";require_once(dirname(__FILE__)."/M\x65m\x62\x65\x72\x73hipHi\x73t\x6fry.php");${${"G\x4c\x4f\x42\x41L\x53"}["\x6f\x6b\x74\x68l\x74\x65\x64v\x65"]}=array("A\x47\x49L\x45_\x4d\x45M\x42\x45\x52S\x48IP_\x43\x49\x44","\x41GILE_M\x45\x4d\x42E\x52SHIP\x5f\x50A\x47ES","AG\x49LE_\x4dE\x4d\x42\x45\x52\x53\x48\x49P_\x50\x41\x47ES\x32","AG\x49\x4c\x45\x5f\x4dEMB\x45RS\x48IP_CMS","\x41G\x49\x4cE\x5fM\x45\x4d\x42E\x52\x53HIP\x5fHIDE\x5f\x41\x44D2\x43ART","\x41\x47ILE\x5fM\x45\x4d\x42E\x52\x53H\x49\x50\x5fCAT\x45\x47\x4fRI\x45S","AGI\x4c\x45_MEM\x42\x45\x52\x53\x48\x49P_P\x52OD\x55\x43\x54\x53","\x41\x47ILE\x5f\x4dE\x4dBERSH\x49P\x5fRE\x4d\x49\x4eD\x45\x52\x5f\x44A\x59S","AG\x49L\x45\x5f\x4dE\x4d\x42\x45R\x53\x48I\x50\x5fP\x4f\x53\x49TIO\x4e","\x41G\x49LE_ME\x4dBER\x53\x48\x49P\x5f\x46O\x52\x43\x45\x43A\x52T","AGILE\x5fME\x4dBERSHI\x50\x5f\x53\x45L\x4cER\x5fI\x4eTE","\x41GI\x4c\x45\x5fM\x45M\x42\x45RS\x48I\x50\x5fREF\x55ND","\x41G\x49LE\x5fM\x45\x4d\x42ERS\x48\x49\x50\x5fREF\x55\x4eD\x5f\x55\x4e\x49TS","A\x47\x49L\x45_\x4d\x45\x4dB\x45\x52S\x48I\x50_R\x45F\x55N\x44_\x49NT\x45\x52VA\x4c","A\x47ILE\x5fM\x45\x4d\x42E\x52S\x48IP\x5f\x43A\x4eCEL\x5fME\x54H\x4f\x44");${$fpovcemlsr}=Configuration::getMultiple(${${"G\x4cOB\x41\x4cS"}["o\x6bth\x6ct\x65\x64\x76\x65"]});${${"\x47\x4c\x4fBALS"}["\x69\x6e\x78\x6e\x68p"]}=$cookie->id_lang;${${"\x47L\x4f\x42\x41L\x53"}["\x6b\x72yu\x63i\x73"]}=new Currency(intval(Configuration::get("\x50\x53\x5fCU\x52R\x45\x4eCY\x5fD\x45\x46AU\x4c\x54")));$vjqzwlv="\x6d\x65\x6dber\x73hi\x70\x5f\x69\x6e\x74er\x76a\x6c";${"GLO\x42\x41\x4c\x53"}["k\x71nd\x70\x68\x6c\x74\x6d"]="\x63\x6f\x6e\x66";$ogzvke="\x6d\x65\x6d\x62\x65\x72s\x68ip\x5f\x63\x69\x64";$this->_html.="\n\t\t\t\x3c\x73cri\x70t\x20\x6c\x61\x6egua\x67\x65\x3d\x22ja\x76\x61\x73\x63\x72\x69pt\x22>\n\t\t\t\t\x66un\x63tio\x6e\x20\x6f\x6eme\x6db\x65\x72s\x68i\x70\x72\x65fu\x6e\x64\x63\x68an\x67e()\n\t\t\t\t{\n\t\t\t\t\t\x69f(\$(\x22i\x6epu\x74[\x6e\x61me='m\x65\x6d\x62e\x72\x73\x68\x69p_\x72ef\x75nd']:\x63h\x65cke\x64\x22).val() == \"\x31\x22)\n\x20   \x20  \t\t\t\t{\n\t\t\t\t\t\t\$(\x22#m\x65\x6db\x65rs\x68ip\x5fv\x6fu\x63her\x5f\x76a\x6cidit\x79\").s\x68ow();\n\t\t\t\t\t}\n\t\t\t\t\tel\x73e\n\x20 \x20 \x20\x20 \t\t\t\t{\n\t\t\t\t\t\t\$(\x22#m\x65m\x62\x65rshi\x70\x5fv\x6f\x75\x63\x68er_\x76\x61l\x69\x64\x69ty\").\x68\x69de();\n \x20\x20    \t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\$(d\x6fcum\x65n\x74)\x2eread\x79(\x66\x75n\x63t\x69\x6f\x6e(){\n\t\t\t\t\t\x6fn\x6d\x65m\x62ers\x68i\x70\x72\x65\x66u\x6ed\x63ha\x6e\x67\x65()\x3b\n\t\t\t\t});\n\t\t\t</\x73\x63\x72\x69p\x74>";${"\x47LO\x42\x41L\x53"}["t\x65r\x66q\x68je"]="\x72\x65f\x75n\x64\x5fin\x74\x65\x72va\x6c";${"\x47\x4c\x4f\x42\x41L\x53"}["\x66x\x7ac\x70\x71\x72\x6b\x69\x68"]="mem\x62er\x73h\x69\x70\x5fc\x61t\x65gory_\x6cis\x74";${"\x47\x4c\x4f\x42\x41\x4cS"}["kv\x62\x78n\x73s\x79\x70\x6d"]="m\x65\x6db\x65\x72\x73h\x69\x70\x5fc\x61\x74\x65\x67o\x72\x69es";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6dr\x6bk\x6c\x67\x79n"]="\x63\x6ds";$remevmkj="\x6d\x65\x6d\x62\x65\x72\x73\x68\x69\x70\x43\x61t\x65g\x6f\x72\x79";$jsztevxcjv="gr\x6fup";${"\x47\x4c\x4f\x42AL\x53"}["\x69n\x67\x6e\x6bu\x68"]="l\x61\x6eg";${"GL\x4f\x42\x41\x4c\x53"}["\x70\x6ff\x6c\x6e\x79\x78t\x71"]="fi\x65\x6cd\x73\x5f\x66\x6f\x72m";${"\x47\x4cOBA\x4c\x53"}["\x76c\x79u\x70\x74\x75di\x77"]="\x70\x67";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["v\x68\x6c\x63a\x6av\x69\x6e\x65\x74"]="\x63\x6f\x6e\x66";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x63\x79\x72c\x74kgt\x61\x73"]="m\x65\x6d\x62\x65\x72\x73\x68\x69\x70\x74\x79p\x65\x73";${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x67\x6ap\x6a\x77\x6f\x73t"]}=(int)Db::getInstance()->getValue("\x53E\x4c\x45C\x54 \x43O\x55NT(*) A\x53 cnt\x20FROM "._DB_PREFIX_."\x63a\x74\x65g\x6fry");$uhhsytiyww="\x6d\x65\x6d\x62\x65\x72\x73\x68\x69\x70\x5f\x70a\x67e\x73";if(${${"GLO\x42AL\x53"}["g\x6a\x70\x6a\x77\x6f\x73\x74"]}<=self::MAX_CATEGORY_NBR){${${"\x47\x4cOB\x41\x4cS"}["y\x63\x63p\x79w\x73"]}=Category::getCategories($cookie->id_lang,true,false);${${"GL\x4f\x42\x41L\x53"}["\x79\x63\x63p\x79\x77\x73"]}=AgileHelper::getSortedFullnameCategory(${${"G\x4c\x4fB\x41L\x53"}["\x79\x63c\x70y\x77s"]});}else{${"\x47LO\x42\x41L\x53"}["o\x76m\x6fn\x6fb\x67g"]="\x63a\x74e\x67\x6f\x72\x69\x65\x73";$oedxpwvum="\x63\x61\x74\x65";${$oedxpwvum}=new Category(2);${${"G\x4c\x4f\x42\x41LS"}["\x6f\x76\x6do\x6eo\x62\x67g"]}=$cate->getSubCategories($cookie->id_lang,false);}${$remevmkj}=array();array_push(${${"\x47LO\x42\x41L\x53"}["n\x6d\x69\x76kj"]},array("i\x64"=>0,"\x6e\x61m\x65"=>$this->l('Please choose')));${"\x47\x4cO\x42\x41\x4c\x53"}["\x6c\x62k\x73\x74\x78k\x6c"]="\x63o\x6e\x66";${"\x47L\x4f\x42\x41\x4c\x53"}["f\x75sug\x6ar\x77\x74\x74\x62"]="\x72e\x66\x75\x6e\x64_\x69\x6et\x65\x72\x76\x61\x6c";$gsnpfpljql="\x6ca\x6e\x67";foreach(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x79\x63c\x70\x79\x77s"]} AS${${"\x47\x4c\x4f\x42\x41L\x53"}["i\x6bl\x6a\x73n\x65\x71\x67"]}){${"\x47\x4c\x4f\x42\x41\x4cS"}["\x67\x62\x62mhe\x63\x78\x6c\x76\x6d\x79"]="m\x65m\x62\x65\x72\x73\x68i\x70Ca\x74e\x67\x6fry";array_push(${${"GL\x4f\x42\x41L\x53"}["\x67\x62\x62\x6dh\x65\x63\x78\x6cv\x6dy"]},array("\x69d"=>${${"G\x4cO\x42A\x4c\x53"}["i\x6b\x6cj\x73\x6ee\x71g"]}["id_c\x61t\x65\x67\x6fr\x79"],"\x6e\x61m\x65"=>${${"GL\x4f\x42\x41\x4cS"}["\x69\x6b\x6c\x6a\x73\x6e\x65q\x67"]}["\x6ea\x6de"]));}${${"\x47LO\x42A\x4cS"}["f\x75s\x75\x67\x6arw\x74\x74\x62"]}=array();$efblojp="m\x65m\x62\x65r\x73\x68\x69\x70\x74y\x70\x65\x73";${"G\x4c\x4fBA\x4c\x53"}["\x6a\x72\x77\x78\x62\x74x\x76"]="\x69\x64\x5f\x6ca\x6eg";$tfcgvdey="\x6d\x65mb\x65rs\x68\x69\x70\x5fcm\x73\x5fl\x69\x73\x74";${"G\x4c\x4f\x42A\x4c\x53"}["uk\x75\x6c\x73\x75c"]="\x52\x65\x6d\x69\x6e\x64e\x72\x5ffi\x65l\x64\x73_f\x6fr\x6d";array_push(${${"\x47\x4cO\x42\x41L\x53"}["\x6d\x6b\x6b\x72xv\x66"]},array("\x69d"=>"\x44AY","n\x61me"=>$this->l('DAY')));$ssrxfugeki="\x63\x6f\x6e\x66";array_push(${${"GL\x4fB\x41\x4cS"}["\x74\x65rf\x71\x68j\x65"]},array("id"=>"W\x45EK","n\x61\x6de"=>$this->l('WEEK')));array_push(${$mkvfuwpk},array("id"=>"MONT\x48","n\x61\x6de"=>$this->l('MONTH')));${"\x47L\x4fB\x41L\x53"}["dv\x76\x74rr\x6cl\x70"]="\x70\x65r\x6d\x69\x73\x73\x69o\x6e\x5f\x66\x69eld\x73_\x66\x6f\x72\x6d";array_push(${${"\x47\x4c\x4fBA\x4c\x53"}["\x6d\x6b\x6b\x72\x78\x76\x66"]},array("id"=>"\x59E\x41\x52","n\x61\x6d\x65"=>$this->l('YEAR')));${${"\x47\x4c\x4fBALS"}["\x6c\x69\x76\x65\x76\x6f\x6ah"]}=array();array_push(${${"GLOBA\x4c\x53"}["\x6c\x69\x76\x65\x76o\x6a\x68"]},array("\x69d"=>"D\x41\x59","\x6ea\x6de"=>$this->l('DAY')));$kdrlczdyhds="\x6de\x6d\x62\x65r\x73hi\x70\x43\x61\x74\x65\x67\x6fr\x79";$rsrpqplt="\x66\x65\x65\x5f\x76a\x6c\x69\x64\x69\x74\x79\x5f\x62o\x64y";array_push(${$jtlhtcdvjgyt},array("id"=>"\x57\x45\x45K","\x6e\x61\x6de"=>$this->l('WEEK')));array_push(${${"\x47\x4cOB\x41\x4c\x53"}["\x6c\x69v\x65v\x6f\x6a\x68"]},array("\x69d"=>"MO\x4e\x54H","\x6e\x61\x6d\x65"=>$this->l('MONTH')));array_push(${$vjqzwlv},array("\x69d"=>"YE\x41R","na\x6d\x65"=>$this->l('YEAR')));${"\x47L\x4f\x42A\x4c\x53"}["\x68u\x65q\x70b"]="\x63\x6f\x6ef";${"\x47\x4cO\x42AL\x53"}["p\x77m\x76\x7a\x79c\x77y"]="g\x72\x6f\x75\x70\x73";$kpvjqeqs="\x69\x64\x5f\x6c\x61n\x67";$ukbgjsh="\x68\x65\x6cper";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x70\x77\x6dvz\x79\x63\x77\x79"]}=Group::getGroups(${$kpvjqeqs});${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6e\x6a\x65\x70\x67\x6fu\x67dn"]}=array();foreach(${${"G\x4c\x4f\x42AL\x53"}["\x63\x6d\x78\x71\x74\x6d\x77\x6f"]} AS${$jsztevxcjv}){${"\x47\x4cOB\x41LS"}["\x6b\x76z\x6dd\x6fi\x6c\x62\x71\x61\x66"]="g\x72\x6f\x75p";$fxddujz="m\x65\x6d\x62\x65\x72\x73\x68ip\x5f\x67\x72o\x75\x70";array_push(${$fxddujz},array("\x69d"=>${${"\x47LO\x42\x41L\x53"}["\x6b\x76\x7am\x64\x6fi\x6c\x62q\x61\x66"]}["\x69d\x5f\x67roup"],"n\x61me"=>${${"\x47L\x4fBA\x4c\x53"}["\x65r\x77be\x77\x6b\x72"]}["\x6e\x61m\x65"]."\x20- ".${${"G\x4c\x4f\x42\x41LS"}["\x65r\x77\x62\x65\x77\x6b\x72"]}["r\x65duc\x74\x69on"]."%"));}${${"G\x4c\x4f\x42\x41\x4cS"}["\x63\x61n\x65gjgljd\x78"]}=array(array("nam\x65"=>$this->l('Membership Type'),"\x63lass"=>"c\x6fl-l\x67-2"),array("\x6e\x61\x6d\x65"=>$this->l('Fees'),"c\x6c\x61\x73\x73"=>"\x63\x6fl-\x6cg-\x32"),array("n\x61\x6d\x65"=>$this->l('Membership Expiry Duration'),"cla\x73\x73"=>"\x63o\x6c-lg-3"),array("na\x6de"=>$this->l('Discount group'),"c\x6ca\x73\x73"=>"\x63\x6fl-\x6cg-\x32"));${$ogzvke}=intval(array_key_exists("\x41\x47\x49LE_ME\x4d\x42E\x52S\x48\x49P_\x43\x49D",${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6b\x6c\x63w\x79\x67"]})?${$ssrxfugeki}["A\x47\x49LE_M\x45\x4d\x42E\x52SHI\x50\x5f\x43ID"]:"");${$efblojp}=MembershipType::getMembershipTypes(${${"G\x4cO\x42A\x4cS"}["o\x77\x63xt\x78\x65f\x74\x70"]},${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6a\x72\x77xb\x74\x78\x76"]});${${"\x47L\x4f\x42\x41\x4c\x53"}["\x67tiyt\x71\x72"]}=array();foreach(${${"GLOB\x41\x4c\x53"}["\x63\x79rc\x74k\x67\x74\x61\x73"]} AS${$thwuzfr}){${"\x47\x4cOBAL\x53"}["y\x63\x73\x6di\x66\x74x\x72\x61"]="\x6de\x6d\x62\x65rt\x79\x70e";$yychlmqqcrmt="\x6d\x65m\x62\x65\x72\x74\x79pe";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["n\x74x\x78\x6c\x69\x76\x63"]="\x6d\x65m\x62\x65\x72type";$vjachaquhsc="m\x65\x6d\x62e\x72t\x79p\x65";$flgtnraycq="mem\x62er\x74y\x70e";array_push(${${"G\x4c\x4f\x42\x41\x4cS"}["g\x74\x69\x79\x74q\x72"]},array("\x6demb\x65\x72t\x79\x70e"=>${${"\x47LO\x42\x41\x4c\x53"}["\x66\x62mw\x71\x74\x6b"]}["n\x61me"],"F\x65e\x73"=>$currency->sign.floatval(${${"\x47LO\x42\x41\x4cS"}["y\x63\x73m\x69f\x74x\x72a"]}["\x70\x72\x69c\x65"]),"\x69\x64_p\x72\x6fd\x75c\x74"=>array("na\x6de"=>${$flgtnraycq}["\x69\x64_pr\x6f\x64\x75\x63\x74"],"un\x69t\x73"=>intval(${${"\x47LO\x42\x41L\x53"}["nt\x78\x78\x6c\x69\x76c"]}["u\x6ei\x74\x73"]),"in\x74\x65\x72v\x61l"=>${$vjachaquhsc}["\x69n\x74e\x72\x76\x61l"],"g\x72\x6f\x75p"=>intval(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x66\x62\x6d\x77\x71\x74\x6b"]}["id\x5fg\x72\x6fu\x70"])),"\x6c\x69\x73ting_ma\x78"=>Module::isInstalled("agil\x65\x6du\x6c\x74ipleseller")?${$yychlmqqcrmt}["l\x69s\x74\x69\x6eg\x5fm\x61x"]:-1));}${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x70\x6f\x66l\x6e\x79xt\x71"]}=array("\x66\x6f\x72m"=>array("legend"=>array("ti\x74\x6c\x65"=>$this->l('Settings'),"\x69m\x61\x67e"=>$this->_path."logo.\x67i\x66",),"\x64es\x63\x72i\x70tio\x6e"=>$this->l('Before you can configure membership management, you need to prepare the following data in your back office.')."\x3c\x62\x72 />\n\t\t\t\t\t".$this->l('1. Create a category that contains all products that will represent your membership fees, e.g. a category named Memberships')."<\x62r /\x3e\n\t\t\t\t\t\x26nbsp;\x26n\x62sp\x3b&n\x62\x73\x70;\x26\x6eb\x73p\x3b".$this->l('If you have more than 1000 category, please create that category under your Root category')."\x3c\x62\x72 />\n\t\t\t\t\t".$this->l('2. Create one product for each membership level with price as membership fee, e.g basic $25, silver $35, premium $60')."\x3cbr\x20/>\n\t\t\t\t\t".$this->l('3. Create one group for each membership which will have different dicount rates, e.g basic 5%, silver %8, premium 15%')."<\x62\x72 /\x3e\n\t\t\t\t\t".$this->l('4. A membership product with a price of $0.00 is a free membership, and can only be used one time per user.')."<b\x72\x20/\x3e\n\t\t\t\t\t<\x73p\x61\x6e\x20\x73t\x79\x6ce\x3d\x22c\x6flor:r\x65d\x3b\"\x3e".$this->l('Note: Please register the category and product in main store only')."\x3c/\x73p\x61n>","\x69\x6eput"=>array(array("ty\x70e"=>"\x73\x65\x6c\x65\x63t","labe\x6c"=>$this->l('Membership Catregory'),"\x6e\x61\x6d\x65"=>"m\x65mb\x65r\x73\x68\x69\x70_ci\x64","o\x70\x74\x69\x6f\x6es"=>array("qu\x65\x72y"=>${$kdrlczdyhds},"i\x64"=>"id","name"=>"\x6e\x61me"),"\x64\x65\x73c"=>$this->l('Please select the category which contains all products for memberships.')),array("\x6e\x61m\x65"=>"ag\x69\x6c\x65-\x66e\x65_\x76\x61li\x64\x69t\x79","\x74y\x70e"=>"\x61\x67\x69\x6c\x65-\x66\x65\x65_va\x6ci\x64it\x79","labe\x6c"=>$this->l('Member Fee Validity'),"\x69\x73\x41\x67i\x6ce\x4d\x75l\x74i\x70le\x53e\x6cl\x65\x72Inst\x61\x6cle\x64"=>Module::isInstalled("\x61\x67il\x65mul\x74\x69\x70\x6ce\x73\x65l\x6ce\x72"),"\x6daxLis\x74\x69\x6e\x67"=>$this->l('Max Listing'),"me\x6dbe\x72s\x68\x69\x70\x5f\x69nt\x65rval"=>${${"G\x4c\x4f\x42\x41L\x53"}["\x6ci\x76\x65\x76\x6fj\x68"]},"g\x72o\x75\x70\x73"=>${${"\x47LO\x42AL\x53"}["\x6e\x6aep\x67\x6f\x75\x67\x64n"]},"va\x6c\x75\x65\x73"=>array("h\x65ade\x72"=>${${"G\x4c\x4fB\x41LS"}["\x63\x61ne\x67\x6a\x67\x6cjd\x78"]},"body"=>${$rsrpqplt}),"d\x65sc"=>array($this->l('Please fill in the expiry duration for each membership type.'),$this->l('"Max Listing" is the number of products the membership type can list in the Agile Multiple Seller module. Leave it at 0 for no limit.'))),array("\x74\x79\x70\x65"=>"\x72\x61di\x6f","lab\x65l"=>$this->l('Force Membership Item'),"\x6e\x61\x6d\x65"=>"\x6dem\x62\x65rsh\x69\x70\x5f\x66\x6f\x72c\x65c\x61rt","valu\x65\x73"=>array(array("i\x64"=>"f\x6fr\x63e_\x79\x65\x73","va\x6c\x75e"=>1,"\x6c\x61bel"=>$this->l('Yes'),),array("\x69d"=>"fo\x72\x63e_\x6eo","v\x61lue"=>0,"l\x61\x62e\x6c"=>$this->l('No'),),),"\x64\x65\x73\x63"=>$this->l('Automatically add membership product to cart if user does not have valid membership.')),array("type"=>"ra\x64\x69o","l\x61b\x65l"=>$this->l('Multiple Seller Integration'),"\x6eam\x65"=>"membe\x72\x73\x68\x69p_s\x65lle\x72\x5f\x69\x6et\x65","\x76a\x6c\x75\x65s"=>array(array("\x69\x64"=>"inte_yes","value"=>1,"l\x61bel"=>$this->l('Yes'),),array("\x69d"=>"\x69\x6et\x65_\x6e\x6f","\x76a\x6cu\x65"=>0,"\x6cab\x65l"=>$this->l('No'),),),"d\x65s\x63"=>$this->l('Please choose if you want to limit the seller product listing by membership type.')),array("\x74\x79p\x65"=>"r\x61\x64\x69o","l\x61b\x65l"=>$this->l('Display Position'),"\x6eame"=>"m\x65\x6d\x62\x65rsh\x69p_p\x6f\x73","va\x6cu\x65s"=>array(array("\x69d"=>"on\x4cef\x74","val\x75e"=>1,"\x6cabe\x6c"=>$this->l('On Left Column'),),array("\x69\x64"=>"o\x6eR\x69\x67h\x74","\x76\x61l\x75e"=>2,"la\x62e\x6c"=>$this->l('On Right Column'),),array("\x69d"=>"o\x6e\x4e\x6f\x6e\x65","v\x61lue"=>0,"\x6c\x61\x62el"=>$this->l('Do Not Display'),),),"d\x65sc"=>$this->l('You can adjust the position from the "Modules"->"Positions" tab.')),array("\x74\x79pe"=>"\x61\x67i\x6c\x65\x5fc\x6fn\x64i\x74ion_\x72\x61\x64i\x6f","\x6cab\x65\x6c"=>$this->l('Issue Refund Voucher when Cancellation'),"na\x6d\x65"=>"\x6d\x65\x6d\x62er\x73\x68ip_r\x65fun\x64","\x76\x61lu\x65s"=>array(array("id"=>"m\x65\x6dbersh\x69\x70\x5fr\x65\x66und\x5f1","\x76\x61lu\x65"=>1,"\x6c\x61be\x6c"=>$this->l('Yes'),"\x6f\x6ech\x61\x6e\x67\x65"=>"\x6fn\x6de\x6db\x65r\x73hiprefu\x6e\x64\x63hange()","c\x6fnd\x66\x69e\x6cds"=>array("\x6c\x61bel"=>$this->l('Voucher Validity'),"fi\x65ld\x76a\x6c\x75\x65s"=>array(array("type"=>"\x74e\x78\x74","nam\x65"=>"\x6de\x6db\x65rs\x68\x69p_\x72\x65f\x75\x6ed\x5funi\x74\x73","\x73\x69\x7ae"=>3),array("t\x79p\x65"=>"se\x6c\x65c\x74","\x6eam\x65"=>"m\x65\x6d\x62\x65\x72\x73\x68ip_\x72e\x66und\x5fi\x6et\x65r\x76\x61\x6c","\x6fptio\x6e\x73"=>array("\x71\x75\x65\x72y"=>${${"GLOBA\x4c\x53"}["mkk\x72\x78\x76\x66"]},"id"=>"\x69\x64","\x6eam\x65"=>"na\x6de"),),))),array("id"=>"m\x65\x6d\x62\x65\x72sh\x69\x70_refun\x64\x5f\x30","va\x6cu\x65"=>0,"\x6c\x61b\x65\x6c"=>$this->l('No'),"o\x6e\x63hange"=>"\x6fnmem\x62e\x72\x73\x68i\x70re\x66\x75\x6e\x64\x63hang\x65()"),),),array("\x74\x79pe"=>"radi\x6f","\x6cab\x65l"=>$this->l('Cancellation Method'),"\x6ea\x6d\x65"=>"\x6dembe\x72\x73h\x69\x70_\x63a\x6e\x63\x65\x6c\x5f\x6d\x65thod","\x76\x61\x6c\x75\x65s"=>array(array("i\x64"=>"\x73\x65\x6cf_\x63\x61\x6e\x63e\x6c","va\x6c\x75e"=>1,"l\x61\x62el"=>$this->l('Allow user to cancel membership from My Membership page'),),array("i\x64"=>"a\x70prov\x65_\x63\x61\x6e\x63el","va\x6c\x75e"=>0,"lab\x65l"=>$this->l('Allow user to send cancellation request email from My Membership page'),),),),),"su\x62\x6d\x69t"=>array("t\x69tl\x65"=>$this->l('Save'),)));${${"\x47L\x4f\x42A\x4c\x53"}["\x65\x76l\x67wv"]}=new HelperForm();$helper->show_toolbar=false;$helper->table=$this->name;${$gsnpfpljql}=new Language((int)Configuration::get("\x50S\x5f\x4cANG\x5f\x44\x45\x46\x41U\x4c\x54"));$helper->default_form_language=$lang->id;$helper->module=$this;$helper->allow_employee_form_lang=Configuration::get("P\x53\x5fBO_\x41\x4c\x4cOW_E\x4d\x50\x4cO\x59\x45\x45_FOR\x4d\x5fL\x41NG")?Configuration::get("PS\x5fB\x4f\x5fA\x4cL\x4f\x57\x5fEMPL\x4f\x59\x45E_FO\x52M_\x4cA\x4eG"):0;$helper->identifier=$this->identifier;$helper->submit_action="\x73u\x62\x6d\x69\x74M\x65m\x62\x65rsh\x69p\x53\x65\x74t\x69\x6e\x67";$helper->currentIndex=$this->context->link->getAdminLink("\x41\x64minM\x6fdu\x6ces",false)."\x26co\x6ef\x69\x67\x75\x72\x65\x3d".$this->name."&t\x61b\x5fm\x6f\x64ul\x65=".$this->tab."\x26m\x6fdu\x6c\x65\x5fname\x3d".$this->name;$helper->token=Tools::getAdminTokenLite("A\x64\x6d\x69\x6eM\x6fd\x75le\x73");$helper->tpl_vars=array("f\x69e\x6c\x64\x73_\x76a\x6cu\x65"=>$this->getConfigFieldsValues(${${"GL\x4f\x42\x41\x4c\x53"}["\x68u\x65\x71p\x62"]}),"\x6can\x67\x75\x61g\x65\x73"=>$this->context->controller->getLanguages(),"\x69d\x5f\x6ca\x6egu\x61\x67e"=>$this->context->language->id);$ppwofplg="\x72o\x77";$this->_html.=$helper->generateForm(array(${${"\x47L\x4fB\x41\x4c\x53"}["\x69g\x71\x6b\x68\x6f\x71\x61\x74"]}));${$uhhsytiyww}=array_key_exists("\x41\x47\x49L\x45_\x4d\x45\x4d\x42ERSHI\x50_\x50\x41GE\x53",${${"GLO\x42\x41L\x53"}["\x6bqn\x64\x70hl\x74m"]})?${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6cbk\x73t\x78\x6b\x6c"]}["AG\x49L\x45_ME\x4d\x42\x45\x52SH\x49P\x5fP\x41\x47\x45\x53"]:"";${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x63n\x65k\x62d\x75d"]}=array();foreach($this->_pages AS${${"\x47\x4c\x4fBALS"}["v\x63\x79\x75\x70t\x75\x64\x69\x77"]}){${"GLO\x42A\x4cS"}["o\x73\x78\x79\x79t\x75\x72w\x78l"]="pg";$ywatpskfpw="\x70\x67";$cdvglhznux="\x6d\x65\x6d\x62\x65r_o\x6ely_pa\x67\x65\x73";array_push(${$cdvglhznux},array("\x76al\x75e"=>${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6f\x73\x78\x79\x79t\x75\x72\x77\x78\x6c"]},"labe\x6c"=>${${"\x47\x4c\x4f\x42\x41L\x53"}["e\x68\x6eh\x66f\x65"]},"\x63\x68\x65\x63\x6b\x65\x64"=>self::isIncluded(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x75\x67r\x66\x75\x6eym\x6ci"]},${$ywatpskfpw})?"ch\x65cke\x64":""));}${"\x47\x4c\x4f\x42A\x4c\x53"}["\x71yt\x75qn\x66\x76x\x6e\x62\x61"]="c\x6f\x6ef";${${"\x47LOB\x41L\x53"}["\x68f\x70e\x7a\x6c\x61r\x68g"]}=array_key_exists("A\x47\x49\x4c\x45\x5f\x4d\x45M\x42\x45\x52S\x48I\x50\x5f\x43\x4d\x53",${${"GL\x4f\x42\x41\x4c\x53"}["\x6b\x6c\x63\x77\x79\x67"]})?${${"G\x4c\x4fBALS"}["\x6b\x6cc\x77\x79\x67"]}["AGI\x4c\x45_\x4dEM\x42\x45\x52\x53\x48\x49\x50_\x43\x4d\x53"]:"";${${"\x47L\x4f\x42\x41\x4c\x53"}["\x66\x76nd\x63\x69tx"]}=array();${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6d\x72\x6b\x6b\x6cg\x79\x6e"]}=CMS::listCms(intval($cookie->id_lang));foreach(${${"\x47\x4c\x4fB\x41L\x53"}["\x79i\x69\x74\x6a\x6ax"]} AS${$ppwofplg}){$xpfbwxndyx="\x6dem\x62\x65\x72\x73\x68\x69p\x5fc\x6d\x73";$rdbvlwqxc="member\x73\x68i\x70\x5f\x63m\x73_\x6cis\x74";array_push(${$rdbvlwqxc},array("\x76a\x6c\x75\x65"=>intval(${${"G\x4c\x4fB\x41\x4c\x53"}["nuv\x76g\x62s\x79\x62a\x6dm"]}["id\x5fcm\x73"]),"\x6c\x61\x62el"=>intval(${${"G\x4c\x4fBA\x4c\x53"}["\x6euvv\x67b\x73yba\x6d\x6d"]}["\x69d\x5f\x63\x6d\x73"])."-".${${"GL\x4f\x42\x41\x4cS"}["\x6e\x75v\x76\x67\x62\x73\x79\x62\x61\x6d\x6d"]}["meta\x5f\x74itle"],"\x63h\x65\x63k\x65d"=>self::isIncluded(${$xpfbwxndyx},${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["n\x75v\x76\x67\x62s\x79\x62a\x6dm"]}["i\x64_cm\x73"])?"c\x68\x65\x63ke\x64":""));}${${"\x47L\x4f\x42\x41\x4cS"}["k\x76\x62x\x6ess\x79\x70m"]}=array_key_exists("\x41GI\x4c\x45\x5fME\x4d\x42ERSH\x49\x50_\x43ATEGO\x52\x49E\x53",${${"\x47L\x4f\x42\x41L\x53"}["kl\x63\x77y\x67"]})?${${"\x47LO\x42\x41\x4c\x53"}["vh\x6c\x63\x61\x6a\x76\x69\x6e\x65\x74"]}["A\x47\x49LE\x5f\x4dE\x4d\x42E\x52\x53HIP_\x43A\x54\x45\x47\x4f\x52\x49\x45\x53"]:"";${${"\x47\x4cOBAL\x53"}["\x66xz\x63\x70\x71r\x6b\x69h"]}=array();${"GL\x4fB\x41\x4c\x53"}["\x73\x65\x70fk\x67\x75\x6e\x73\x6b"]="h\x65\x6c\x70\x65r";foreach(${${"G\x4cO\x42\x41\x4c\x53"}["\x79c\x63p\x79\x77s"]} AS${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x64m\x64\x75\x75\x75b"]}){$pmxjzdt="\x63\x61\x74\x65";array_push(${${"GL\x4f\x42\x41\x4cS"}["\x65l\x65\x6ex\x79\x6a\x73"]},array("\x76\x61\x6cue"=>${$pmxjzdt}["id_\x63\x61te\x67o\x72y"],"\x6c\x61\x62\x65\x6c"=>${${"\x47\x4c\x4fB\x41\x4c\x53"}["d\x6d\x64uu\x75\x62"]}["\x6eame"],"checke\x64"=>self::isIncluded(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["r\x70\x71w\x68\x69r\x79\x64v\x79"]},${${"G\x4cOBAL\x53"}["dmduuu\x62"]}["\x69\x64_\x63\x61t\x65\x67o\x72\x79"])?"ch\x65ck\x65d":""));}${${"\x47\x4cOB\x41LS"}["\x64v\x76t\x72\x72ll\x70"]}=array("\x66or\x6d"=>array("l\x65gen\x64"=>array("title"=>$this->l('Permission Settings'),"i\x6da\x67e"=>$this->_path."lo\x67\x6f\x2e\x67if",),"i\x6ep\x75t"=>array(array("type"=>"rad\x69o","\x6cab\x65l"=>$this->l('Member only purchase?'),"\x6e\x61\x6d\x65"=>"\x68\x69\x64e_a\x64\x642ca\x72t","\x76\x61lu\x65s"=>array(array("id"=>"\x68ide\x5fad\x642c\x61rt\x5f\x31","v\x61\x6c\x75e"=>1,"la\x62e\x6c"=>$this->l('Yes')."-".$this->l('Choose this will hide all Add to Cart buttons at all pages if the user is not a valid member'),),array("id"=>"\x68id\x65_add2\x63art_0","\x76a\x6c\x75e"=>0,"la\x62el"=>$this->l('No'),),),),array("t\x79\x70e"=>"c\x68\x65\x63\x6b\x62ox\x67\x72o\x75p","la\x62el"=>$this->l('Member Only Pages'),"\x6e\x61\x6d\x65"=>"me\x6dbers\x68i\x70_page\x73[]","val\x75es"=>array("de\x66\x61u\x6c\x74"=>${${"\x47L\x4f\x42A\x4cS"}["cne\x6b\x62\x64\x75\x64"]},"\x6fth\x65rs"=>array("h\x65\x61der"=>$this->l('Other Page (such as pages 3rd party modules, your own custom pages)'),"\x6e\x61me"=>"memb\x65\x72ship_pa\x67e\x732"),),"desc"=>$this->l('Please input page list separated by ",", for example: membership1.php,membership2.php,..,membershipx.php'),),array("ty\x70\x65"=>"c\x68e\x63k\x62ox\x67rou\x70","lab\x65l"=>$this->l('Member Only CMS Pages'),"\x6eam\x65"=>"\x6de\x6d\x62\x65r\x73hi\x70_cms[]","v\x61\x6cues"=>array("d\x65\x66au\x6ct"=>${$tfcgvdey},),),array("t\x79\x70e"=>"\x63\x68e\x63kboxg\x72\x6fu\x70","\x6c\x61\x62el"=>$this->l('Member Only Categories'),"na\x6de"=>"m\x65m\x62\x65rship_\x63ategor\x69\x65s[]","va\x6cue\x73"=>array("de\x66a\x75lt"=>${${"GLO\x42A\x4c\x53"}["\x65\x6c\x65\x6e\x78\x79\x6a\x73"]},),),array("\x74\x79pe"=>"te\x78t\x61\x72ea","l\x61b\x65\x6c"=>$this->l('Member Only Products'),"\x6e\x61m\x65"=>"mem\x62e\x72\x73\x68\x69p_\x70\x72o\x64\x75\x63\x74\x73","\x64e\x73c"=>array($this->l('This should be used when you have only a few products to be included. Otherwise, please use category.'),$this->l('Please input ID list separated by ",", for example: 12,24,23,67'))),),"\x73u\x62\x6d\x69t"=>array("ti\x74le"=>$this->l('Save'),)));${${"\x47L\x4f\x42\x41LS"}["\x73e\x70\x66k\x67\x75\x6es\x6b"]}=new HelperForm();${"G\x4c\x4f\x42A\x4c\x53"}["x\x76k\x78\x61c\x6avj\x71"]="\x63o\x6e\x66";$helper->show_toolbar=false;$helper->table=$this->name."\x5fperm\x69ss\x69\x6fn";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["i\x6e\x67\x6ek\x75\x68"]}=new Language((int)Configuration::get("\x50\x53\x5f\x4c\x41\x4eG_DE\x46\x41U\x4cT"));$helper->default_form_language=$lang->id;$helper->module=$this;$helper->allow_employee_form_lang=Configuration::get("PS\x5fBO_ALLOW\x5f\x45\x4d\x50\x4c\x4f\x59EE_\x46\x4f\x52M\x5fL\x41N\x47")?Configuration::get("\x50S\x5f\x42O_A\x4c\x4cO\x57_\x45\x4d\x50\x4c\x4fY\x45\x45_F\x4f\x52\x4d_L\x41N\x47"):0;$helper->identifier="p\x65\x72m\x69s\x73\x69\x6f\x6e\x5f\x73\x65tt\x69n\x67";$helper->submit_action="\x73\x75bm\x69\x74Permiss\x69o\x6e\x53\x65t\x74\x69ng";$helper->currentIndex=$this->context->link->getAdminLink("\x41\x64minMo\x64\x75\x6ces",false)."&c\x6fnfigure=".$this->name."&tab\x5fmodu\x6c\x65=".$this->tab."\x26\x6d\x6f\x64\x75\x6ce_\x6ea\x6d\x65=".$this->name;$helper->token=Tools::getAdminTokenLite("A\x64\x6dinModul\x65s");$helper->tpl_vars=array("fi\x65\x6c\x64\x73\x5fvalu\x65"=>$this->getPermissionConfigFieldsValues(${${"G\x4c\x4f\x42A\x4c\x53"}["\x6b\x6c\x63wy\x67"]}),"\x6can\x67ua\x67\x65\x73"=>$this->context->controller->getLanguages(),"\x69\x64\x5f\x6c\x61\x6e\x67\x75\x61g\x65"=>$this->context->language->id);$this->_html.=$helper->generateForm(array(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x66\x7a\x69\x6are\x64t\x7a\x6et"]}));${${"GL\x4f\x42\x41\x4c\x53"}["\x73rxhr\x76\x79\x77\x62\x71"]}=array("form"=>array("\x6ceg\x65\x6e\x64"=>array("tit\x6c\x65"=>$this->l('Expiration Reminder Email'),"im\x61\x67\x65"=>$this->_path."logo.\x67\x69\x66",),"\x69n\x70ut"=>array(array("t\x79pe"=>"\x74\x65\x78t","\x6c\x61bel"=>$this->l('Days before expiration to send Email'),"\x6eam\x65"=>"\x6de\x6dber\x73h\x69\x70_r\x65mind\x65r\x5f\x64a\x79s","\x64\x65\x73\x63"=>array("<s\x70an st\x79le=\"col\x6f\x72:\x72\x65d\">".$this->l('Note: Too many emails will affect your site performance.')."</\x73p\x61n>",$this->l('Please enter in number of days. For example, 1,5,14,30 means an email will be sent 30 days, 14 days, 5 days, and 1 day before expiration'))),),"\x73\x75\x62\x6di\x74"=>array("t\x69t\x6ce"=>$this->l('Save'),)));${$ukbgjsh}=new HelperForm();$helper->show_toolbar=false;$helper->table=$this->name."_\x72e\x6d\x69nde\x72";${${"G\x4c\x4f\x42\x41L\x53"}["y\x70\x71\x65\x79k\x63b\x62w\x77"]}=new Language((int)Configuration::get("PS_\x4cAN\x47_\x44E\x46AULT"));$helper->default_form_language=$lang->id;$helper->module=$this;$helper->allow_employee_form_lang=Configuration::get("\x50S\x5f\x42O_\x41L\x4c\x4f\x57\x5fEM\x50L\x4fY\x45\x45_F\x4f\x52\x4d_\x4cAN\x47")?Configuration::get("P\x53\x5fB\x4f\x5fALLO\x57_\x45M\x50\x4c\x4fYE\x45\x5fFOR\x4d\x5f\x4c\x41\x4eG"):0;$helper->identifier="r\x65\x6d\x69\x6ed\x65\x72\x5fs\x65\x74\x74\x69n\x67";$helper->submit_action="su\x62m\x69\x74R\x65mi\x6e\x64erSe\x74\x74i\x6eg";$helper->currentIndex=$this->context->link->getAdminLink("Ad\x6di\x6eM\x6fd\x75l\x65\x73",false)."\x26\x63onfig\x75\x72e=".$this->name."&\x74\x61b_\x6do\x64\x75\x6ce=".$this->tab."\x26mo\x64\x75le_n\x61m\x65\x3d".$this->name;$helper->token=Tools::getAdminTokenLite("Ad\x6d\x69nMo\x64u\x6c\x65s");$helper->tpl_vars=array("\x66i\x65\x6c\x64s_\x76a\x6c\x75\x65"=>array("mem\x62e\x72\x73h\x69\x70\x5f\x72emi\x6eder\x5fd\x61ys"=>Tools::getValue("me\x6dber\x73h\x69p_\x72em\x69n\x64er\x5fday\x73",array_key_exists("A\x47\x49\x4cE_MEM\x42E\x52S\x48IP_\x52E\x4dIND\x45R\x5f\x44\x41YS",${${"\x47LO\x42AL\x53"}["q\x79\x74\x75\x71\x6ef\x76\x78\x6eba"]})?${${"\x47\x4cO\x42A\x4cS"}["\x78\x76\x6b\x78\x61\x63\x6av\x6a\x71"]}["\x41GI\x4cE_\x4d\x45\x4d\x42\x45R\x53HIP_R\x45\x4dI\x4e\x44ER_\x44AY\x53"]:"")),"\x6c\x61n\x67\x75ag\x65\x73"=>$this->context->controller->getLanguages(),"i\x64\x5f\x6c\x61\x6egu\x61\x67e"=>$this->context->language->id);$this->_html.=$helper->generateForm(array(${${"\x47\x4c\x4f\x42AL\x53"}["u\x6b\x75l\x73uc"]}));}public function getConfigFieldsValues($conf){${"\x47\x4c\x4f\x42\x41LS"}["stp\x65\x78\x61h\x6a\x71"]="\x63\x6f\x6ef";$axwgpgbrydsd="\x63\x6fn\x66";${"\x47\x4c\x4f\x42A\x4cS"}["\x6d\x75\x74\x6e\x6c\x66mj"]="\x63\x6f\x6e\x66";${"G\x4cOBAL\x53"}["\x6fd\x72h\x68n\x73v\x70"]="c\x6f\x6ef";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x66\x69\x78\x6ec\x78\x66\x75k\x69"]="c\x6fn\x66";$ylesqmtat="c\x6f\x6ef";$yeqhnoqu="\x63\x6fn\x66";${"\x47L\x4f\x42\x41L\x53"}["\x77\x79j\x77ymde\x6d"]="\x63\x6f\x6e\x66";${"\x47\x4c\x4f\x42\x41LS"}["t\x75\x6dli\x63\x67\x63qxy"]="\x63\x6f\x6ef";$tntrilns="c\x6fnf";return array("\x6de\x6db\x65\x72\x73\x68i\x70\x5f\x63\x69\x64"=>Tools::getValue("mem\x62e\x72\x73h\x69\x70\x5fc\x69\x64",intval(array_key_exists("AGILE_\x4d\x45\x4d\x42\x45\x52SHI\x50_CI\x44",${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6bl\x63\x77\x79g"]})?${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["kl\x63w\x79\x67"]}["A\x47\x49LE_\x4d\x45M\x42\x45R\x53H\x49\x50\x5fCI\x44"]:"")),"\x6d\x65\x6d\x62e\x72\x73\x68\x69\x70_fo\x72\x63\x65car\x74"=>Tools::getValue("\x6de\x6db\x65r\x73h\x69\x70\x5f\x66o\x72c\x65\x63\x61\x72t",array_key_exists("\x41\x47\x49L\x45\x5fMEM\x42\x45R\x53H\x49\x50_F\x4fRCE\x43A\x52T",${${"\x47\x4c\x4fBA\x4cS"}["\x73\x74pe\x78\x61\x68j\x71"]})?${${"\x47\x4cO\x42A\x4c\x53"}["\x74um\x6cic\x67\x63\x71x\x79"]}["\x41G\x49LE\x5f\x4d\x45\x4dB\x45\x52S\x48I\x50\x5fFORC\x45\x43\x41RT"]:""),"membersh\x69\x70\x5f\x70\x6f\x73"=>Tools::getValue("mem\x62ers\x68\x69\x70\x5fp\x6fs",array_key_exists("A\x47\x49\x4c\x45\x5fMEM\x42\x45\x52SH\x49P\x5f\x50OS\x49TI\x4fN",${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6f\x64rhh\x6es\x76\x70"]})?${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6du\x74\x6e\x6cf\x6d\x6a"]}["AGILE\x5f\x4d\x45MBERS\x48I\x50\x5fPOS\x49TI\x4fN"]:""),"membe\x72s\x68i\x70_s\x65\x6c\x6c\x65\x72_\x69\x6e\x74e"=>Tools::getValue("m\x65mb\x65r\x73h\x69\x70_sell\x65r_\x69\x6et\x65",array_key_exists("\x41\x47IL\x45\x5fMEM\x42ER\x53\x48\x49\x50\x5f\x53EL\x4c\x45R\x5fI\x4e\x54\x45",${$axwgpgbrydsd})?${${"\x47\x4cO\x42\x41LS"}["\x6b\x6ccwy\x67"]}["\x41GILE_M\x45MB\x45\x52SH\x49\x50\x5fSE\x4cLER\x5fINTE"]:""),"memb\x65r\x73hi\x70\x5f\x63ancel\x5fme\x74\x68od"=>Tools::getValue("m\x65\x6db\x65rshi\x70_\x63a\x6ecel\x5fme\x74h\x6fd",intval(array_key_exists("\x41GILE_MEMB\x45\x52\x53\x48I\x50\x5fCA\x4eCE\x4c_\x4dET\x48O\x44",${${"G\x4c\x4fB\x41\x4c\x53"}["k\x6c\x63\x77\x79\x67"]})?${$tntrilns}["A\x47\x49\x4c\x45\x5fM\x45\x4d\x42E\x52\x53HI\x50_\x43A\x4e\x43E\x4c\x5fM\x45\x54\x48\x4f\x44"]:"")),"me\x6db\x65\x72shi\x70\x5fr\x65fu\x6e\x64"=>Tools::getValue("m\x65m\x62e\x72\x73\x68\x69\x70\x5f\x72\x65f\x75n\x64",array_key_exists("A\x47I\x4cE\x5f\x4dEMBER\x53H\x49\x50\x5fR\x45\x46UN\x44",${$ylesqmtat})?${${"\x47\x4c\x4f\x42A\x4cS"}["\x6b\x6ccw\x79g"]}["\x41G\x49LE_MEM\x42E\x52\x53HI\x50_R\x45FUND"]:""),"\x6de\x6dbe\x72\x73\x68\x69\x70_\x72efu\x6e\x64\x5f\x75nit\x73"=>Tools::getValue("memb\x65r\x73h\x69\x70\x5fre\x66u\x6e\x64\x5funi\x74\x73",array_key_exists("AGI\x4c\x45_ME\x4d\x42E\x52\x53\x48IP\x5fR\x45FU\x4e\x44\x5fUNI\x54S",${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["w\x79\x6a\x77\x79\x6d\x64\x65\x6d"]})?${$yeqhnoqu}["A\x47I\x4c\x45\x5f\x4dEMBERSH\x49P\x5f\x52\x45\x46\x55ND_UN\x49\x54S"]:""),"\x6dem\x62\x65\x72\x73\x68\x69p_\x72efu\x6e\x64\x5f\x69n\x74\x65r\x76al"=>Tools::getValue("me\x6db\x65\x72sh\x69\x70\x5f\x72efund\x5f\x69\x6et\x65rval",array_key_exists("AG\x49\x4c\x45_\x4d\x45\x4d\x42ER\x53\x48\x49P\x5fR\x45\x46\x55\x4eD\x5fI\x4e\x54\x45R\x56A\x4c",${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6b\x6cc\x77\x79g"]})?${${"GL\x4f\x42\x41L\x53"}["\x66\x69x\x6e\x63x\x66u\x6bi"]}["\x41\x47\x49LE_\x4d\x45MB\x45RS\x48I\x50\x5fR\x45FUN\x44_\x49\x4e\x54\x45RV\x41L"]:""),);}public function getPermissionConfigFieldsValues($conf){${"G\x4c\x4f\x42\x41\x4c\x53"}["vj\x69\x75\x63vz\x78\x73\x74"]="\x63\x6f\x6e\x66";$lfeweiqojms="\x63\x6f\x6ef";$ylhdvffpm="\x63\x6fn\x66";${"\x47\x4cO\x42\x41\x4cS"}["\x6a\x75\x63g\x66\x66\x64\x73\x6ck"]="\x63\x6fn\x66";return array("\x68\x69de_a\x64\x642\x63\x61\x72t"=>Tools::getValue("h\x69de_a\x64\x64\x32ca\x72\x74",intval(array_key_exists("A\x47\x49LE\x5f\x4dEMB\x45\x52S\x48I\x50\x5fH\x49\x44E_ADD\x32\x43\x41R\x54",${$lfeweiqojms})?${${"\x47\x4c\x4fB\x41L\x53"}["k\x6c\x63w\x79\x67"]}["\x41GILE\x5fM\x45\x4dB\x45RS\x48IP_HI\x44\x45\x5fAD\x442C\x41R\x54"]:"")),"\x6de\x6dber\x73\x68ip_p\x72\x6fd\x75\x63\x74s"=>Tools::getValue("me\x6dber\x73\x68i\x70_prod\x75ct\x73",array_key_exists("\x41\x47IL\x45\x5fME\x4dBERSH\x49P_PRODUC\x54\x53",${${"\x47L\x4fB\x41L\x53"}["k\x6cc\x77y\x67"]})?${${"G\x4c\x4f\x42AL\x53"}["\x76jiu\x63\x76\x7ax\x73t"]}["A\x47IL\x45\x5f\x4d\x45\x4d\x42\x45RSH\x49\x50_PR\x4fDU\x43\x54S"]:""),"members\x68ip\x5f\x70ag\x65\x73\x32"=>Tools::getValue("\x6de\x6d\x62\x65\x72sh\x69\x70\x5fp\x61\x67\x65s2",array_key_exists("A\x47I\x4c\x45\x5f\x4dEMBE\x52S\x48I\x50_P\x41G\x45\x532",${${"\x47\x4cOB\x41\x4cS"}["\x6au\x63\x67f\x66\x64\x73lk"]})?${$ylhdvffpm}["\x41G\x49LE_ME\x4d\x42\x45\x52\x53\x48\x49P_\x50\x41G\x45\x532"]:""),);}public function displayErrors(){$daijlksdokl="nb\x45\x72\x72\x6frs";${"\x47\x4cOBA\x4cS"}["s\x74t\x68d\x66bg\x6a\x71l"]="\x6e\x62\x45\x72\x72\x6frs";$smkpqqe="\x65\x72\x72\x6fr";$bftougnvy="\x6e\x62Er\x72\x6f\x72\x73";${${"\x47\x4cO\x42A\x4cS"}["\x73\x74\x74\x68\x64\x66bgj\x71\x6c"]}=sizeof($this->_postErrors);$this->_html.="\n\t\t<\x64\x69v cla\x73\x73=\"\x61ler\x74\x20ale\x72\x74-d\x61ng\x65\x72\x22>\n\t\t\t<h3\x3e".(${$daijlksdokl}>1?$this->l('There are'):$this->l('There is'))."\x20".${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x64\x7at\x76te\x61\x6f\x70"]}."\x20".(${$bftougnvy}>1?$this->l('errors'):$this->l('error'))."\x3c/\x683>\n\t\t\t\x3c\x6fl\x3e";${"\x47\x4cOB\x41\x4c\x53"}["\x74io\x67\x61\x6b\x76\x61\x6c"]="\x65\x72\x72\x6fr";foreach($this->_postErrors AS${$smkpqqe})$this->_html.="\x3c\x6c\x69\x3e".${${"\x47\x4c\x4fB\x41\x4cS"}["\x74\x69\x6f\x67\x61\x6b\x76a\x6c"]}."</\x6ci\x3e";$this->_html.="\n\t\t\t</\x6fl>\n\t\t\x3c/d\x69v\x3e";}public function hookdisplayBeforeCarrier($params){${"\x47\x4c\x4f\x42\x41L\x53"}["\x6b\x6f\x68uw\x70\x67\x79k\x77\x67"]="p\x61\x72\x61m\x73";return$this->show_free_membership_eligibility(${${"GL\x4f\x42AL\x53"}["k\x6f\x68uwpg\x79k\x77\x67"]});}public function hookDisplayShoppingCartFooter($params){${"G\x4c\x4f\x42\x41\x4c\x53"}["\x70\x6bp\x6cr\x73\x6f\x68"]="\x70\x61\x72\x61m\x73";return$this->show_free_membership_eligibility(${${"G\x4c\x4fB\x41LS"}["\x70\x6b\x70\x6c\x72\x73oh"]});}private function show_free_membership_eligibility($params){$nuuhxddyhclv="\x64\x6fn\x6ft\x65\x6c\x69\x67i\x62\x6ce\x73";${"\x47L\x4fBA\x4c\x53"}["\x64\x6c\x76\x73\x79\x78u"]="\x6b\x65\x79";global$cart,$smarty;$vtikknfknzsn="d\x6fn\x6f\x74\x65\x6ci\x67\x69bl\x65s";require_once(dirname(__FILE__)."/\x43usto\x6der\x4dem\x62e\x72shi\x70.\x70\x68p");require_once(dirname(__FILE__)."/Mem\x62\x65\x72shi\x70T\x79\x70e\x2ep\x68\x70");require_once(dirname(__FILE__)."/\x4dembe\x72\x73hi\x70H\x69\x73\x74ory\x2e\x70hp");${$vtikknfknzsn}=array();foreach($cart->getProducts()AS${${"\x47L\x4fB\x41\x4c\x53"}["dl\x76s\x79\x78\x75"]}=>${${"GL\x4f\x42\x41L\x53"}["\x63\x6a\x66\x71\x62ckw\x62"]}){if(${${"GL\x4f\x42\x41LS"}["cj\x66\x71\x62c\x6b\x77b"]}["price"]!=0)continue;if(!self::IsProductInMembershipCategory(intval(${${"\x47\x4c\x4f\x42AL\x53"}["c\x6a\x66\x71\x62\x63\x6b\x77\x62"]}["i\x64_p\x72od\x75c\x74"])))continue;if(!CustomerMembership::hasUsedBefore(${${"\x47\x4cOBA\x4c\x53"}["\x63j\x66\x71b\x63\x6b\x77b"]}["\x69d_produ\x63\x74"],$cart->id_customer))continue;${${"GLOB\x41L\x53"}["\x6e\x77\x6d\x64\x67\x77\x69"]}[]=${${"\x47\x4cO\x42\x41\x4c\x53"}["\x63j\x66\x71\x62c\x6b\x77\x62"]}["nam\x65"];}$smarty->assign(array("dono\x74\x65\x6c\x69\x67\x69\x62l\x65\x73"=>${${"GL\x4f\x42\x41\x4c\x53"}["nw\x6d\x64gwi"]},"d\x6fn\x6f\x74e\x6ci\x67\x69bles_nb"=>count(${$nuuhxddyhclv}),));return$this->display(__FILE__,"\x68ooksh\x6f\x70\x70in\x67ca\x72t\x2etp\x6c");}public function hookDisplayHeader($params){if(!$this->active)return"";if($this->context->controller->php_self=="au\x74he\x6eti\x63ati\x6f\x6e"){$this->context->controller->addJS(array(_PS_JS_DIR_."j\x71u\x65\x72\x79/p\x6cugins/\x61\x6a\x61\x78fi\x6ce\x75ploa\x64/jqu\x65\x72y\x2ea\x6a\x61\x78\x66\x69leup\x6c\x6fa\x64\x2e\x6as",$this->_path."\x73i\x67\x6e\x75\x70.j\x73"));}if((int)Configuration::get("\x41G\x49L\x45\x5fME\x4dBE\x52SHIP\x5f\x48\x49D\x45\x5f\x41DD2\x43\x41RT")==1){${${"GL\x4fBAL\x53"}["if\x6e\x72hh\x62"]}=AgileHelper::getPageName();if(${${"\x47\x4cO\x42\x41\x4cS"}["\x69fn\x72h\x68b"]}=="\x70\x72o\x64u\x63\x74.p\x68\x70"&&AgileMembership::IsProductInMembershipCategory(Tools::getValue("i\x64_pr\x6f\x64uct")))return"";if(${${"\x47\x4c\x4fBA\x4c\x53"}["ifn\x72h\x68\x62"]}=="\x63a\x74\x65\x67\x6fry\x2eph\x70"&&(int)Tools::getValue("id\x5f\x63at\x65go\x72\x79")==(int)Configuration::get("\x41G\x49\x4c\x45_\x4d\x45\x4dB\x45\x52\x53HIP_\x43I\x44"))return"";if($this->context->customer->isLogged()AND self::isActivated($this->context->customer->id)AND self::isMemberFeePaid($this->context->customer->id))return"";return$this->display(__FILE__,"\x76ie\x77\x73/t\x65\x6d\x70\x6c\x61tes/hoo\x6b/\x68\x6fok\x68ead\x65\x72.t\x70l");}}public function stop_cart_handler(){$uuhwbvnkwn="\x70\x6e\x61\x6de";if(!$this->active)return true;if((int)Configuration::get("A\x47\x49\x4cE\x5fM\x45MB\x45\x52S\x48\x49P\x5fH\x49DE\x5fA\x44D\x32C\x41\x52T")!=1)return true;${$uuhwbvnkwn}=AgileHelper::getPageName();if(${${"G\x4c\x4f\x42\x41\x4cS"}["i\x66\x6e\x72h\x68b"]}!="\x63\x61\x72t.\x70hp")return true;if(AgileMembership::IsProductInMembershipCategory(Tools::getValue("id_\x70rod\x75\x63t")))return true;if($this->context->customer->isLogged()AND self::isActivated($this->context->customer->id)AND self::isMemberFeePaid($this->context->customer->id))return true;return false;}public function stop_mix_handler(){global$cart;if(!$this->active)return true;if((int)Configuration::get("AGIL\x45\x5fP\x41\x59\x50AL\x5fA\x4d\x5fI\x4eTEGR\x41\x54\x45\x44")!=1||(int)Configuration::get("AGILE\x5f\x50\x41Y\x50A\x4c_AM\x5f\x4e\x4f_MIX\x5fPRO\x44\x55CT")!=1)return true;${"\x47\x4cOB\x41L\x53"}["\x6fj\x66b\x61\x67k\x68\x65"]="\x63a\x72\x74\x5f\x70rod\x75\x63\x74\x73";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x6f\x6af\x62\x61\x67\x6b\x68e"]}=$this->context->cart->getProducts();if(count(${${"\x47\x4c\x4f\x42\x41LS"}["snlq\x62u\x68o\x70\x6e\x67\x76"]})>0){$jhxgcy="i\x73M\x65\x6d\x62ers\x68\x69\x70";${$jhxgcy}=AgileMembership::IsProductInMembershipCategory(Tools::getValue("i\x64_p\x72\x6fd\x75c\x74"));if(${${"G\x4c\x4f\x42\x41\x4cS"}["\x75\x64h\x64\x74\x73\x72\x63"]}&&(int)$cart->nbProducts()>1){return false;}else{foreach(${${"\x47\x4cOB\x41\x4c\x53"}["\x73\x6el\x71\x62uh\x6f\x70ng\x76"]} as${${"\x47\x4cO\x42\x41\x4c\x53"}["\x78\x77\x6c\x79\x68\x64\x62\x67"]}){${${"\x47\x4cO\x42\x41\x4cS"}["\x64\x77d\x73\x71\x78\x66\x69pr"]}=(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x75\x64\x68\x64ts\x72c"]}==AgileMembership::IsProductInMembershipCategory(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x78\x77l\x79\x68\x64\x62\x67"]}["i\x64\x5f\x70r\x6f\x64uc\x74"]));if(!${${"G\x4c\x4fB\x41\x4c\x53"}["\x64\x77\x64s\x71\x78\x66\x69\x70\x72"]}){break;}}return${${"\x47\x4c\x4fBA\x4c\x53"}["\x64wd\x73\x71\x78\x66\x69\x70r"]};}}else{return true;}return true;}public function hookDisplayTop($params){global$cookie;if(!$this->active)return;require_once(dirname(__FILE__)."/Cust\x6fm\x65\x72M\x65\x6dber\x73hip\x2e\x70h\x70");require_once(dirname(__FILE__)."/\x4de\x6dbers\x68\x69pTyp\x65\x2ep\x68\x70");require_once(dirname(__FILE__)."/\x4de\x6d\x62er\x73h\x69pHis\x74\x6f\x72\x79\x2e\x70h\x70");self::disable_expired_sellers();self::sendExiprationReminder();if(intval(Configuration::get("AGI\x4cE_\x4d\x45\x4d\x42ERSH\x49\x50_\x46\x4fR\x43\x45C\x41\x52T"))==1)$this->addMembershipToCart();if($cookie->id_customer>0)CustomerMembership::updateEffectiveMembershipGroup($cookie->id_customer);if(!AgileMembership::isMemberOnlyContent())return"";if($this->context->customer->isLogged()AND self::isActivated($cookie->id_customer)AND self::isMemberFeePaid($cookie->id_customer))return"";if(_PS_VERSION_>="\x31.5")Tools::redirect(Context::getContext()->link->getModuleLink("\x61\x67ilemem\x62\x65\x72\x73\x68\x69\x70","a\x63c\x65s\x73de\x6ei\x65d",array(),true));else Tools::redirect("./\x6dodul\x65\x73/ag\x69le\x6d\x65\x6db\x65\x72\x73hi\x70/a\x63c\x65\x73\x73d\x65n\x69\x65\x64.php");return"";}public function hookDisplayMyAccountBlock($params){$qnqstcvii="\x6d\x79m\x65m\x62\x65\x72\x73\x68\x69\x70\x5fu\x72\x6c";global$smarty;if(!$this->active)return;require_once(dirname(__FILE__)."/\x43\x75s\x74\x6fm\x65rMe\x6dbe\x72sh\x69p\x2e\x70h\x70");require_once(dirname(__FILE__)."/Memb\x65\x72\x73\x68ip\x54\x79pe.\x70hp");require_once(dirname(__FILE__)."/Mem\x62e\x72\x73h\x69p\x48\x69st\x6fr\x79.\x70h\x70");$ordtltpy="\x6d\x79me\x6d\x62\x65\x72s\x68i\x70_\x75\x72\x6c";${$qnqstcvii}=Tools::getShopDomainSsl(true,true).__PS_BASE_URI__."modu\x6ce\x73/a\x67\x69l\x65\x6d\x65mb\x65\x72\x73h\x69p/m\x79\x6de\x6db\x65\x72\x73\x68ip\x2ep\x68\x70";if(version_compare(_PS_VERSION_,"\x31.5","\x3e\x3d"))${${"\x47\x4c\x4fB\x41L\x53"}["\x74\x6f\x63x\x73\x6a"]}=Context::getContext()->link->getModuleLink("ag\x69leme\x6dbe\x72\x73h\x69p","\x6dymem\x62\x65\x72s\x68\x69\x70",array(),true);$smarty->assign(array("m\x79m\x65\x6dbe\x72\x73hi\x70\x5furl"=>${$ordtltpy}));return$this->display(__FILE__,"m\x79\x61ccount.\x74p\x6c");}public function hookDisplayCustomerAccount($params){$xnusejz="\x6d\x79\x6dem\x62e\x72\x73\x68\x69p_u\x72\x6c";global$smarty;if(!$this->active)return;require_once(dirname(__FILE__)."/\x43u\x73tomerMem\x62e\x72s\x68\x69p.\x70h\x70");require_once(dirname(__FILE__)."/\x4d\x65mbers\x68\x69pTy\x70\x65.php");require_once(dirname(__FILE__)."/M\x65m\x62e\x72s\x68ip\x48is\x74ory\x2e\x70\x68p");${${"\x47\x4c\x4fBA\x4c\x53"}["to\x63\x78s\x6a"]}=Tools::getShopDomainSsl(true,true).__PS_BASE_URI__."mo\x64\x75le\x73/a\x67il\x65mem\x62\x65r\x73hi\x70/m\x79memb\x65\x72\x73\x68i\x70\x2e\x70h\x70";if(version_compare(_PS_VERSION_,"\x31.5","\x3e\x3d"))${${"G\x4cO\x42A\x4c\x53"}["\x74o\x63\x78s\x6a"]}=Context::getContext()->link->getModuleLink("ag\x69l\x65\x6dembers\x68\x69p","\x6dymemb\x65rs\x68ip",array(),true);$smarty->assign(array("\x6d\x79\x6d\x65\x6d\x62\x65\x72\x73h\x69\x70\x5furl"=>${$xnusejz}));return$this->display(__FILE__,"cu\x73to\x6derac\x63o\x75n\x74.\x74pl");}public function hookDisplayCustomerAccountFormTop($params){if(!$this->active)return;if(Configuration::get("AG\x49LE_M\x45\x4dBERSH\x49P\x5f\x53E\x4c\x4cE\x52\x5fIN\x54\x45")==1)return;require_once(dirname(__FILE__)."/Cu\x73t\x6fmerMem\x62\x65r\x73hip\x2e\x70\x68p");require_once(dirname(__FILE__)."/Mem\x62\x65r\x73\x68\x69\x70T\x79p\x65.ph\x70");require_once(dirname(__FILE__)."/Me\x6dbe\x72\x73\x68\x69\x70H\x69s\x74\x6fry\x2e\x70h\x70");$this->prepareFormData();return$this->display(__FILE__,"si\x67nup.\x74\x70l");}public function hookActionCustomerAccountAdd($params){if(!$this->active)return;require_once(dirname(__FILE__)."/\x43\x75\x73\x74\x6f\x6de\x72\x4dem\x62\x65\x72s\x68\x69p.\x70\x68\x70");require_once(dirname(__FILE__)."/Me\x6db\x65\x72\x73h\x69\x70Typ\x65\x2ep\x68p");require_once(dirname(__FILE__)."/Mem\x62e\x72s\x68ip\x48ist\x6fr\x79.php");${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x76\x75\x6d\x61\x63\x75\x61\x76"]}=new CustomerMembership();$membership->id=0;$iptydwypxcw="para\x6d\x73";$membership->id_customer=${$iptydwypxcw}["new\x43u\x73\x74\x6fm\x65\x72"]->id;$membership->id_membership_type=intval(${${"G\x4c\x4f\x42\x41\x4c\x53"}["h\x71\x64yoy\x61z"]}["\x5f\x50\x4f\x53\x54"]["id_\x6de\x6d\x62\x65\x72\x73hi\x70_t\x79pe"]);$membership->activated=0;$membership->activation_date="\x30\x300\x30-\x30\x30-0\x30\x20\x30\x30:\x300:00";$membership->origin=1;$membership->add();if($membership->id_membership_type>0){$this->addMembershipToCart();if(!Tools::isSubmit("aj\x61\x78")){if(Configuration::get("\x50S\x5fOR\x44E\x52\x5fP\x52\x4f\x43\x45\x53\x53_TYPE"))Tools::redirect("\x6f\x72d\x65\x72-\x6fp\x63.p\x68\x70");else Tools::redirect("or\x64\x65r\x2e\x70hp");}}}public function hookActionAuthentication($params){global$cookie;if(!$this->active)return;require_once(dirname(__FILE__)."/\x43u\x73to\x6d\x65\x72\x4de\x6d\x62\x65\x72\x73hip\x2e\x70\x68p");$lrqrvseubcx="\x70\x61\x72a\x6ds";require_once(dirname(__FILE__)."/M\x65\x6dbe\x72s\x68ip\x54y\x70\x65\x2e\x70h\x70");require_once(dirname(__FILE__)."/Me\x6d\x62er\x73\x68\x69\x70H\x69sto\x72\x79\x2e\x70h\x70");CustomerMembership::updateEffectiveMembershipGroup(${$lrqrvseubcx}["\x63\x6fo\x6b\x69\x65"]->id_customer);if(self::isMemberFeePaid($cookie->id_customer))return;if(intval(Configuration::get("\x41G\x49\x4cE_\x4d\x45MBE\x52SHI\x50_\x46ORCECA\x52\x54"))==1){$this->addMembershipToCart();if(!Tools::isSubmit("ajax")){if(Configuration::get("\x50\x53_\x4f\x52\x44E\x52_\x50R\x4fCESS\x5f\x54Y\x50\x45"))Tools::redirect("o\x72\x64e\x72-op\x63\x2ep\x68\x70");else Tools::redirect("\x6f\x72\x64er\x2ep\x68\x70");}}}public function hookDisplayLeftColumn($params){if(!$this->active)return;require_once(dirname(__FILE__)."/\x43ust\x6fme\x72M\x65mbe\x72\x73hi\x70.ph\x70");require_once(dirname(__FILE__)."/\x4demb\x65r\x73\x68ip\x54ype\x2e\x70\x68p");require_once(dirname(__FILE__)."/\x4dembe\x72\x73h\x69\x70Hi\x73\x74\x6f\x72\x79\x2ep\x68p");if(intval(Configuration::get("A\x47\x49\x4c\x45_MEMBER\x53HIP_P\x4f\x53IT\x49\x4fN"))!=1)return"";return$this->hookLeftOrRight();}public function hookDisplayRightColumn($params){if(!$this->active)return;require_once(dirname(__FILE__)."/Cust\x6f\x6d\x65\x72\x4d\x65\x6d\x62er\x73hip\x2e\x70\x68p");require_once(dirname(__FILE__)."/M\x65\x6d\x62\x65\x72sh\x69p\x54\x79p\x65.p\x68p");require_once(dirname(__FILE__)."/M\x65\x6d\x62ersh\x69\x70H\x69\x73to\x72\x79.ph\x70");if(intval(Configuration::get("AG\x49\x4cE\x5fM\x45MB\x45\x52SH\x49P_\x50\x4f\x53ITI\x4fN"))!=2)return;return$this->hookLeftOrRight();}private function hookLeftOrRight(){${"G\x4c\x4f\x42\x41LS"}["\x67\x64\x6ewep\x63\x63\x64me\x65"]="\x6d\x65m\x5f\x74y\x70\x65s";global$smarty,$cookie,$cart;${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x74pr\x66\x6d\x78h"]}=intval(Configuration::get("AG\x49L\x45\x5f\x4dE\x4d\x42ER\x53\x48\x49P_\x43\x49D"));${${"\x47\x4cO\x42\x41\x4cS"}["fo\x71\x73ui\x64w\x72h\x72"]}=MembershipType::getMembershipTypes(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x74\x70r\x66mx\x68"]},intval($cookie->id_lang));${${"\x47\x4c\x4fBA\x4c\x53"}["\x67\x64\x6e\x77\x65pc\x63\x64\x6d\x65\x65"]}=array();foreach(${${"\x47\x4c\x4fB\x41\x4c\x53"}["f\x6f\x71su\x69\x64\x77rhr"]} AS${${"\x47\x4c\x4f\x42ALS"}["dpv\x6b\x76\x6dxe\x70db"]}){$kchcfgmfmep="\x70r\x6fdu\x63\x74";$chbtyhvd="\x6d\x74yp\x65";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["p\x6ea\x73\x67\x6c\x6f\x75"]="\x70\x72odu\x63t";${"G\x4c\x4f\x42\x41\x4cS"}["\x62\x65\x78\x75\x6b\x6dn\x6a"]="\x63\x6f\x76e\x72";${"GL\x4fB\x41\x4c\x53"}["\x64pty\x6f\x64"]="\x6dem_\x74\x79pe\x73";$gjdtsiyeh="k";${"\x47\x4c\x4f\x42AL\x53"}["fwb\x70\x73f\x6fy\x75x\x61"]="i\x6da\x67e\x73";${$kchcfgmfmep}=new Product(${$chbtyhvd}["\x69d\x5fprod\x75\x63t"],true,intval($cookie->id_lang));${"\x47\x4cO\x42A\x4c\x53"}["u\x72\x6aud\x67g\x67t\x72"]="\x69\x6d\x61\x67\x65s";${${"\x47\x4cO\x42\x41\x4c\x53"}["urj\x75\x64\x67\x67g\x74r"]}=$product->getImages(intval($cookie->id_lang));foreach(${${"\x47L\x4fBA\x4c\x53"}["f\x77bp\x73\x66o\x79u\x78\x61"]} AS${$gjdtsiyeh}=>${${"\x47L\x4f\x42ALS"}["\x6b\x6cv\x6dx\x68\x69\x6a"]}){if(${${"GL\x4f\x42\x41L\x53"}["\x6b\x6c\x76\x6d\x78h\x69\x6a"]}["c\x6f\x76\x65\x72"]){$ivmebaet="\x63o\x76\x65\x72";${${"\x47\x4c\x4fBA\x4c\x53"}["\x6be\x67\x64\x62bi"]}=${${"GL\x4f\x42AL\x53"}["\x6b\x6c\x76m\x78\x68i\x6a"]};${${"\x47LO\x42A\x4cS"}["\x6be\x67d\x62b\x69"]}["\x69d_\x69mag\x65"]=intval($product->id)."-".${$ivmebaet}["id_\x69\x6d\x61ge"];$ynfgupbyu="co\x76e\x72";${$ynfgupbyu}["i\x64\x5f\x69m\x61ge_\x6f\x6e\x6cy"]=intval(${${"G\x4c\x4f\x42AL\x53"}["\x6b\x6cvmx\x68\x69\x6a"]}["i\x64_i\x6da\x67e"]);}}if(!isset(${${"\x47L\x4f\x42AL\x53"}["ke\x67\x64\x62\x62\x69"]}))${${"\x47\x4cO\x42\x41\x4cS"}["b\x65\x78u\x6bm\x6ej"]}=array("id_i\x6dage"=>Language::getIsoById($cookie->id_lang)."-\x64ef\x61u\x6ct","\x6c\x65\x67\x65\x6ed"=>"No\x20pic\x74\x75\x72e","\x74it\x6ce"=>"\x4eo pic\x74ur\x65");${${"G\x4c\x4f\x42\x41\x4c\x53"}["dp\x74y\x6f\x64"]}[]=array("\x70ro\x64uct"=>${${"\x47\x4cOB\x41LS"}["\x70nasg\x6cou"]},"\x63\x6fve\x72"=>${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6b\x65\x67d\x62\x62i"]});}$qblrpshggak="\x6d\x65\x6d\x5f\x74\x79\x70\x65\x73";$this->context->controller->addCSS($this->_path."\x63\x73\x73/\x61\x67\x69l\x65\x6d\x65m\x62ersh\x69p.c\x73s","\x61ll");$smarty->assign(array("m\x65\x6d\x5ftyp\x65s"=>${$qblrpshggak},"\x69mage_s\x69z\x65"=>(_PS_VERSION_>="\x31\x2e\x35\x2e1"?"l\x61\x72g\x65_\x64\x65f\x61u\x6c\x74":"\x6c\x61\x72g\x65")));return$this->display(__FILE__,"\x61\x67ile\x6de\x6d\x62er\x73\x68\x69\x70\x2et\x70\x6c");}public function hookActionValidateOrder($params){$qwiwdjt="\x70a\x72\x61\x6ds";$sxiswkfiovge="\x70\x61\x72\x61\x6ds";${"\x47\x4cO\x42\x41\x4c\x53"}["\x61\x6c\x65\x6e\x6f\x75v\x72\x66\x6dz"]="pa\x72\x61m\x73";if(!$this->active)return;if(!isset(${$qwiwdjt}["or\x64\x65\x72"]))return;$this->createMembershipData(${${"G\x4c\x4fB\x41\x4c\x53"}["h\x71d\x79\x6fy\x61\x7a"]}["\x6f\x72\x64e\x72"]->id,${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["a\x6c\x65\x6eo\x75\x76\x72\x66\x6d\x7a"]}["\x6f\x72de\x72\x53\x74a\x74\x75s"]);$this->update_membership_order_status(${$sxiswkfiovge}["\x6fr\x64\x65\x72"]->id,${${"\x47L\x4fB\x41LS"}["h\x71\x64y\x6fy\x61z"]}["\x6fr\x64e\x72S\x74\x61t\x75s"]->id);}function hookActionOrderStatusPostUpdate($params){${"\x47LO\x42\x41\x4c\x53"}["\x7a\x62v\x6ag\x70f"]="\x70\x61\x72a\x6d\x73";return$this->hookActionOrderStatusUpdate(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x7a\x62v\x6a\x67p\x66"]});}function hookActionOrderStatusUpdate($params){${"G\x4c\x4f\x42A\x4c\x53"}["h\x6eh\x65yx\x6d\x72\x71"]="p\x61r\x61\x6d\x73";if(!$this->active)return"";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x73q\x78\x64\x6ep\x72\x70\x73\x63"]="\x70\x61\x72\x61m\x73";$this->createMembershipData(${${"\x47LOB\x41\x4c\x53"}["\x68\x6e\x68ey\x78\x6d\x72\x71"]}["id\x5f\x6f\x72\x64\x65\x72"],${${"\x47\x4cO\x42\x41LS"}["\x73\x71xd\x6e\x70\x72\x70\x73\x63"]}["\x6e\x65\x77Order\x53\x74\x61tu\x73"]);$this->update_membership_order_status(${${"GL\x4f\x42A\x4c\x53"}["h\x71\x64y\x6fy\x61\x7a"]}["i\x64_\x6f\x72\x64e\x72"],${${"\x47\x4c\x4f\x42\x41L\x53"}["\x68\x71dy\x6f\x79a\x7a"]}["n\x65wOrderS\x74\x61\x74\x75s"]->id);return"";}private function update_membership_order_status($id_order,$id_order_state){$whtjpczwlumy="\x69\x64\x5f\x6fr\x64er";$vgbdyjqdhr="\x69\x64\x5fo\x72\x64\x65\x72\x5fs\x74\x61\x74\x65";$knlgoe="s\x71\x6c";${$knlgoe}="U\x50\x44\x41\x54E\x20\x20`"._DB_PREFIX_."\x6dem\x62er\x73hip_\x68\x69st\x6fry\x60 S\x45T\x20\x69d\x5f\x6fr\x64\x65\x72\x5fst\x61t\x65\x3d".intval(${$vgbdyjqdhr})." W\x48\x45\x52\x45 i\x64_\x6fr\x64e\x72=".intval(${$whtjpczwlumy});Db::getInstance()->Execute(${${"G\x4c\x4f\x42A\x4c\x53"}["\x6f\x69\x73jm\x67o\x62g\x64l"]});}function isMemberFeeInCart(){${"\x47\x4c\x4f\x42\x41\x4cS"}["w\x68\x64\x69p\x6e\x68"]="\x70r\x6f\x64u\x63t";global$cart;foreach($cart->getProducts()AS${${"\x47L\x4f\x42\x41\x4c\x53"}["w\x68dip\x6e\x68"]}){$fonyjucil="\x70\x72\x6f\x64\x75c\x74";if(intval(${$fonyjucil}["id\x5f\x63at\x65\x67\x6f\x72y\x5fde\x66\x61u\x6ct"])==intval(Configuration::get("\x41\x47\x49\x4c\x45_M\x45MBE\x52SHIP_C\x49\x44"))){return true;}}return false;}public static function isMemberFeePaid($id_customer){${"G\x4c\x4f\x42\x41\x4cS"}["i\x74\x75\x73\x6ff\x6b"]="\x65\x78\x70\x69\x72y\x5fd\x61t\x65";$glkokhg="\x69\x64\x5f\x63\x75\x73\x74\x6fm\x65r";${"\x47L\x4f\x42\x41\x4c\x53"}["p\x65\x6epb\x68\x76\x75"]="\x74\x6f\x64\x61\x79";$rvrnnkcqhto="\x74\x6f\x64\x61\x79";global$cookie;${${"\x47\x4cOBAL\x53"}["i\x74\x75\x73\x6ff\x6b"]}=CustomerMembership::getExpiryDate(${$glkokhg},$cookie->id_lang);${$rvrnnkcqhto}=new DateTime(date("\x59-\x6d-d \x48:i:\x73"));return${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x70\x73\x68\x74\x73\x61r"]}>${${"GL\x4fBALS"}["\x70\x65\x6e\x70\x62\x68v\x75"]};}public function addMembershipToCart(){global$smarty,$cart,$cookie;${"\x47\x4c\x4f\x42\x41\x4cS"}["\x65\x79c\x62\x79\x6fb\x77\x69\x6a"]="\x6dem\x62\x65r\x73\x68\x69\x70";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x78m\x62b\x62f\x78"]="i\x64\x5f\x70\x72\x6f\x64\x75\x63t";$ngvrjyu="\x69d\x5fp\x72o\x64\x75\x63t";${"\x47\x4c\x4f\x42A\x4c\x53"}["itq\x75\x71\x77\x64\x66m\x69"]="\x6d\x69d";if(!$this->context->customer->isLogged())return;if(self::isMemberFeePaid($cookie->id_customer)OR$this->isMemberFeeInCart())return;$this->initCartIfNotyet();$imoecucop="\x69\x64\x5fp\x72\x6f\x64\x75c\x74";$qgignufqqohh="\x69\x64_\x70\x72\x6f\x64\x75\x63t";${${"\x47\x4c\x4fB\x41\x4cS"}["i\x74\x71\x75qw\x64f\x6di"]}=CustomerMembership::getIdByCustomerId(intval($cookie->id_customer));${${"\x47\x4cO\x42\x41\x4cS"}["e\x79\x63\x62y\x6f\x62wi\x6a"]}=new CustomerMembership(intval(${${"G\x4c\x4f\x42A\x4c\x53"}["m\x6f\x76\x67\x71y\x75a"]}));${${"G\x4cO\x42AL\x53"}["\x71\x70sho\x67\x6dw\x6f\x69d"]}=new MembershipType($membership->id_membership_type);${$imoecucop}=$membership_type->id_product;if(!isset(${${"G\x4cO\x42\x41\x4c\x53"}["\x78mb\x62b\x66x"]})OR intval(${$ngvrjyu})<=0){${"\x47L\x4f\x42AL\x53"}["d\x6f\x6a\x6e\x70k"]="\x69\x64C\x61\x74\x65\x67o\x72y";${${"\x47\x4c\x4f\x42A\x4cS"}["\x64\x6f\x6a\x6e\x70\x6b"]}=intval(Configuration::get("\x41\x47\x49\x4cE_ME\x4d\x42\x45R\x53HIP\x5f\x43ID"));$bqpgnmytfd="\x74\x79p\x65\x73";${"G\x4cOBA\x4cS"}["j\x62\x6d\x63f\x6er\x79\x65\x76\x70"]="i\x64C\x61\x74\x65\x67\x6f\x72\x79";if(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x74\x70\x72f\x6d\x78h"]}<=0)return;${"G\x4cO\x42\x41L\x53"}["\x7ab\x72\x70\x78\x72\x6f\x62e"]="\x74\x79\x70es";${${"\x47\x4cO\x42\x41L\x53"}["z\x62r\x70\x78ro\x62\x65"]}=MembershipType::getMembershipTypes(${${"\x47\x4c\x4f\x42\x41L\x53"}["jbm\x63\x66\x6e\x72\x79\x65v\x70"]},intval($cookie->id_lang));$hmdqzqgbhkig="m\x74\x79\x70\x65";${"\x47\x4c\x4fBA\x4c\x53"}["\x72\x6d\x6bjdb\x73\x66\x61\x77"]="\x69\x64\x5f\x70r\x6f\x64uct";if(empty(${$bqpgnmytfd}))return;${$hmdqzqgbhkig}=array_shift(${${"\x47\x4cO\x42\x41\x4cS"}["\x66\x6f\x71s\x75\x69dw\x72hr"]});${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["p\x71\x77\x76kb\x67\x64\x70"]}=intval(${${"G\x4c\x4f\x42A\x4c\x53"}["dp\x76\x6bv\x6dxep\x64b"]}["\x69d_\x70\x72\x6f\x64\x75c\x74"]);if(${${"G\x4c\x4fB\x41\x4c\x53"}["\x72\x6dk\x6a\x64\x62s\x66\x61w"]}<=0)return;}$cart->updateQty(1,intval(${$qgignufqqohh}),0,intval($cookie->id_customer));}public function initCartIfNotyet(){global$cookie,$cart,$smarty;${"\x47\x4c\x4f\x42\x41\x4cS"}["xy\x68r\x73i\x62\x73\x6b\x70\x73"]="\x63\x61r\x74";if(isset(${${"GLO\x42\x41\x4c\x53"}["r\x70\x73ix\x77\x67\x71\x70n\x6f"]})AND$cart->id)return;${${"G\x4cO\x42\x41\x4c\x53"}["xy\x68\x72\x73\x69\x62sk\x70s"]}=new Cart();$cart->id_lang=intval($cookie->id_lang);$cart->id_currency=intval($cookie->id_currency);$cart->id_guest=intval($cookie->id_guest);if($cookie->id_customer){$cart->id_customer=intval($cookie->id_customer);$cart->id_address_delivery=intval(Address::getFirstCustomerAddressId($cart->id_customer));$cart->id_address_invoice=$cart->id_address_delivery;}else{$cart->id_address_delivery=0;$cart->id_address_invoice=0;}$cart->add();if($cart->id)$cookie->id_cart=intval($cart->id);}function prepareFormData(){$ujuywqy="\x6d\x69d";${"GL\x4f\x42A\x4cS"}["\x70\x67\x78\x70\x6e\x68\x6e\x6d"]="\x6d\x65\x6d\x62e\x72s\x68\x69\x70t\x79\x70\x65s";global$smarty,$cookie,$cart;${${"GL\x4f\x42\x41\x4cS"}["\x74\x70r\x66\x6d\x78h"]}=intval(Configuration::get("A\x47I\x4c\x45_\x4dE\x4dB\x45\x52S\x48I\x50_\x43\x49\x44"));${"\x47\x4cO\x42\x41LS"}["cu\x64\x79\x73\x65"]="\x6di\x64";$uvfcncf="i\x64C\x61\x74e\x67\x6fr\x79";${${"G\x4c\x4f\x42\x41\x4c\x53"}["pg\x78\x70\x6e\x68n\x6d"]}=MembershipType::getMembershipTypes(${$uvfcncf},intval($cookie->id_lang));${$ujuywqy}=CustomerMembership::getIdByCustomerId(intval($cookie->id_customer));${${"G\x4c\x4fB\x41\x4c\x53"}["\x76um\x61\x63\x75\x61\x76"]}=new CustomerMembership(intval(${${"G\x4cO\x42\x41L\x53"}["\x63\x75\x64\x79\x73e"]}));if(!Validate::isLoadedObject(${${"G\x4c\x4f\x42\x41\x4c\x53"}["v\x75\x6da\x63\x75\x61\x76"]})){$membership->id_customer=intval($cookie->id_customer);$membership->activated=0;$membership->date_add=date("\x59-m-d\x20\x48:i:\x73");}${"\x47\x4c\x4fB\x41\x4c\x53"}["\x63tt\x79iuh"]="m\x65m\x62\x65\x72shi\x70";if(sizeof($_POST)){$xszmpnut="k\x65\x79";${"\x47\x4cO\x42\x41LS"}["j\x77\x76\x76\x66\x74\x6dpf\x70\x7a"]="\x66\x69\x65\x6c\x64\x73";${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6esu\x78\x79\x64\x79w"]}=array("\x69\x64_c\x75\x73tome\x72","\x61\x63ti\x76at\x65\x64","a\x63t\x69\x76\x61\x74\x69\x6f\x6e_\x64\x61t\x65","o\x72igi\x6e","\x72\x65m\x69\x6ed\x65\x72_e\x6dai\x6c\x5f\x64at\x65");${${"\x47L\x4f\x42\x41\x4cS"}["\x6aw\x76vf\x74\x6dpf\x70\x7a"]}=$membership->getFields();$vsgwoqpm="v\x61\x6c\x75e";foreach(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6fy\x6a\x71\x6dr\x67\x62\x7a"]} AS${$xszmpnut}=>${$vsgwoqpm}){if(!in_array(${${"G\x4cO\x42A\x4cS"}["\x75\x6a\x6bhl\x78tvm\x6f\x70"]},${${"\x47\x4c\x4fBAL\x53"}["n\x73\x75xy\x64\x79\x77"]}))$membership->{${${"\x47LOB\x41\x4c\x53"}["\x75\x6a\x6bh\x6c\x78\x74\x76\x6d\x6f\x70"]}}=key_exists(${${"\x47\x4c\x4f\x42\x41L\x53"}["u\x6a\x6b\x68\x6c\x78\x74\x76\x6d\x6f\x70"]},$_POST)?trim($_POST[${${"GLO\x42\x41\x4cS"}["\x75jk\x68\x6c\x78\x74\x76m\x6f\x70"]}]):0;}}$smarty->assign(array("members\x68ip\x74\x79\x70e\x73"=>${${"G\x4c\x4f\x42\x41L\x53"}["equg\x63\x6e\x68urk\x72"]},"origin\x73"=>CustomerMembership::${${"\x47L\x4f\x42A\x4c\x53"}["\x63\x76\x79\x67\x69\x61\x62\x63\x6a\x6f\x76\x74"]},"me\x6dbe\x72\x73h\x69\x70"=>${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x63\x74\x74\x79\x69uh"]}));}function column_exists($table,$column){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["cpdmk\x63b\x74x\x79n"]="\x73q\x6c";${"\x47L\x4f\x42A\x4c\x53"}["\x69c\x79\x61v\x6b"]="\x73\x71\x6c";${"G\x4cO\x42\x41LS"}["\x76\x77\x63f\x76\x77\x62\x6c\x6d"]="\x63";$eiailusducu="\x63\x6fl\x75m\x6e\x73";${${"G\x4c\x4fBAL\x53"}["i\x63\x79\x61v\x6b"]}="\x73h\x6fw colu\x6dns \x66\x72om "._DB_PREFIX_.${${"G\x4cO\x42\x41L\x53"}["s\x64l\x6a\x79\x67\x6d\x6d\x66"]};${$eiailusducu}=Db::getInstance()->ExecuteS(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x63pd\x6d\x6b\x63\x62\x74x\x79\x6e"]});foreach(${${"\x47\x4c\x4fBA\x4c\x53"}["\x72g\x6bri\x69\x67\x75y"]} AS${${"G\x4c\x4fB\x41LS"}["\x76wcf\x76\x77\x62\x6cm"]}){$tnbjvzr="\x63";if(${$tnbjvzr}["Fi\x65l\x64"]==${${"\x47\x4c\x4fB\x41\x4cS"}["\x6c\x77\x70kor\x77\x6a"]})return true;}return false;}public static function log_message($msg){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x63\x6d\x75v\x67hy\x79c"]="\x68\x61\x6e\x64\x6ce";${"\x47L\x4fB\x41\x4cS"}["\x70\x74\x70s\x6b\x75\x6c\x6c\x73\x6c"]="\x68\x61n\x64\x6ce";if(Agile_Membership_Logging!="o\x6e")return;$ukphtt="\x68a\x6ed\x6c\x65";${${"\x47\x4c\x4f\x42\x41LS"}["\x63\x6duvg\x68yy\x63"]}=fopen(dirname(__FILE__)."/\x64e\x62u\x67.l\x6fg","a+");if(!${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x70t\x70s\x6b\x75\x6cl\x73\x6c"]})return;${${"\x47\x4c\x4f\x42\x41\x4cS"}["j\x70\x79zwfr\x70\x73\x6f"]}="";$dokpcttw="\x6d\x73\x67";${"\x47L\x4f\x42\x41\x4c\x53"}["s\x71\x75\x67\x63\x71\x71j\x74\x70\x77"]="\x72e\x66\x66er";if(isset($_SERVER["\x48\x54T\x50_R\x45FERE\x52"]))${${"GL\x4f\x42\x41\x4cS"}["j\x70\x79z\x77\x66\x72\x70\x73\x6f"]}=$_SERVER["HT\x54\x50\x5f\x52\x45F\x45\x52ER"];fwrite(${${"G\x4c\x4f\x42\x41\x4cS"}["\x69e\x69\x67\x63\x6b\x68\x75\x6bw"]},date("\x48:\x69:s").",".${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x73\x71\x75\x67c\x71\x71j\x74\x70\x77"]}.",".${$dokpcttw}."\r\n");fclose(${$ukphtt});}public static function isIncluded($all_str,$my_str){${"\x47\x4c\x4fBA\x4c\x53"}["ch\x74l\x6ew\x68dm"]="m\x79";$gxlggpyy="\x6dy_\x73t\x72";${"GL\x4f\x42\x41L\x53"}["\x69h\x61\x73t\x67\x65e\x6f\x73"]="\x69\x64\x78";$jdvgtoyehj="a\x6c\x6c";${$jdvgtoyehj}=",".${${"GLO\x42\x41\x4cS"}["\x73\x75\x6fu\x72xc\x61\x69ew"]}.",";${"\x47\x4c\x4fBA\x4c\x53"}["\x71\x72\x70\x77\x79\x78a\x6ay\x65\x7a"]="\x69\x64\x78";${${"\x47\x4c\x4f\x42AL\x53"}["\x63\x68\x74ln\x77\x68d\x6d"]}=",".${$gxlggpyy}.",";${${"\x47\x4c\x4fB\x41\x4cS"}["i\x68\x61\x73\x74\x67\x65e\x6f\x73"]}=strpos(${${"\x47L\x4f\x42A\x4cS"}["\x63\x72\x6cpi\x65\x65\x6do\x62\x6a\x6a"]},${${"G\x4c\x4f\x42AL\x53"}["\x77\x6f\x6a\x70l\x6d\x6e\x74b"]});if(${${"\x47L\x4fB\x41\x4c\x53"}["\x71\x72\x70\x77\x79\x78\x61\x6a\x79\x65z"]}===false)return false;return true;}public static function isMemberOnlyContent(){$bxqwuvwzpy="\x70\x67";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x77\x67\x63t\x68\x62\x75z"]="p\x67";$jvkwugmsngn="p\x67";$grwfnlc="\x70\x67";${${"GL\x4f\x42\x41\x4c\x53"}["\x65\x68\x6eh\x66fe"]}=AgileHelper::getPageName();${"\x47\x4c\x4f\x42A\x4cS"}["p\x66\x66n\x66e\x73\x6d\x65u"]="p\x67";if(${$jvkwugmsngn}=="")return false;if(${${"\x47\x4c\x4fB\x41LS"}["\x77\x67\x63\x74\x68bu\x7a"]}=="c\x61t\x65\x67\x6fry\x2ephp"AND intval(Tools::getValue("\x69d_ca\x74eg\x6fry"))==intval(Configuration::get("A\x47\x49\x4c\x45_M\x45\x4dBER\x53HIP\x5f\x43ID")))return false;if(${$grwfnlc}=="p\x72o\x64\x75c\x74.\x70h\x70"){$qixmlsgv="\x72\x65\x73\x75lt";if(AgileMembership::isMemberOnlyProduct(Tools::getValue("\x69d\x5f\x70r\x6f\x64u\x63t")))return true;${${"G\x4c\x4f\x42\x41\x4c\x53"}["o\x69s\x6am\x67\x6fb\x67\x64l"]}="S\x45\x4cECT \x60\x69\x64\x5f\x63a\x74eg\x6f\x72\x79\x60\x20f\x72o\x6d `"._DB_PREFIX_."c\x61te\x67ory\x5f\x70\x72oduct\x60 \x77her\x65 `i\x64\x5fca\x74\x65g\x6f\x72y`\x3d".Configuration::get("\x41GIL\x45_\x4d\x45\x4dB\x45\x52S\x48IP_\x43ID")."\x20\x41ND \x69\x64_\x70\x72od\x75\x63\x74 =".Tools::getValue("\x69\x64_p\x72\x6fdu\x63\x74");${"G\x4c\x4f\x42\x41\x4c\x53"}["\x65\x6bcs\x63\x76\x75\x6b\x74f\x6a"]="\x72\x65\x73u\x6c\x74";${$qixmlsgv}=Db::getInstance()->getRow(${${"\x47L\x4fB\x41\x4c\x53"}["\x6f\x69\x73\x6am\x67\x6fbgd\x6c"]});${"\x47\x4c\x4f\x42AL\x53"}["\x79cc\x64\x71\x6a\x75\x65"]="re\x73\x75\x6c\x74";if(isset(${${"GL\x4f\x42\x41\x4c\x53"}["\x79\x63c\x64qj\x75\x65"]}["\x69\x64_ca\x74ego\x72y"])AND intval(${${"\x47LOB\x41\x4c\x53"}["\x65\x6bc\x73cv\x75k\x74\x66\x6a"]}["id_c\x61\x74e\x67o\x72y"])>0)return false;}$xpouknnl="\x70\x67";if(AgileMembership::isMemberOnlyPage(${${"\x47\x4c\x4f\x42AL\x53"}["e\x68\x6e\x68\x66\x66\x65"]}))return true;if(${$xpouknnl}=="\x63\x61\x74egor\x79.\x70h\x70"AND AgileMembership::isMemberOnlyCategory(Tools::getValue("\x69\x64\x5fca\x74\x65\x67\x6fry")))return true;if(${${"G\x4cO\x42ALS"}["\x70\x66fnf\x65s\x6d\x65\x75"]}=="\x70\x72o\x64\x75\x63t.p\x68\x70"AND AgileMembership::isMemberOnlyProduct(Tools::getValue("\x69d_\x70ro\x64\x75\x63t")))return true;if(${$bxqwuvwzpy}=="\x63ms\x2e\x70h\x70"AND AgileMembership::isMemberOnlyCMS(intval(Tools::getValue("i\x64\x5f\x63m\x73")),intval(Tools::getValue("i\x64_\x63\x6d\x73_c\x61t\x65\x67\x6f\x72y"))))return true;return false;}public static function isMemberOnlyPage($pg){${"G\x4c\x4f\x42\x41\x4cS"}["\x6cp\x75\x70\x6dieyu"]="\x70g";$ygfqnkkidil="p\x67";if(${${"G\x4cO\x42A\x4c\x53"}["\x6cp\x75p\x6di\x65yu"]}=="ne\x77\x70r\x6fd\x75\x63\x74s\x2e\x70\x68\x70")${$ygfqnkkidil}="\x6ee\x77-p\x72o\x64\x75\x63t\x73.\x70\x68p";return self::isIncluded(Configuration::get("\x41G\x49\x4cE\x5fM\x45MBER\x53H\x49\x50\x5f\x50AG\x45\x53"),${${"\x47\x4cO\x42A\x4c\x53"}["\x65\x68\x6eh\x66f\x65"]})||self::isIncluded(Configuration::get("\x41GI\x4cE\x5fMEMB\x45R\x53HI\x50\x5fP\x41G\x45S\x32"),${${"G\x4c\x4f\x42\x41\x4c\x53"}["e\x68n\x68\x66\x66\x65"]});}public static function isMemberOnlyCategory($cid){$cdqhsjv="\x63\x69d";if(intval(${${"\x47\x4cOB\x41\x4c\x53"}["k\x62\x6fa\x73xj\x70\x74v"]})==0||intval(${${"\x47\x4c\x4fB\x41L\x53"}["\x6bb\x6fa\x73\x78\x6a\x70\x74\x76"]})==intval(Configuration::get("A\x47\x49LE\x5f\x4dEMB\x45\x52S\x48\x49\x50_\x43\x49D")))return false;return self::isIncluded(Configuration::get("AGI\x4cE_\x4d\x45\x4d\x42ERSHI\x50\x5f\x43AT\x45\x47\x4fRIE\x53"),${$cdqhsjv});}public static function isMemberOnlyProduct($pid){if(self::isIncluded(Configuration::get("\x41G\x49L\x45_\x4dE\x4dB\x45\x52\x53\x48\x49P_PRODU\x43TS"),${${"G\x4c\x4fB\x41L\x53"}["gy\x71wpnk\x66o\x64\x75"]}))return true;${"G\x4c\x4f\x42\x41\x4c\x53"}["\x73\x69j\x6an\x68\x6a"]="c\x69\x64\x73";$vptcdby="\x63\x69\x64\x73";${"GL\x4f\x42A\x4cS"}["qedv\x6fn\x69n\x67\x74"]="\x70\x69\x64";${"\x47LO\x42\x41\x4cS"}["c\x77rs\x71e\x66\x75\x74z\x74"]="\x73\x71\x6c";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x63\x77\x63\x73\x78li"]}=Configuration::get("A\x47IL\x45_M\x45\x4dBERSHIP_CA\x54\x45GO\x52I\x45\x53");if(!isset(${$vptcdby})OR strlen(trim(${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x63\x77c\x73\x78\x6ci"]})<1))return false;${"\x47\x4cO\x42\x41\x4c\x53"}["\x66d\x67\x64\x72b\x65\x6c\x6d"]="\x72\x65sult";${${"\x47\x4c\x4fB\x41\x4c\x53"}["c\x77r\x73qefutz\x74"]}="\x53ELECT \x60id\x5f\x63\x61\x74\x65\x67\x6fr\x79`\x20f\x72o\x6d \x60"._DB_PREFIX_."\x63a\x74\x65gor\x79\x5fpr\x6fd\x75\x63\x74\x60\x20w\x68\x65r\x65 `\x69d_c\x61\x74e\x67o\x72y`\x20\x49\x4e (".${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x73i\x6a\x6an\x68j"]}.") A\x4eD i\x64\x5f\x70rod\x75ct =".${${"\x47LO\x42\x41L\x53"}["\x71e\x64\x76o\x6e\x69\x6e\x67\x74"]};${${"\x47L\x4fB\x41L\x53"}["\x75\x76\x66\x64\x73we"]}=Db::getInstance()->getRow(${${"\x47LOB\x41\x4cS"}["\x6fis\x6a\x6d\x67\x6f\x62\x67\x64l"]});if(isset(${${"\x47L\x4f\x42\x41L\x53"}["\x66\x64\x67\x64\x72\x62e\x6c\x6d"]}["i\x64_\x63\x61\x74egor\x79"])AND intval(${${"GLO\x42A\x4cS"}["\x75\x76\x66\x64s\x77\x65"]}["\x69\x64\x5f\x63\x61\x74e\x67\x6f\x72y"])>0)return true;return false;}public static function isMemberOnlyCMS($cmsid,$cmsid_category){${"\x47\x4c\x4fBA\x4c\x53"}["\x63wg\x6d\x65\x74\x64r\x65\x76\x6d"]="\x63ms\x69\x64_\x63\x61\x74\x65\x67\x6fr\x79";$ljtczqovx="\x63msi\x64";${"G\x4cO\x42A\x4c\x53"}["\x76u\x6bs\x67cv\x73\x68"]="\x63\x6d\x73\x69d";if(${${"\x47\x4cO\x42A\x4cS"}["\x76\x75\x6bs\x67\x63\x76\x73\x68"]}==0 AND${${"\x47LO\x42\x41LS"}["\x63\x77g\x6d\x65\x74d\x72\x65\x76m"]}>0)return false;return self::isIncluded(Configuration::get("\x41\x47ILE_\x4d\x45\x4dB\x45RSHI\x50\x5fCMS"),${$ljtczqovx});}public static function isActivated($id_customer){$tiqmunzxp="\x69d\x5f\x63\x75\x73\x74\x6fm\x65r";${"\x47\x4c\x4fBA\x4c\x53"}["u\x79\x75f\x64y\x69"]="i\x64\x5fc\x75\x73\x74\x6fme\x72";${"\x47\x4c\x4fB\x41LS"}["y\x65n\x70\x76\x6f\x73"]="\x73\x71l";${"G\x4cO\x42ALS"}["\x6a\x6d\x6b\x67\x7a\x71v"]="result";if(!isset(${$tiqmunzxp})OR intval(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x69\x77d\x71\x69\x66\x62\x67\x76"]})<=0)return false;${"GL\x4f\x42\x41\x4cS"}["\x69\x6f\x66tj\x61sncr\x72"]="s\x71\x6c";${${"GL\x4f\x42\x41L\x53"}["\x69\x6fft\x6a\x61\x73\x6ecr\x72"]}="s\x65\x6cec\x74 \x60\x69d\x5f\x63us\x74\x6f\x6der`\x20\x66\x72o\x6d `"._DB_PREFIX_."\x63usto\x6de\x72\x5fme\x6db\x65rshi\x70`\x20wh\x65re\x20\x60ac\x74\x69\x76\x61t\x65d`\x3d1 \x41\x4e\x44\x20`\x69d\x5f\x63ust\x6f\x6d\x65r`\x3d".${${"GL\x4fB\x41\x4c\x53"}["\x75yu\x66\x64\x79i"]};${${"\x47L\x4f\x42A\x4c\x53"}["j\x6d\x6b\x67z\x71\x76"]}=Db::getInstance()->getRow(${${"G\x4c\x4f\x42\x41LS"}["\x79en\x70v\x6f\x73"]});return isset(${${"G\x4c\x4f\x42\x41\x4c\x53"}["uv\x66\x64\x73\x77e"]}["\x69d_\x63\x75st\x6f\x6d\x65\x72"])?${${"GL\x4fB\x41\x4c\x53"}["\x75\x76\x66\x64\x73\x77\x65"]}["id_\x63\x75\x73\x74\x6f\x6d\x65r"]:false;}public static function sendExiprationReminder(){$fgifdcni="\x72\x65\x6d\x69\x6e\x64\x65r_\x64\x61ys";${"\x47LO\x42\x41\x4c\x53"}["\x77i\x68\x62n\x61\x76xly"]="\x72\x65\x73\x75\x6c\x74\x73";$jsgueqpzaxdg="\x64a\x79\x73";${"\x47\x4cO\x42\x41\x4cS"}["m\x78\x77\x78\x64w\x70\x78df"]="\x73\x71l";$kxuvosvhomi="\x73ett\x69ng\x73";$odjwlhtmm="\x72\x65min\x64\x65\x72\x5f\x64a\x79\x73";$kkzeipydhn="\x73e\x74\x74\x69\x6eg\x73";global$cookie;${"\x47\x4cO\x42\x41\x4c\x53"}["qh\x75e\x75\x6ew\x67\x71b\x76"]="\x73\x68\x6fp";$lrzicrcvlxlp="se\x74\x74\x69n\x67\x73";${$kkzeipydhn}=Configuration::get("A\x47\x49LE\x5fM\x45MBE\x52\x53HIP\x5fR\x45MINDE\x52_\x44\x41YS");$rwxktjn="r\x65\x6d\x69\x6ede\x72_\x64a\x79s";if(!isset(${$lrzicrcvlxlp})OR empty(${${"GL\x4f\x42\x41\x4cS"}["\x73\x6aj\x74\x76\x68\x69\x7a\x70\x69\x6c\x66"]}))return;${$odjwlhtmm}=explode(",",${$kxuvosvhomi});if(!isset(${$rwxktjn})OR empty(${$fgifdcni}))return;${${"G\x4c\x4fB\x41\x4cS"}["\x76t\x64\x71\x70\x62\x76e\x61k\x66"]}="";foreach(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x78\x79c\x63\x66\x76\x70"]} AS${$jsgueqpzaxdg}){${"\x47L\x4f\x42A\x4c\x53"}["\x74i\x6c\x78\x65\x65o"]="\x63\x72\x69\x74e\x72\x69\x61";$tvnrnem="\x63\x72i\x74\x65ria";${"\x47\x4cO\x42\x41\x4c\x53"}["\x6ce\x70m\x6dlx"]="\x64\x61y\x73";$jgrsdxbuhq="\x63\x72\x69\x74\x65r\x69\x61";if(intval(${${"GL\x4fBA\x4c\x53"}["\x6ew\x68o\x74gpxdyb\x75"]})<=0)continue;$fyorxyldwd="\x63\x72\x69t\x65r\x69a";if(!empty(${$jgrsdxbuhq}))${${"G\x4c\x4f\x42A\x4cS"}["\x74ilx\x65e\x6f"]}=${${"\x47\x4c\x4f\x42A\x4cS"}["\x76t\x64qp\x62\x76\x65\x61\x6bf"]}."\x20O\x52\x20";${$tvnrnem}=${$fyorxyldwd}."(\n\x20 \x20\x20 \x20\x20   \x20 \x20 \x20\x20\x20  \x20\x20  \x20\t\t  \x20\x20 \x20\x20\x20DATE_AD\x44( C\x55\x52\x44\x41T\x45(\x20)\x20,\x20INTE\x52VAL ".intval(${${"G\x4cO\x42A\x4cS"}["\x6e\x77\x68\x6f\x74g\x70\x78\x64yb\x75"]})."\x20DAY\x20)\x20\x3e\x20m\x6dh.m\x61x_\x65x\x70\x69r\x79\x5f\x64ate \n\t\t   \x20\x20\x20 \x20\x20\x20\x20\x20\x20\x20\x20\x20   \x20\x20\x20\x20\x20\x20 \x20\x20 \x20  \x41\x4eD\x20\n\t\t\x20 \x20\x20 \x20\x20 \x20  \x20 \x20\x20\x20\x20\x20 \x20   \x20\x20\x20 \x20   \x20(a\x2er\x65m\x69nd\x65r_em\x61\x69l_\x64\x61\x74e \x49\x53 NUL\x4c \x4f\x52 \x44A\x54\x45\x5f\x41DD(\x61.r\x65\x6din\x64\x65r\x5fema\x69l\x5fdat\x65,\x20IN\x54E\x52VAL ".intval(${${"\x47\x4cO\x42AL\x53"}["\x6c\x65\x70\x6dm\x6cx"]})."\x20DA\x59)<\x20mmh\x2em\x61x_\x65\x78\x70i\x72y_\x64\x61t\x65)\n\t\x20\x20 \x20 \x20\x20 \x20\x20 \x20 \x20 \x20\x20\x20  \x20 \x20\x20\x20\x20 \x20  \x20\x20\x20  )";}${${"\x47L\x4fB\x41\x4c\x53"}["\x6dx\x77\x78d\x77\x70\x78d\x66"]}="\x53E\x4cECT \x64i\x73\x74in\x63t\x20\x61.i\x64_cu\x73tom\x65\x72\n\x20 \x20 \x20\x20\x20   \x20  \x20\x20\x20,c.las\x74\x6e\x61\x6d\x65\n \x20\x20\x20\x20  \x20\x20\x20\x20\x20\x20  \x20,c\x2efirst\x6ea\x6d\x65\n    \x20 \x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,c.\x65m\x61i\x6c\n\x20  \x20\x20    \x20\x20\x20\x20 \x20 ,\x6d\x6dh.max_ex\x70iry_\x64\x61te, I\x46N\x55L\x4c(D\x41TEDIF\x46(m\x6d\x68\x2ema\x78\x5fex\x70\x69\x72y\x5f\x64\x61te, C\x55\x52\x44\x41\x54\x45(\x20) ),\x30)\x20\x41S\x20\x64\x61y\x73_t\x6f_\x65x\x70\x69\x72\x65\n\t\t\t\t,\x6f\x2ei\x64_\x6ca\x6e\x67 \n\x20\x20\x20 \x20 \x20  \x20\x20\x20 \x20\x20 \x46\x52\x4f\x4d\x20\x60"._DB_PREFIX_."\x63\x75s\x74\x6fm\x65\x72_me\x6dbersh\x69p\x60 \x61\n\t\t\t\t\x49NNER\x20\x4a\x4fIN \n\t\t\t\t\t(\n\t\t\t\t\t\t\x53\x45\x4cEC\x54\x20cm\x31.id_\x63\x75\x73to\x6der,\x6d\x61\x78(\x6dh1\x2ee\x78p\x69ry_\x64a\x74\x65) a\x73\x20\x6da\x78_e\x78\x70\x69r\x79\x5f\x64\x61\x74\x65\n\t\t\t\t\t\tF\x52OM \x60"._DB_PREFIX_."c\x75s\x74o\x6der\x5f\x6d\x65m\x62ers\x68\x69\x70`\x20\x63m1\x20\n\t\t\t\t\t\tLEFT \x4aOIN\x20\x60"._DB_PREFIX_."m\x65\x6dbe\x72sh\x69\x70_hi\x73\x74o\x72\x79`\x20\x6dh1 \x4f\x4e (c\x6d\x31\x2e\x69\x64\x5fc\x75sto\x6d\x65r \x3d\x20mh\x31\x2ei\x64_\x63\x75s\x74\x6f\x6d\x65r A\x4eD\x20\x49F\x4e\x55\x4c\x4c(m\x68\x31\x2eis_can\x63e\x6cl\x65\x64,0)\x20=\x200)\n\t\t\t\t\t\tG\x72\x6fu\x70\x20\x42Y c\x6d1\x2e\x69\x64_\x63\x75\x73\x74o\x6de\x72\n\t\t\t\t\t) m\x6dh\x20ON\x20\x61\x2e\x69\x64\x5f\x63ust\x6f\x6der\x20\x3d\x20\x6dm\x68\x2ei\x64\x5f\x63\x75s\x74\x6f\x6d\x65\x72\n\t\t\t\t".CustomerMembership::JoinTables($cookie->id_lang)."\n\x20 \x20\x20 \x20\x20 \x20  \x20\x20\x20  \x57\x48\x45RE\x20c\x2e\x61ct\x69\x76\x65=1\x20\x41\x4e\x44 a.a\x63\x74\x69v\x61\x74\x65\x64=1\x20AN\x44 \x6d\x6d\x68.m\x61x_\x65\x78p\x69ry_date \x49\x53\x20NO\x54 \x4eU\x4cL\x20AN\x44 I\x46\x4e\x55\x4c\x4c(mh.i\x73\x5fc\x61\x6ecell\x65\x64,\x30)\x20=\x200\n\x20  \x20\x20    \x20\x20\x20\x20\x20\x20 A\x4e\x44 (".${${"\x47\x4c\x4fB\x41LS"}["\x76\x74\x64\x71\x70\x62\x76\x65\x61\x6b\x66"]}.") \n\x20       \x20 \x20 \x20  \x20O\x52\x44E\x52 BY \x64\x61\x79s_to\x5f\x65\x78p\x69re \x41\x53C\n\x20 \x20\x20\x20\x20 \x20 \x20\x20 \x20   \x4c\x49M\x49\x54 \x30,\x31\x30";${${"\x47\x4c\x4f\x42\x41LS"}["wi\x68\x62n\x61\x76\x78\x6c\x79"]}=Db::getInstance()->ExecuteS(${${"G\x4c\x4f\x42\x41\x4cS"}["o\x69s\x6a\x6dg\x6f\x62g\x64l"]});if(empty(${${"G\x4c\x4fBAL\x53"}["k\x78\x71\x69\x6b\x6c\x73a\x65\x67l"]}))return;${${"\x47L\x4f\x42AL\x53"}["\x71\x68\x75\x65un\x77\x67\x71b\x76"]}=new Shop(Configuration::get("P\x53_SH\x4f\x50\x5fDEF\x41\x55\x4c\x54"));foreach(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6b\x78q\x69\x6blsa\x65\x67l"]} AS${${"G\x4c\x4f\x42A\x4cS"}["\x62\x6c\x6c\x6e\x71\x62"]}){$ucdkjuomu="\x69\x73\x6f";$dswtblgcr="\x63\x75s\x74\x6f\x6de\x72";$wybsipd="\x69\x64\x5fl\x61ng";$vonmdsgkjwaj="c\x75\x73to\x6der";$kyirsxo="c\x75\x73t\x6f\x6d\x65r";$vvpukchcpld="i\x64_l\x61\x6e\x67";$glgsykeck="\x63\x75\x73\x74o\x6d\x65r";${${"\x47\x4cO\x42\x41L\x53"}["\x73\x6b\x6ek\x77xdz\x75c\x66\x6d"]}=array("{fi\x72s\x74\x6eam\x65}"=>${$vonmdsgkjwaj}["\x66\x69\x72\x73\x74na\x6de"],"{l\x61stnam\x65}"=>${$dswtblgcr}["\x6c\x61s\x74\x6e\x61\x6d\x65"],"{e\x6dai\x6c}"=>${$kyirsxo}["e\x6d\x61\x69l"],"{sh\x6fp_\x6ea\x6de}"=>Configuration::get("P\x53\x5f\x53\x48\x4f\x50_\x4e\x41M\x45"),"{sh\x6fp_u\x72l}"=>$shop->getBaseURL(),"{sho\x70_lo\x67o}"=>$shop->getBaseURL()."im\x67/\x6co\x67o.jp\x67","{d\x61ys_\x74o_e\x78\x70\x69\x72\x65}"=>${${"\x47\x4c\x4fBA\x4cS"}["\x62\x6c\x6c\x6e\x71\x62"]}["days\x5f\x74\x6f_\x65x\x70\x69\x72e"]);$iruiiiaqe="id\x5f\x6c\x61ng";${$wybsipd}=intval(${$glgsykeck}["id_la\x6eg"]);if(!${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x69\x6e\x78\x6e\x68\x70"]})${$vvpukchcpld}=Configuration::get("\x50S_\x4c\x41\x4e\x47\x5f\x44EF\x41\x55\x4c\x54");${${"\x47\x4c\x4f\x42A\x4cS"}["i\x68\x69b\x69yp\x76yn\x70\x67"]}=Language::getIsoById(${$iruiiiaqe});if(file_exists(dirname(__FILE__)."/\x6da\x69\x6c\x73/".${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x69\x68\x69\x62iy\x70v\x79n\x70\x67"]}."/\x65\x78\x70iration_\x72e\x6dind\x65r.\x74xt")AND file_exists(dirname(__FILE__)."/\x6dail\x73/".${$ucdkjuomu}."/\x65\x78pir\x61\x74\x69\x6fn\x5f\x72emin\x64\x65\x72\x2e\x68tm\x6c")){${"\x47\x4cOB\x41\x4c\x53"}["u\x65sj\x6aqq"]="\x69\x64\x5f\x6ca\x6e\x67";${"G\x4cO\x42\x41\x4cS"}["b\x6cxq\x65\x6d"]="d\x61t\x61";${"G\x4c\x4fB\x41\x4c\x53"}["\x64\x73\x6e\x64jlc\x7a\x65"]="\x63\x75\x73t\x6fmer";$fnhxdioo="\x73\x71\x6c";include_once(_PS_ROOT_DIR_."/\x6d\x6fd\x75\x6ces/\x61\x67il\x65m\x65\x6d\x62\x65\x72shi\x70/agileme\x6dbe\x72s\x68\x69\x70\x6d\x61\x69l\x65r\x2e\x70\x68p");$bhpszgwhq="sq\x6c";AgileMembershipMailer::SendTranslateSubject(${${"G\x4cO\x42\x41\x4cS"}["\x75\x65s\x6a\x6a\x71q"]},"e\x78pi\x72a\x74\x69\x6fn\x5f\x72e\x6d\x69\x6ed\x65r",${${"\x47\x4c\x4f\x42\x41LS"}["\x62lx\x71e\x6d"]},${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["ds\x6e\x64j\x6c\x63z\x65"]}["e\x6d\x61i\x6c"],${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x62\x6cl\x6eq\x62"]}["\x66irs\x74n\x61m\x65"]." ".${${"\x47LO\x42\x41L\x53"}["\x62l\x6c\x6e\x71\x62"]}["\x6ca\x73\x74na\x6d\x65"],NULL,NULL,NULL,NULL,dirname(__FILE__)."/\x6d\x61\x69\x6c\x73/");${$bhpszgwhq}="U\x50D\x41\x54\x45\x20`"._DB_PREFIX_."\x63u\x73t\x6f\x6de\x72_\x6d\x65m\x62\x65r\x73hip` \x20SET\x20\x72\x65\x6d\x69\x6eder_\x65m\x61i\x6c_\x64a\x74e\x3d\x43\x55\x52DAT\x45() \x57\x48\x45R\x45\x20\x69d\x5f\x63\x75s\x74\x6f\x6der\x3d".intval(${${"\x47\x4cO\x42AL\x53"}["\x62l\x6cn\x71\x62"]}["\x69\x64_\x63\x75st\x6fm\x65\x72"]);Db::getInstance()->Execute(${$fnhxdioo});}}}public static function IsProductInMembershipCategory($id_product){$wokhnloie="\x69\x64_\x70r\x6fduct";${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6fi\x73\x6a\x6d\x67o\x62\x67\x64\x6c"]}="\x53E\x4c\x45\x43T \x60id_\x63a\x74egor\x79\x60\x20\x66r\x6fm\x20\x60"._DB_PREFIX_."\x63a\x74\x65\x67ory_pr\x6fdu\x63\x74`\x20whe\x72\x65\x20\x60\x69\x64\x5f\x63\x61\x74\x65gory\x60=".Configuration::get("A\x47I\x4cE\x5fMEM\x42E\x52S\x48I\x50_C\x49D")." A\x4eD i\x64_\x70r\x6fduc\x74 \x3d".${$wokhnloie};${${"\x47\x4cO\x42\x41\x4cS"}["\x75\x76\x66d\x73we"]}=Db::getInstance()->getRow(${${"\x47L\x4fBA\x4c\x53"}["\x6f\x69sjm\x67ob\x67d\x6c"]});${"\x47L\x4f\x42\x41\x4cS"}["\x77h\x68\x78\x79\x69\x6e\x6d"]="r\x65\x73\x75\x6ct";if(isset(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x77\x68hx\x79\x69\x6e\x6d"]}["i\x64\x5f\x63\x61te\x67\x6fr\x79"])AND intval(${${"\x47\x4cO\x42\x41LS"}["\x75\x76f\x64\x73\x77\x65"]}["id\x5fcat\x65\x67\x6fr\x79"])>0)return true;return false;}function createMembershipData($id_order,$orderStatus){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x66\x63\x62dm\x63\x74"]="e\x78\x69\x73\x74s";${"G\x4c\x4fB\x41L\x53"}["\x6ft\x66\x65\x61s\x70"]="i\x64\x5f\x6fr\x64er";$ofljqsm="k\x65\x79";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["b\x76\x72o\x72g\x78b\x78"]="\x6fr\x64\x65\x72";${"G\x4c\x4fB\x41L\x53"}["f\x72i\x65\x6fd\x64\x69\x6a\x67\x6b"]="sq\x6c";require_once(dirname(__FILE__)."/C\x75s\x74\x6f\x6der\x4de\x6db\x65rs\x68\x69\x70.\x70\x68p");require_once(dirname(__FILE__)."/\x4de\x6dbers\x68\x69pT\x79\x70\x65.p\x68p");${"G\x4c\x4fB\x41\x4c\x53"}["\x6fn\x62kmi\x6f\x72\x6a"]="\x6f\x72\x64e\x72\x53\x74\x61\x74\x75\x73";${"GL\x4f\x42\x41\x4cS"}["e\x7a\x75\x62\x74\x6d\x77\x6b"]="c\x61\x72\x74";require_once(dirname(__FILE__)."/M\x65mbe\x72s\x68i\x70Histo\x72y.ph\x70");if(!isset(${${"\x47L\x4f\x42A\x4c\x53"}["\x6f\x6e\x62\x6b\x6dio\x72j"]}))return;if(!intval(${${"\x47\x4c\x4f\x42\x41\x4cS"}["ot\x66ea\x73\x70"]}))return;if($orderStatus->id!=_PS_OS_PAYMENT_ AND$orderStatus->id!=_PS_OS_WS_PAYMENT_)return;${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x62vr\x6fr\x67\x78\x62x"]}=new Order(${${"\x47\x4c\x4fBA\x4c\x53"}["\x6e\x76bi\x70\x6b"]});if(!Validate::isLoadedObject(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6e\x75\x6a\x67pw\x77q\x6f"]}))return;${${"GL\x4f\x42A\x4cS"}["f\x72\x69e\x6f\x64\x64i\x6a\x67\x6b"]}="S\x45\x4cE\x43\x54\x20id_\x6fr\x64\x65\x72\x20FROM\x20\x60"._DB_PREFIX_."\x6d\x65mb\x65\x72s\x68i\x70_\x68\x69\x73to\x72y`\x20W\x48\x45\x52E id_\x6f\x72d\x65\x72=".${${"\x47LO\x42\x41\x4c\x53"}["\x6e\x76\x62\x69\x70k"]}."\x20\x41\x4e\x44 i\x64\x5f\x63u\x73tome\x72=".$order->id_customer;${${"G\x4c\x4f\x42\x41\x4c\x53"}["q\x63\x69y\x6a\x62\x64\x6dy"]}=Db::getInstance()->getRow(${${"G\x4c\x4f\x42A\x4c\x53"}["\x6f\x69\x73j\x6d\x67\x6f\x62\x67\x64\x6c"]});if(isset(${${"GL\x4fB\x41\x4cS"}["f\x63bd\x6dc\x74"]})AND intval(${${"G\x4cO\x42\x41LS"}["\x71c\x69\x79j\x62d\x6d\x79"]}["\x69\x64_\x6fr\x64\x65r"])>0)return;${${"\x47\x4cO\x42\x41\x4c\x53"}["\x65\x7a\x75\x62tm\x77k"]}=new Cart($order->id_cart);if(!Validate::isLoadedObject(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x72\x70\x73\x69xw\x67\x71\x70\x6e\x6f"]}))return;foreach($cart->getProducts()AS${$ofljqsm}=>${${"G\x4c\x4fB\x41L\x53"}["\x63\x6af\x71\x62\x63k\x77b"]}){$thvroelaxtc="t\x6fd\x61\x79";${"\x47\x4cOB\x41L\x53"}["ouh\x74\x7axf\x69w\x68"]="\x70\x72\x6f\x64\x75\x63\x74";$bcjovyx="\x70ro\x64u\x63\x74";if(${${"G\x4c\x4f\x42\x41L\x53"}["\x63\x6af\x71\x62ckw\x62"]}["pr\x69ce"]==0 AND CustomerMembership::hasUsedBefore(${${"\x47\x4c\x4f\x42A\x4c\x53"}["ou\x68\x74z\x78\x66iw\x68"]}["\x69d\x5fpr\x6fdu\x63\x74"],$order->id_customer)){self::log_message("\x66\x72\x65\x65\x20m\x65\x6dbersh\x69p\x20\x73ki\x70p\x65\x64...");continue;}${"G\x4cOBA\x4c\x53"}["\x66\x65\x6dj\x72e\x72j\x66v"]="\x70rod\x75\x63\x74";$eqoektd="me\x6d\x62\x65\x72\x73\x68ip\x74\x79p\x65";${"G\x4c\x4f\x42\x41\x4cS"}["\x61\x75\x7a\x68b\x65\x77\x69"]="\x6d\x65mb\x65rs\x68\x69\x70\x74y\x70\x65";if(!self::IsProductInMembershipCategory(intval(${${"\x47LOBA\x4c\x53"}["\x66\x65\x6d\x6ar\x65rj\x66\x76"]}["i\x64\x5fp\x72\x6f\x64\x75ct"])))continue;${$eqoektd}=MembershipType::getMembershipTypeByProductID(intval(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x63j\x66\x71\x62\x63kwb"]}["\x69d\x5f\x70r\x6f\x64\x75\x63t"]),$cart->id_lang);$lkicmclfx="\x6demb\x65\x72s\x68ip\x74\x79\x70\x65";${"\x47L\x4f\x42\x41L\x53"}["m\x62\x62i\x67c\x7a\x6d\x6b\x62"]="\x64\x61t\x65_\x73t\x61\x72\x74";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x6d\x6f\x76\x67\x71\x79u\x61"]}=CustomerMembership::getIdByCustomerId(intval($order->id_customer));${${"G\x4cO\x42\x41\x4c\x53"}["\x76u\x6d\x61cu\x61\x76"]}=new CustomerMembership(intval(${${"\x47\x4c\x4fBA\x4c\x53"}["m\x6f\x76g\x71\x79\x75\x61"]}));if(!Validate::isLoadedObject(${${"G\x4c\x4f\x42\x41\x4cS"}["\x76\x75\x6d\x61\x63\x75\x61\x76"]})){$membership->id_customer=intval($order->id_customer);$membership->activated=0;$membership->date_add=date("\x59-\x6d-d H:\x69:s");$membership->id_membership_type=${${"\x47\x4cO\x42\x41\x4c\x53"}["\x74w\x69\x62\x67\x77"]}["id_me\x6db\x65\x72s\x68ip_\x74yp\x65"];$membership->origin=1;$membership->save();}${"G\x4cO\x42A\x4c\x53"}["\x6d\x73r\x73q\x6f"]="\x6d\x65\x6d_q\x75\x61\x6eti\x74\x79";${${"\x47\x4c\x4fB\x41\x4cS"}["\x69\x76ka\x68\x78\x71\x70"]}=intval(${${"\x47\x4cO\x42\x41L\x53"}["\x63\x6a\x66q\x62ck\x77b"]}["\x63art_\x71\x75\x61\x6e\x74it\x79"]);if(${$bcjovyx}["pr\x69ce"]==0)${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6d\x73r\x73\x71\x6f"]}=1;${${"G\x4c\x4f\x42\x41\x4c\x53"}["c\x76\x6c\x63\x6b\x7a\x70"]}=new MembershipHistory();$membership_his->id=0;$qeipbrnp="\x6d\x65\x6db\x65\x72\x73hi\x70\x74\x79\x70\x65";$membership_his->id_customer=$order->id_customer;$mlypgcidckt="\x73\x71\x6c";$membership_his->id_product=intval(${${"\x47LOB\x41L\x53"}["c\x6a\x66\x71\x62\x63\x6b\x77b"]}["id_p\x72\x6fd\x75\x63t"]);$membership_his->id_product_attribute=intval(${${"\x47\x4c\x4fB\x41LS"}["\x63\x6af\x71\x62c\x6bwb"]}["\x69\x64_\x70ro\x64u\x63\x74\x5fat\x74r\x69\x62\x75\x74\x65"]);$membership_his->quantity=${${"\x47\x4c\x4fBAL\x53"}["\x69v\x6b\x61h\x78\x71\x70"]};$ldjbpjfuzx="s\x71\x6c";$membership_his->id_order=intval($order->id);$membership_his->id_order_state=intval($orderStatus->id);$membership_his->interval=${$lkicmclfx}["in\x74e\x72v\x61\x6c"];$membership_his->units=intval(${${"G\x4cO\x42A\x4c\x53"}["a\x75\x7a\x68\x62\x65w\x69"]}["\x75\x6eit\x73"]);$membership_his->is_cancelled=0;${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x72\x61\x66psv\x6fu\x70b\x69"]}=CustomerMembership::getExpiryDate($order->id_customer,$cart->id_lang);${$thvroelaxtc}=new DateTime(date("\x59-\x6d-\x64 H:\x69:\x73"));if(${${"\x47L\x4fB\x41LS"}["\x6dbb\x69g\x63\x7am\x6b\x62"]}<${${"\x47\x4cO\x42A\x4c\x53"}["\x73d\x72dne\x62\x70\x62k\x66"]})${${"\x47\x4c\x4fB\x41L\x53"}["\x72a\x66\x70s\x76\x6fup\x62\x69"]}=${${"\x47LOB\x41\x4cS"}["\x73\x64\x72\x64\x6ee\x62\x70\x62k\x66"]};self::log_message("\x63r\x65a\x74\x65\x4d\x65\x6d\x62\x65\x72shi\x70Data():\x64a\x74\x65_\x73t\x61\x72t:\r\n".$date_start->format("\x59-\x6d-d H:i:\x73"));$membership_his->date_add=$today->format("Y-\x6d-d\x20H:\x69:s");$membership_his->date_start=$date_start->format("Y-\x6d-\x64 \x48:\x69:s");$membership_his->save();${$mlypgcidckt}="\x55\x50D\x41T\x45 \x60"._DB_PREFIX_."mem\x62ers\x68ip\x5f\x68is\x74\x6fry` S\x45T\x20\x65x\x70iry_\x64a\x74e\x20\x3d\x20 \x44ATE_\x41\x44\x44(d\x61te\x5fst\x61rt,\x49N\x54ER\x56A\x4c\x20".(intval(${${"\x47L\x4f\x42\x41\x4c\x53"}["t\x77i\x62\x67\x77"]}["u\x6eits"])*${${"\x47\x4cO\x42\x41\x4c\x53"}["\x69vka\x68\x78\x71p"]})." ".${$qeipbrnp}["\x69\x6e\x74er\x76a\x6c"].")\x20\x57H\x45\x52E i\x64_members\x68\x69\x70_h\x69st\x6f\x72y=".$membership_his->id;self::log_message("c\x72e\x61\x74\x65\x4dem\x62\x65\x72sh\x69pD\x61t\x61():s\x71l fo\x72\x20u\x70\x64ate \x65x\x70iry dat\x65\r\n".${${"G\x4c\x4fB\x41\x4cS"}["\x6fi\x73\x6a\x6d\x67o\x62g\x64\x6c"]});Db::getInstance()->Execute(${${"G\x4c\x4fBA\x4cS"}["\x6f\x69sj\x6d\x67\x6f\x62\x67\x64l"]});${${"\x47\x4c\x4f\x42\x41L\x53"}["oi\x73\x6am\x67\x6f\x62\x67\x64l"]}="UP\x44AT\x45\x20`"._DB_PREFIX_."c\x75\x73\x74\x6f\x6de\x72\x5f\x6d\x65\x6dbe\x72\x73hi\x70\x60 S\x45T ac\x74ivated = \x31,\x20ac\x74iv\x61t\x69\x6f\x6e\x5f\x64\x61\x74\x65 \x3d\x20'".date("Y-\x6d-d\x20\x48:\x69:s")."' WH\x45\x52\x45 ac\x74i\x76\x61t\x65\x64\x3d0\x20\x41N\x44\x20\x69d\x5f\x63ustome\x72\x3d".$order->id_customer;self::log_message("\x63\x72\x65a\x74eM\x65mb\x65rsh\x69\x70\x44\x61t\x61():\x73ql\x20\x66o\x72\x20up\x64\x61\x74e \x61c\x74\x69v\x61tio\x6e\x20d\x61\x74e\r\n".${${"\x47\x4c\x4fB\x41L\x53"}["oi\x73\x6a\x6d\x67ob\x67\x64\x6c"]});Db::getInstance()->Execute(${$ldjbpjfuzx});}CustomerMembership::updateEffectiveMembershipGroup($order->id_customer);self::log_message("\x63\x72\x65a\x74eMe\x6d\x62\x65rs\x68ipData:En\x64");return"";}public function getL($key){${${"GL\x4f\x42\x41\x4c\x53"}["\x71\x66\x6dm\x69l\x78"]}=array("\x57\x65\x6c\x63om\x65"=>$this->l('Welcome'),"Me\x6d\x62e\x72\x73h\x69\x70\x20A\x63\x74i\x76\x61t\x69\x6f\x6e"=>$this->l('Membership Activation'),"\x4demb\x65\x72\x73\x68ip \x45\x78pi\x72\x61\x74i\x6f\x6e \x52e\x6d\x69\x6e\x64er"=>$this->l('Membership Expiration Reminder'),"M\x65\x6d\x62e\x72shi\x70 c\x61\x6e\x20\x6e\x6f\x74 b\x65\x20\x6f\x72der\x65\x64\x20\x74o\x67e\x74her w\x69th \x6fth\x65\x72 \x70r\x6f\x64\x75\x63\x74\x73"=>$this->l('Membership can not be ordered together with other products'),"\x4fn\x6cy \x63u\x73\x74o\x6d\x65\x72s w\x69th\x20\x76a\x6c\x69\x64\x20memb\x65rs\x68\x69\x70 \x63\x61\x6e\x20\x70\x65\x72\x66or\x6d \x70ur\x63hase"=>$this->l('Only customers with valid membership can perform purchase'),"\x53ubs\x63ri\x62e Me\x6db\x65\x72\x73h\x69p"=>$this->l('Subscribe Membership'),"\x4d\x65\x6d\x62e\x72s\x68i\x70\x20\x63\x61n no\x74\x20b\x65\x20\x6f\x72\x64\x65\x72ed\x20\x74o\x67e\x74her\x20\x77it\x68\x20\x6fther p\x72\x6f\x64uc\x74\x73, \x65\x78is\x69\x6eg\x20p\x72\x6fducts\x20i\x6e yo\x75\x72\x20s\x68op\x70\x69ng \x63\x61r\x74\x20\x77i\x6c\x6c\x20b\x65\x20c\x6c\x65\x61r\x65\x64. Ple\x61s\x65 \x63onfi\x72m\x20\x69f\x20\x79\x6f\x75\x20w\x6f\x75\x6c\x64\x20\x6ci\x6b\x65\x20to\x20p\x72o\x63ee\x64."=>$this->l('Membership can not be ordered together with other products, exising products in your shopping cart will be cleared. Please confirm if you would like to proceed.'));return${${"G\x4c\x4fB\x41\x4c\x53"}["\x71f\x6dm\x69\x6c\x78"]}[${${"\x47LO\x42\x41\x4cS"}["\x75\x6a\x6b\x68\x6cx\x74v\x6d\x6f\x70"]}];}public static function disable_expired_sellers(){${"G\x4c\x4fB\x41\x4c\x53"}["\x75\x74\x69\x79\x64j\x6a\x77\x79"]="\x72\x6f\x77";if(!Module::isInstalled("a\x67il\x65multi\x70le\x73ell\x65r")OR Configuration::get("A\x47I\x4c\x45_M\x45\x4d\x42E\x52\x53\x48\x49\x50\x5f\x53EL\x4cER_\x49NTE")==0)return;${${"G\x4c\x4fB\x41\x4c\x53"}["\x6fi\x73\x6a\x6d\x67\x6fb\x67\x64\x6c"]}="\x53\x45\x4cE\x43\x54 mh\x2eid_\x63usto\x6d\x65\x72, mh.\x65x\x70i\x72\x79\x5f\x64a\x74e, e\x2e\x69d_emp\x6c\x6fy\x65e\n\t\t\t\tF\x52\x4f\x4d\n\t\t\t\t(\n\t\t\t\t\t\x53ELECT i\x64\x5f\x63u\x73\x74\x6fme\x72,\x20MA\x58(\x20\x20\x60\x65xp\x69\x72y\x5fdate\x60\x20) \x20\x60\x65x\x70iry\x5f\x64\x61\x74\x65\x60\x20\x20\n\t\t\t\t\tF\x52\x4f\x4d\x20"._DB_PREFIX_."\x6d\x65m\x62\x65r\x73\x68\x69p_\x68i\x73\x74\x6fry\n\t\t\t\t\t\x47\x52O\x55\x50 \x42Y\x20i\x64_c\x75\x73\x74o\x6d\x65\x72\n\t\t\t\t)\x41S\x20\x6d\x68\x20\n\t\t\t\t\x4cEFT J\x4f\x49\x4e\x20"._DB_PREFIX_."\x73\x65\x6c\x6ce\x72inf\x6f\x20si\x20O\x4e mh\x2e\x69\x64_cu\x73tome\x72 =\x20\x73i.\x69d\x5f\x63\x75s\x74\x6fm\x65r\n\t\t\t\tL\x45F\x54 J\x4f\x49N\x20"._DB_PREFIX_."\x65\x6dployee\x20e \x4fN\x20\x73i\x2e\x69d\x5f\x73e\x6cl\x65r = \x65\x2e\x69d_\x65\x6d\x70loy\x65\x65\n\t\t\t\tW\x48\x45R\x45\x20e\x2eac\x74\x69v\x65 = \x31 AND \x65x\x70\x69r\x79\x5fdat\x65 \x3c\x20\x43\x55RR\x45\x4e\x54_TIME\x53T\x41M\x50\n\t\t\t\t";${"GL\x4f\x42A\x4cS"}["\x6a\x6c\x75\x63\x70\x64\x73\x61\x65"]="\x72\x6fw\x73";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x67d\x65h\x66m\x76kok"]="\x73\x71\x6c";${${"GL\x4fBAL\x53"}["\x68\x68\x7av\x62\x6b\x66"]}=Db::getInstance()->ExecuteS(${${"\x47LO\x42AL\x53"}["\x67\x64e\x68\x66\x6dv\x6bok"]});${"\x47\x4cOB\x41\x4cS"}["\x72\x73\x62\x62\x65\x7a\x6c\x6a\x68"]="\x72\x6f\x77s";if(empty(${${"\x47LOBA\x4c\x53"}["\x6a\x6c\x75c\x70\x64\x73a\x65"]}))return;foreach(${${"\x47LOB\x41\x4cS"}["\x72\x73\x62\x62\x65\x7al\x6a\x68"]} as${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x75\x74i\x79\x64\x6a\x6a\x77\x79"]}){${"GL\x4f\x42\x41\x4cS"}["\x6a\x66\x79p\x66rb\x6a"]="\x73\x71\x6c";${${"\x47L\x4f\x42\x41\x4cS"}["\x6fis\x6a\x6d\x67ob\x67\x64l"]}="UPD\x41\x54E\x20"._DB_PREFIX_."\x65m\x70l\x6f\x79ee \x73\x65\x74 a\x63\x74iv\x65 = 0 WH\x45\x52E i\x64\x5f\x65mploy\x65e=".intval(${${"GL\x4f\x42A\x4cS"}["n\x75\x76\x76g\x62s\x79\x62a\x6dm"]}["id_e\x6dpl\x6fy\x65e"]);DB::getInstance()->Execute(${${"\x47\x4cOBAL\x53"}["\x6af\x79\x70\x66r\x62j"]});AgileSellerManager::disableSellerProducts((int)${${"\x47\x4cOB\x41LS"}["\x6euv\x76gb\x73\x79\x62am\x6d"]}["i\x64\x5fe\x6dp\x6c\x6fye\x65"]);}}public function process_mymembership(){global$cookie,$smarty;${"G\x4c\x4f\x42\x41L\x53"}["\x6dcs\x62ocjx\x6b"]="\x74o\x64\x61\x79";${${"\x47\x4cOBA\x4c\x53"}["x\x7a\x66m\x63l\x64\x62\x77"]}=0;${${"\x47\x4cO\x42\x41\x4cS"}["\x6a\x74\x71\x69s\x71y\x74\x76f"]}=array();$rmtvvzsjnlf="me\x6dber\x73hi\x70";$nlzsvi="m\x65\x6d\x62\x65\x72\x73\x68\x69\x70";$bsyqwjpy="id\x43at\x65\x67\x6fr\x79";${${"\x47LO\x42\x41\x4c\x53"}["mo\x76\x67\x71\x79\x75\x61"]}=CustomerMembership::getIdByCustomerId(intval($cookie->id_customer));${"\x47\x4cOB\x41L\x53"}["\x74\x61i\x76y\x6ady\x79"]="\x65\x72\x72o\x72\x73";${$nlzsvi}=new CustomerMembership(intval(${${"\x47\x4cOB\x41\x4c\x53"}["\x6do\x76\x67\x71\x79\x75\x61"]}));if(!Validate::isLoadedObject(${$rmtvvzsjnlf})){$membership->id_customer=intval($cookie->id_customer);$membership->activated=0;$membership->date_add=date("\x59-\x6d-d H:i:\x73");}$jsgqyeoveop="la\x6e\x67\x75\x61\x67\x65";if(sizeof($_POST)){${"\x47L\x4f\x42\x41L\x53"}["l\x73j\x74t\x62\x76t\x73n\x66"]="key";${${"G\x4c\x4fB\x41L\x53"}["ns\x75\x78y\x64y\x77"]}=array("\x69d\x5fcus\x74\x6f\x6d\x65\x72","\x61\x63\x74iv\x61\x74e\x64","\x61\x63t\x69\x76\x61\x74i\x6fn\x5fd\x61te","ori\x67\x69n","re\x6d\x69\x6e\x64e\x72\x5f\x65m\x61\x69\x6c_\x64at\x65","\x64\x61\x74\x65\x5f\x61\x64\x64");${${"\x47L\x4fB\x41\x4c\x53"}["\x6f\x79\x6a\x71m\x72\x67\x62\x7a"]}=$membership->getFields();${"G\x4cO\x42\x41\x4c\x53"}["\x67\x73\x62\x6d\x65\x74\x6a\x66\x62m"]="\x66\x69\x65\x6cds";foreach(${${"\x47\x4cOB\x41\x4c\x53"}["gs\x62m\x65\x74\x6a\x66b\x6d"]} AS${${"\x47\x4c\x4f\x42AL\x53"}["\x6c\x73\x6a\x74\x74\x62\x76t\x73n\x66"]}=>${${"GLOB\x41\x4c\x53"}["\x6f\x64\x62nc\x6e\x63\x67\x70"]}){$toqjqplpbl="\x6be\x79";${"\x47\x4c\x4f\x42A\x4c\x53"}["ah\x71\x62\x69\x6b\x6efn\x79n\x64"]="\x6b\x65y";$hxxduanff="\x6b\x65\x79";if(!in_array(${$hxxduanff},${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6e\x73\x75\x78y\x64y\x77"]}))$membership->{${$toqjqplpbl}}=key_exists(${${"\x47\x4c\x4fBALS"}["u\x6a\x6b\x68lxt\x76\x6d\x6f\x70"]},$_POST)?trim($_POST[${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x61hq\x62\x69knf\x6ey\x6e\x64"]}]):0;}}if(Tools::isSubmit("s\x75b\x6d\x69tMem\x62er\x73\x68\x69\x70")){if(!sizeof(${${"GL\x4f\x42\x41\x4c\x53"}["j\x74\x71\x69\x73qyt\x76\x66"]})){$membership->id_membership_type=intval($_POST["\x69\x64\x5f\x6dem\x62\x65\x72\x73\x68\x69\x70_t\x79\x70\x65"]);if($membership->save()){${"G\x4c\x4fB\x41\x4c\x53"}["\x6fkg\x65\x74\x67"]="c\x6f\x6e\x66\x69r\x6d\x61\x74i\x6f\x6e";${${"\x47LOB\x41\x4c\x53"}["\x6f\x6b\x67e\x74\x67"]}=1;}else{${${"\x47\x4c\x4fB\x41\x4cS"}["\x6a\x74\x71\x69s\x71yt\x76\x66"]}[]=Tools::displayError("i\x6dpossi\x62\x6c\x65 t\x6f u\x70\x64\x61t\x65 \x69nfor\x6dation");}}}else{$_POST=array_map("\x73\x74r\x69\x70\x73\x6c\x61shes",$membership->getFields());}${${"GL\x4f\x42\x41\x4c\x53"}["\x74\x70\x72\x66\x6d\x78\x68"]}=intval(Configuration::get("A\x47IL\x45_\x4d\x45\x4d\x42ER\x53H\x49P\x5fCID"));${${"\x47LO\x42AL\x53"}["\x65\x71\x75\x67\x63nh\x75r\x6b\x72"]}=MembershipType::getMembershipTypes(${$bsyqwjpy},intval($cookie->id_lang));${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["p\x73\x68t\x73a\x72"]}=CustomerMembership::getExpiryDate($membership->id_customer,$cookie->id_lang);${${"\x47L\x4f\x42ALS"}["\x6d\x63\x73\x62\x6f\x63j\x78\x6b"]}=new DateTime(date("Y-m-d H:i:\x73"));${${"\x47\x4cOB\x41LS"}["\x66\x77qhpk\x77\x74\x64"]}=(${${"\x47\x4c\x4fB\x41L\x53"}["p\x73\x68t\x73\x61\x72"]}>=${${"G\x4cO\x42\x41L\x53"}["sdr\x64n\x65bpb\x6bf"]});${${"G\x4cOB\x41\x4c\x53"}["\x6f\x76\x70h\x67\x6a\x71\x69\x76\x6b"]}=CustomerMembership::getMembershipsForCsutomer($cookie->id_customer,$cookie->id_lang);${"\x47\x4c\x4f\x42A\x4c\x53"}["\x74ryj\x79fu\x63\x76d\x76"]="m\x65\x6d\x62\x65\x72sh\x69\x70";${$jsgqyeoveop}=new Language($cookie->id_lang);$smarty->assign(array("mem\x62e\x72\x73h\x69\x70\x74\x79p\x65\x73"=>${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x65qu\x67\x63\x6eh\x75rk\x72"]},"\x6fr\x69\x67i\x6e\x73"=>CustomerMembership::${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x63\x76y\x67\x69\x61\x62c\x6a\x6fvt"]},"\x6de\x6d\x62\x65\x72s\x68ip_\x63\x69d"=>intval(Configuration::get("AGI\x4cE\x5fM\x45M\x42\x45RSH\x49\x50\x5fCID")),"m\x65m\x62ers\x68\x69p"=>${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x74\x72\x79\x6ay\x66\x75\x63\x76\x64\x76"]},"\x63o\x6ef\x69rm\x61ti\x6f\x6e"=>${${"\x47\x4c\x4f\x42\x41LS"}["\x78\x7a\x66\x6d\x63\x6c\x64\x62\x77"]},"exp\x69ry\x5f\x64a\x74\x65"=>$expiry_date->format("Y-m-d\x20H:\x69:\x73"),"mem\x62\x65\x72s\x68\x69p_\x76\x61l\x69d"=>${${"\x47\x4c\x4fB\x41\x4c\x53"}["f\x77q\x68\x70\x6b\x77\x74\x64"]},"\x63\x61\x74lin\x6b"=>$this->getCatLink(),"m\x65m\x62er\x73\x68i\x70_h\x69s\x74\x6fr\x79"=>${${"G\x4c\x4f\x42ALS"}["ov\x70\x68\x67jq\x69\x76\x6b"]},"er\x72\x6fr\x73"=>${${"GL\x4fB\x41L\x53"}["\x74\x61\x69\x76y\x6a\x64\x79\x79"]},"u\x73\x65\x72_\x64a\x74e_f\x6frma\x74"=>$language->date_format_full,"\x6de\x6db\x65\x72sh\x69p_\x63\x61\x6e\x63\x65l\x6det\x68od"=>intval(Configuration::get("A\x47\x49LE_\x4dE\x4dBER\x53\x48\x49\x50\x5fCA\x4eC\x45L_ME\x54H\x4fD"))));Hook::exec("di\x73p\x6cayCu\x73\x74\x6fmer\x41\x63c\x6f\x75\x6e\x74F\x6frm\x54\x6fp");Tools::safePostVars();}public function getCatLink(){$ibjqoydyboq="\x69\x64C\x61t\x65\x67\x6f\x72\x79";global$link,$cookie;${$ibjqoydyboq}=intval(Configuration::get("\x41G\x49\x4c\x45\x5fM\x45\x4d\x42\x45RS\x48I\x50\x5f\x43\x49D"));${"\x47L\x4f\x42A\x4c\x53"}["eq\x63\x69c\x63\x6e\x75q\x6c"]="\x69\x64\x43\x61\x74\x65\x67or\x79";${"\x47\x4c\x4fBA\x4c\x53"}["\x75\x6f\x6f\x75\x70\x63\x75\x78\x74f\x72"]="\x6c\x69\x6e\x6b\x5fb\x61se";$aqtvbny="l\x69\x6e\x6b\x5f\x62\x61\x73e";${${"\x47L\x4f\x42\x41\x4c\x53"}["\x75o\x6f\x75\x70c\x75xt\x66r"]}=$link->getCategoryLink(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x65\x71\x63\x69\x63cnu\x71\x6c"]},Category::getLinkRewrite(${${"\x47\x4cO\x42\x41L\x53"}["\x74p\x72fmx\x68"]},(int)($cookie->id_lang)),(int)($cookie->id_lang));return${$aqtvbny};}private function getModuleLinkedCategory(){$npcttbq="\x69\x6da\x67e\x75\x72l";${"\x47\x4cOBA\x4c\x53"}["\x66\x7ax\x7a\x6dk\x71\x64i"]="c\x61\x74e\x67o\x72\x79";${"\x47LO\x42A\x4cS"}["\x71\x73\x66\x75u\x6fg\x73"]="c\x61t\x65g\x6f\x72y";global$cookie;$pvkymaggip="\x61\x64\x76\x61\x6e\x63\x65\x64\x74y\x70\x65";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x78\x64\x7a\x6e\x77\x6f\x70\x71jj\x63\x6c"]="\x62\x61s\x69cp\x72od\x75\x63\x74";include_once(_PS_ROOT_DIR_."/m\x6f\x64\x75les/a\x67\x69\x6c\x65m\x65\x6dbe\x72s\x68\x69\x70/M\x65mb\x65\x72\x73\x68\x69p\x54y\x70\x65\x2eph\x70");${${"\x47\x4c\x4f\x42A\x4c\x53"}["y\x6dd\x63b\x71\x72u\x77"]}=(int)Configuration::get("A\x47I\x4cE\x5fM\x45MBE\x52S\x48\x49P_CI\x44");${${"GL\x4f\x42\x41\x4c\x53"}["\x69\x6bl\x6a\x73\x6ee\x71\x67"]}=new Category(${${"\x47LO\x42AL\x53"}["\x79\x6ddc\x62qruw"]});if(Validate::isLoadedObject(${${"\x47L\x4f\x42\x41L\x53"}["\x71s\x66\x75uo\x67s"]}))return${${"G\x4cOB\x41\x4c\x53"}["\x69\x6bl\x6a\x73\x6e\x65q\x67"]};${${"G\x4c\x4fB\x41L\x53"}["f\x7a\x78\x7amk\x71d\x69"]}=AgileHelper::createCategoryByName("\x4d\x65\x6dbe\x72s\x68i\x70\x73");${"G\x4c\x4fBA\x4c\x53"}["\x61\x64\x6cy\x79df\x73\x77a\x62"]="\x62\x61\x73\x69ct\x79\x70e";${${"\x47L\x4fB\x41LS"}["\x6d\x77\x78m\x67y\x69\x72nc\x6b"]}=Tools::getShopDomain(true,true).__PS_BASE_URI__."/mo\x64\x75\x6ces/\x61\x67il\x65\x6dembersh\x69\x70/\x69\x6d\x61g\x65s/\x6d\x65mber\x73\x68ips\x2ej\x70g";if(!AgileHelper::addCategoryImage($category->id,${$npcttbq})){$this->_errors[]=$this->l('Failed to add a image for Memberships category.');}${${"G\x4c\x4f\x42\x41\x4c\x53"}["xd\x7a\x6ew\x6f\x70\x71\x6aj\x63\x6c"]}=$this->prepareMembershipProduct($category->id,"\x62a\x73ic\x20me\x6d\x62ersh\x69p",50);${${"GL\x4f\x42ALS"}["\x61\x64l\x79\x79\x64f\x73\x77\x61\x62"]}=MembershipType::getMembershipTypeByProductID($basicproduct->id,$cookie->id_lang);$uqeylbqbkb="\x61\x64v\x61\x6e\x63\x65\x64\x70r\x6f\x64u\x63\x74";if(!Validate::isLoadedObject(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x67\x75\x72df\x71q\x65\x75p"]})){${"\x47LO\x42\x41LS"}["\x68\x67\x6dix\x74\x6dl\x78\x7abe"]="\x62\x61s\x69cty\x70\x65";${${"G\x4cOBALS"}["\x68g\x6d\x69\x78tml\x78\x7a\x62\x65"]}=$this->prepareDefaultMembershipType($basicproduct->id,"MO\x4eTH",1,1);}${$uqeylbqbkb}=$this->prepareMembershipProduct($category->id,"a\x64\x76\x61n\x63ed m\x65\x6db\x65\x72sh\x69p",100);${${"\x47\x4cOB\x41LS"}["bqk\x6a\x77\x64\x66\x7a\x77p\x7ay"]}=MembershipType::getMembershipTypeByProductID($advancedproduct->id,$cookie->id_lang);if(!Validate::isLoadedObject(${$pvkymaggip})){${${"\x47\x4cO\x42A\x4c\x53"}["\x62q\x6bj\x77df\x7a\x77pz\x79"]}=$this->prepareDefaultMembershipType($advancedproduct->id,"MON\x54H",6,1);}return${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x69k\x6c\x6as\x6e\x65\x71\x67"]};}private function prepareMembershipProduct($id_category,$name,$price){${"G\x4cO\x42\x41\x4c\x53"}["\x6eu\x65\x6blr\x79\x72i\x65"]="\x70\x72\x69\x63\x65";${"\x47LO\x42\x41\x4cS"}["\x6d\x77\x62ci\x78\x6d\x6f\x68"]="p\x72o\x64u\x63\x74";$crtobay="\x69\x64\x5f\x63\x61\x74\x65\x67o\x72\x79";${${"GLO\x42A\x4c\x53"}["c\x6a\x66qbc\x6b\x77b"]}=new Product();${${"G\x4cO\x42A\x4c\x53"}["\x6dwb\x63ixm\x6f\x68"]}=AgileHelper::createProductWithBasics(${$crtobay},${${"\x47LO\x42\x41\x4c\x53"}["\x67\x74\x77\x63m\x68\x71\x61\x6e\x72\x77"]},${${"GL\x4fBAL\x53"}["n\x75\x65\x6bl\x72\x79\x72\x69e"]});$brfnbclp="na\x6d\x65";${${"\x47\x4c\x4fBAL\x53"}["\x6dw\x78\x6dg\x79irn\x63\x6b"]}=Tools::getShopDomain(true,true).__PS_BASE_URI__."/m\x6f\x64\x75\x6ces/agi\x6ce\x6d\x65m\x62e\x72\x73h\x69p/\x69m\x61g\x65s/".strtolower(str_replace("\x20","",${$brfnbclp}))."\x2ejp\x67";AgileHelper::addProductImage($product->id,${${"\x47LOBAL\x53"}["\x6d\x77x\x6d\x67\x79\x69\x72n\x63\x6b"]});${"\x47L\x4fB\x41\x4c\x53"}["\x71jc\x6b\x72\x76"]="pr\x6fdu\x63\x74";return${${"\x47\x4c\x4fBA\x4c\x53"}["q\x6a\x63\x6br\x76"]};}private function prepareDefaultMembershipType($id_product,$interval,$units,$id_group=1){${"\x47LO\x42\x41\x4cS"}["sfi\x6b\x62o\x66z"]="id_p\x72\x6f\x64\x75\x63\x74";include_once(_PS_ROOT_DIR_."/\x6d\x6f\x64\x75\x6c\x65\x73/a\x67\x69l\x65m\x65\x6d\x62e\x72s\x68i\x70/Memb\x65\x72\x73\x68\x69\x70\x54yp\x65\x2e\x70\x68p");${${"GL\x4fBA\x4c\x53"}["f\x62\x6d\x77\x71\x74\x6b"]}=new MembershipType();$membertype->id_product=${${"G\x4c\x4f\x42\x41L\x53"}["\x73\x66\x69\x6b\x62\x6ff\x7a"]};$membertype->interval=${${"\x47\x4c\x4fB\x41L\x53"}["\x72\x6al\x63\x69\x72j\x6c\x67\x70\x63"]};$membertype->units=${${"G\x4c\x4f\x42\x41L\x53"}["\x69\x64\x6f\x78r\x66mh"]};$membertype->id_group=${${"\x47\x4cO\x42\x41L\x53"}["\x63vf\x78m\x65\x6b\x76\x70"]};$membertype->save();}}
?>